<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Neighborhood Analysis - Population and the Census</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../favicon.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Neighborhood Analysis</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../syllabus/index.html">
 <span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../schedule/index.html">
 <span class="menu-text">Schedule</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../assignments/index.html">
 <span class="menu-text">Assignments</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../howto/index.html">
 <span class="menu-text">How To</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../resources/index.html">
 <span class="menu-text">Resources</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://up570s23.slack.com/"><i class="bi bi-slack" role="img" aria-label="Slack">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#goals" id="toc-goals" class="nav-link" data-scroll-target="#goals">Goals</a></li>
  <li><a href="#core-concepts" id="toc-core-concepts" class="nav-link" data-scroll-target="#core-concepts">Core Concepts</a>
  <ul>
  <li><a href="#r-and-rstudio" id="toc-r-and-rstudio" class="nav-link" data-scroll-target="#r-and-rstudio">R and Rstudio</a></li>
  </ul></li>
  <li><a href="#github-lab-repository" id="toc-github-lab-repository" class="nav-link" data-scroll-target="#github-lab-repository">Github Lab Repository</a></li>
  <li><a href="#accessing-census-data-via-american-fact-finder" id="toc-accessing-census-data-via-american-fact-finder" class="nav-link" data-scroll-target="#accessing-census-data-via-american-fact-finder">Accessing Census Data via American Fact Finder</a></li>
  <li><a href="#workflow-downloading-census-data-programmatically-in-r" id="toc-workflow-downloading-census-data-programmatically-in-r" class="nav-link" data-scroll-target="#workflow-downloading-census-data-programmatically-in-r">Workflow: Downloading Census Data Programmatically in R</a>
  <ul>
  <li><a href="#initial-set-up" id="toc-initial-set-up" class="nav-link" data-scroll-target="#initial-set-up">Initial Set Up</a></li>
  <li><a href="#our-first-table-download" id="toc-our-first-table-download" class="nav-link" data-scroll-target="#our-first-table-download">Our First Table Download</a></li>
  <li><a href="#building-table-2.1-population-breakdown-by-race" id="toc-building-table-2.1-population-breakdown-by-race" class="nav-link" data-scroll-target="#building-table-2.1-population-breakdown-by-race">Building Table 2.1: Population Breakdown by Race</a></li>
  <li><a href="#construct-county-data" id="toc-construct-county-data" class="nav-link" data-scroll-target="#construct-county-data">Construct County Data</a></li>
  <li><a href="#construct-percentages" id="toc-construct-percentages" class="nav-link" data-scroll-target="#construct-percentages">Construct Percentages</a></li>
  </ul></li>
  <li><a href="#closing-thoughts" id="toc-closing-thoughts" class="nav-link" data-scroll-target="#closing-thoughts">Closing Thoughts</a></li>
  <li><a href="#lab-evaluation" id="toc-lab-evaluation" class="nav-link" data-scroll-target="#lab-evaluation">Lab Evaluation</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-page-left" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Population and the Census</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i></button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>This lab is designed to introduce you to some of the basic techniques for downloading data from the U.S. Census Bureau using R. Following elements from the Klosterman, et al.&nbsp;reading, we will replicate some of the tables present in that chapter.</p>
<p>We will also learn a new R package this week - the <code>tidycensus</code> package, which is designed to programmatically download and load census data directly into our R session.</p>
</section>
<section id="goals" class="level2">
<h2 class="anchored" data-anchor-id="goals">Goals</h2>
<p>Planners frequently rely upon census data to help establish baseline portraits of places. Given the frequency with which planners tend to use Census data, can R help us to more efficiently access this information, and integrate it into analysis processes?</p>
<p>In this section, we will examine how Census data is typically accessed, and explore how to do so with R. By the end of this section, you will:</p>
<ul>
<li>Review how to manually access census data from <a href="data.census.gov">data.census.gov</a>.</li>
<li>Learn how to construct basic calls for census data using R and the <code>tidycensus</code> package</li>
<li>Learn the basic principles of joining data, and apply these</li>
</ul>
</section>
<section id="core-concepts" class="level2">
<h2 class="anchored" data-anchor-id="core-concepts">Core Concepts</h2>
<section id="r-and-rstudio" class="level3">
<h3 class="anchored" data-anchor-id="r-and-rstudio">R and Rstudio</h3>
<ul>
<li>bind_rows()</li>
<li>bind_cols()</li>
<li>get_acs()</li>
<li>%in% c()</li>
</ul>
<p>Let’s get going…</p>
</section>
</section>
<section id="github-lab-repository" class="level2">
<h2 class="anchored" data-anchor-id="github-lab-repository">Github Lab Repository</h2>
<p>If you have not already done so, follow <a href="https://classroom.github.com/a/-wEwOEtR">this link</a> to accept the lab Github Classroom assignment repository.</p>
</section>
<section id="accessing-census-data-via-american-fact-finder" class="level2">
<h2 class="anchored" data-anchor-id="accessing-census-data-via-american-fact-finder">Accessing Census Data via American Fact Finder</h2>
<p>Let’s start working with Census data! Our goal here is to begin creating tables similar to the ones we see in Klosterman Chapter 2. For the purposes of this exercise, we’ll describe how Champaign, Illinois compares to other cities within Champaign County. We’ll then think about how we might be able to describe smaller geographies from there.</p>
<p>Before we get around to downloading census data using R, we’ll start by learning about some of the common ways in which census data are accessed, and will then spend a little time learning how to download data at different <em>summary levels</em>.</p>
<p>Most casual users of Census data typically start by visiting the <a href="https://data.census.gov">data.census.gov</a> website:</p>
<iframe width="780" height="500" src="https://data.census.gov" title="data.census.gov"></iframe>
<p>For those users looking to download detailed demographic tables covering more than one geography, “Use Advanced Search” is best option (and the option that we will choose).</p>
<p>The Advanced Search window includes a series of query selectors, or if you know the exact name or table number you are looking for, you can use the search dialog. Even if you know the table number, it makes sense to start off by selecting your survey and the geography at which you wish FactFinder to return results.</p>
<p>The Census bureau tabulates demographic information for a <a href="https://www2.census.gov/geo/pdfs/reference/geodiagram.pdf">number of different geographic types</a>, some which are hierarchical, and some which aren’t:</p>
<p><img src="05_census/images/WB_1_Geogs.png" class="img-fluid"> The Klosterman chapter presents data for a city, and then compares it to its constituent county and region. This diagram tells us that cities (census places) are nested within (and contained by) states, which are nested within census divisions, and census regions which are all contained within the nation. Census places do not have any subgeographies, however, we may also use other sub county geography, especially census tracts and block groups to help us describe the characteristics of census places.</p>
<p>The most common geographies used by planners are as follows:</p>
<ul>
<li>State</li>
<li>County</li>
<li>Place (incorporated cities)</li>
<li>Tract (approximate neighborhoods based upon physical boundaries)</li>
</ul>
<p>Some specialized geographies like Traffic Analysis Zones (TAZs) are also frequently used, as are Zip Code Tabulation Areas (ZCTAs) which approximate postal service Zone Improvement Plan (ZIP) codes.</p>
<p>In our FactFinder search, let’s start off by looking for data on the racial composition of census places in Illinois from the 2019 5-Year American Community Survey. This corresponds to data used to create the second column in Table 2.1 of Klosterman. We can add some filters to identify the census data table containing the appropriate data.</p>
<p>Let’s start by filtering to the 5-Year American Community Survey data (Browse Filters -&gt; Surveys -&gt; American Community Survey)</p>
<p><img src="05_census/images/WB_2_Survey.png" class="img-fluid"></p>
<p>We now have 2 main choices - 1-Year estimates and 5-year estimates. What might the difference be between these two data products?</p>
<ul>
<li><p><strong>1-Year Estimates</strong> are based off of the survey sample collected within one year and reflect the characteristics of the population within that given year.</p></li>
<li><p><strong>5-Year Estimates</strong> are based off of a <em>pooled</em> survey sample collected over a 5-year period and reflect the characteristics of the population over those 5 years.</p></li>
</ul>
<p>The trade offs between the two samples are time specificity and certainty around the accuracy of the estimates. Particularly when we are looking at smaller geographies, this certainty question can become more of an issue. More on this later in our documentation.</p>
<p>For now, let’s select 5 year estimates, and then select “Detailed Tables”.</p>
<p><img src="05_census/images/WB_3_Detailed.png" class="img-fluid"></p>
<p>After adding this filter, add an additional filter under Years for 2021.</p>
<p><img src="05_census/images/WB_4_DetailedYear.png" class="img-fluid"></p>
<p>We might also want to add a geographic filter to indicate that the data we want is for census places.</p>
<p><img src="05_census/images/WB_5_GeogSelection.png" class="img-fluid"> And then select all places in Illinois…</p>
<p><img src="05_census/images/WB_6_Places.png" class="img-fluid"></p>
<p>With these filters in place we can now search for the race table.</p>
<p><img src="05_census/images/WB_7_Race.png" class="img-fluid"></p>
<p>We’ll then get a list of tables matching our criteria. There are a lot of them! You will need to click “View All Tables” to see the entire list. Let’s take a closer look at Table B02001: Race. We can click on it to view the table’s contents.</p>
<p><img src="05_census/images/WB_8_B02001.png" class="img-fluid"> This is useful - we can see the structure of the table. <em>Rows</em> contain information associated with racial identification groups, <em>columns</em> correspond to census places (cities and local governments). Observations include counts of the population that identify with each racial group.</p>
<p>We could download this file and open it in a spreadsheet program. <img src="05_census/images/WB_9_B02001_Detail.png" class="img-fluid"></p>
<p>We could download this file and open it in a spreadsheet program or R. If you download the .csv file, we’d need to do some reformatting to start using the data in any serious way.</p>
<p>As we start manipulating the data with more clicks (say to remove the double header row, to delete the GEO.id column, or to work with estimates) we introduce the potential for user error, especially if we want to exactly reproduce what we’ve done over and over again. Of course the potential for error grows once our data takes on more dimensions or involves multiple tables or sources.</p>
<p>As an alternative strategy, let’s look at how we’d do the same thing programmatically in R.</p>
</section>
<section id="workflow-downloading-census-data-programmatically-in-r" class="level2">
<h2 class="anchored" data-anchor-id="workflow-downloading-census-data-programmatically-in-r">Workflow: Downloading Census Data Programmatically in R</h2>
<p>The <code>tidycensus</code> package made by <a href="https://walkerke.github.io/tidycensus/">Kyle Walker</a> downloads data directly from the U.S. Census Bureau’s application programming interface (API). While we reviewed using <a href="https://data.census.gov">data.census.gov</a> to manually select and download data from the Census, the benefit of using <code>tidycensus</code> and R is that the data pipeline is <em>reproducible</em>.</p>
<p>In order to use <code>tidycensus</code> to download data, you’ll need the following:</p>
<ul>
<li>A Census API key (if you don’t already have one, please <a href="https://api.census.gov/data/key_signup.html">request one from the census bureau</a>)</li>
<li>A desired geography to look up (for example, all census places in Illinois)</li>
<li>The census year you want data for (we’ll start with 2021)</li>
<li>The survey you’d like to use (Decennial Census, ACS 1 or 5 year data)</li>
<li>The number of the table we want to look up (in this case table B02001 which contains information on the total population by race from the American Community Survey)</li>
</ul>
<p>There are two main functions in <code>tidycensus</code>:</p>
<ul>
<li><code>get_decennial()</code> is designed to download data from the decennial census which is conducted every ten years by law (e.g.&nbsp;1990, 2000, 2010, and soon 2020) for the purposes of allocating political representation in the US.</li>
<li><code>get_acs()</code> is designed to download data from the American Community Survey, which is conducted continuously, and which focuses on describing the characteristics of the population for the years in between the decennial census.</li>
</ul>
<section id="initial-set-up" class="level3">
<h3 class="anchored" data-anchor-id="initial-set-up">Initial Set Up</h3>
<p>Let’s start by loading a few packages that will help us with our work.</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidycensus)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Each time you run a <code>tidycensus</code> function, R constructs a request to the Census API for data. This call needs to include your API key to authenticate your access to the data.The first time you use <code>tidycensus</code> on a new computer or R installation, you’ll need to set up your R environment to load your Census API key. You have two options -</p>
<ol type="1">
<li>Manually set the API key for use in your R script each time you use tidycensus:</li>
</ol>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidycensus)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">census_api_key</span>(<span class="st">"936c96236b979ae522c6cf67edb51923dd391fb3"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ol start="2" type="1">
<li>Store your API key locally on your computer so that it does not need to be loaded manually.</li>
</ol>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidycensus)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">census_api_key</span>(<span class="st">"936c96236b979ae522c6cf67edb51923dd391fb3"</span>, <span class="at">install =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Again, this looks largely the same. The first option simply sets the API key for use in a given rstudio session. Adding <code>install=TRUE</code> “installs” the API key for use any time you load RStudio, meaning you can load and use the package without having to use <code>census_api_key()</code>. I recommend installing your API key for two reasons - first, it is convenient to not have to copy and paste your API key into a new script or notebook; and second, if you share your code publicly, others will not have access to your api key because it is not included in your code (you might include a note in your documentation that lets other users know they will need to supply their own API key).</p>
<p>With that set up, we can move on…</p>
</section>
<section id="our-first-table-download" class="level3">
<h3 class="anchored" data-anchor-id="our-first-table-download">Our First Table Download</h3>
<p>To familiarize yourself with tidycensus, have a look at the following code chunk. This gets the total population by race (Table B02001) for each census place in Illinois, and places that data into place_race_2021:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>place_race_2021<span class="ot">&lt;-</span><span class="fu">get_acs</span>(<span class="at">geography =</span> <span class="st">"place"</span>, <span class="at">state =</span> <span class="st">"Illinois"</span>, <span class="at">table =</span> <span class="st">"B02001"</span>, <span class="at">year=</span><span class="dv">2021</span>, <span class="at">survey=</span><span class="st">"acs5"</span>, <span class="at">output=</span><span class="st">"wide"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Our call says create an object names “place_race_2021” and place into it the results of a function called <code>get_acs</code> (which is the function to download ACS data from the census API). Within the <code>get_acs()</code> function, we specify several attributes:</p>
<ul>
<li><em>geography = “place”</em> allows us to specify the geography which we want returned - in this case estimates for census places.</li>
<li><em>state = “Illinois”</em> allows us to specify that we want to download data for the state of Illinois.</li>
<li><em>table = “B02001”</em> allows us to specify which table we want downloaded - in this case, we want to look in table B02001. As an alternate to using <code>table =</code> we can download specific variables (if we don’t need all of the table’s data using <code>variables =</code>.)</li>
<li><em>year = 2021</em> allows us to specify which vintage of ACS data we are downloading.</li>
<li><em>survey=“acs5”</em> specifies that we want to look at 5-year ACS data with year being the most recent endpoint (e.g.&nbsp;if we specify <code>year = 2021</code> and <code>survey = "acs5"</code>, we are specifying 2017-2021 5-year ACS data).</li>
<li><em>output=“wide”</em> specifies that we want our data to be formatted with columns corresponding to different racial identification categories.</li>
</ul>
<p>Let’s have a look at what was just downloaded:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>place_race_2021 <span class="sc">|&gt;</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="elzlsgclzy" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#elzlsgclzy) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#elzlsgclzy) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#elzlsgclzy) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#elzlsgclzy) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#elzlsgclzy) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#elzlsgclzy) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#elzlsgclzy) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#elzlsgclzy) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#elzlsgclzy) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#elzlsgclzy) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#elzlsgclzy) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#elzlsgclzy) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

:where(#elzlsgclzy) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#elzlsgclzy) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#elzlsgclzy) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#elzlsgclzy) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#elzlsgclzy) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#elzlsgclzy) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#elzlsgclzy) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#elzlsgclzy) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#elzlsgclzy) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#elzlsgclzy) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#elzlsgclzy) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#elzlsgclzy) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#elzlsgclzy) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#elzlsgclzy) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#elzlsgclzy) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#elzlsgclzy) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#elzlsgclzy) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#elzlsgclzy) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#elzlsgclzy) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#elzlsgclzy) .gt_left {
  text-align: left;
}

:where(#elzlsgclzy) .gt_center {
  text-align: center;
}

:where(#elzlsgclzy) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#elzlsgclzy) .gt_font_normal {
  font-weight: normal;
}

:where(#elzlsgclzy) .gt_font_bold {
  font-weight: bold;
}

:where(#elzlsgclzy) .gt_font_italic {
  font-style: italic;
}

:where(#elzlsgclzy) .gt_super {
  font-size: 65%;
}

:where(#elzlsgclzy) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#elzlsgclzy) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#elzlsgclzy) .gt_indent_1 {
  text-indent: 5px;
}

:where(#elzlsgclzy) .gt_indent_2 {
  text-indent: 10px;
}

:where(#elzlsgclzy) .gt_indent_3 {
  text-indent: 15px;
}

:where(#elzlsgclzy) .gt_indent_4 {
  text-indent: 20px;
}

:where(#elzlsgclzy) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">GEOID</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">NAME</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_001E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_001M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_002E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_002M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_003E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_003M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_004E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_004M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_005E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_005M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_006E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_006M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_007E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_007M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_008E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_008M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_009E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_009M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_010E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_010M</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_right">1700113</td>
<td class="gt_row gt_left">Abingdon city, Illinois</td>
<td class="gt_row gt_right">3586</td>
<td class="gt_row gt_right">385</td>
<td class="gt_row gt_right">3474</td>
<td class="gt_row gt_right">400</td>
<td class="gt_row gt_right">63</td>
<td class="gt_row gt_right">72</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">21</td>
<td class="gt_row gt_right">33</td>
<td class="gt_row gt_right">28</td>
<td class="gt_row gt_right">42</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">28</td>
<td class="gt_row gt_right">42</td></tr>
    <tr><td class="gt_row gt_right">1700178</td>
<td class="gt_row gt_left">Adair CDP, Illinois</td>
<td class="gt_row gt_right">210</td>
<td class="gt_row gt_right">126</td>
<td class="gt_row gt_right">192</td>
<td class="gt_row gt_right">106</td>
<td class="gt_row gt_right">18</td>
<td class="gt_row gt_right">29</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td></tr>
    <tr><td class="gt_row gt_right">1700191</td>
<td class="gt_row gt_left">Adams CDP, Illinois</td>
<td class="gt_row gt_right">47</td>
<td class="gt_row gt_right">55</td>
<td class="gt_row gt_right">47</td>
<td class="gt_row gt_right">55</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td></tr>
    <tr><td class="gt_row gt_right">1700230</td>
<td class="gt_row gt_left">Addieville village, Illinois</td>
<td class="gt_row gt_right">359</td>
<td class="gt_row gt_right">81</td>
<td class="gt_row gt_right">348</td>
<td class="gt_row gt_right">83</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">11</td>
<td class="gt_row gt_right">11</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_right">8</td>
<td class="gt_row gt_right">9</td></tr>
    <tr><td class="gt_row gt_right">1700243</td>
<td class="gt_row gt_left">Addison village, Illinois</td>
<td class="gt_row gt_right">35999</td>
<td class="gt_row gt_right">43</td>
<td class="gt_row gt_right">22423</td>
<td class="gt_row gt_right">1211</td>
<td class="gt_row gt_right">1702</td>
<td class="gt_row gt_right">459</td>
<td class="gt_row gt_right">223</td>
<td class="gt_row gt_right">181</td>
<td class="gt_row gt_right">3022</td>
<td class="gt_row gt_right">668</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">25</td>
<td class="gt_row gt_right">5547</td>
<td class="gt_row gt_right">884</td>
<td class="gt_row gt_right">3082</td>
<td class="gt_row gt_right">891</td>
<td class="gt_row gt_right">2230</td>
<td class="gt_row gt_right">734</td>
<td class="gt_row gt_right">852</td>
<td class="gt_row gt_right">458</td></tr>
    <tr><td class="gt_row gt_right">1700295</td>
<td class="gt_row gt_left">Adeline village, Illinois</td>
<td class="gt_row gt_right">95</td>
<td class="gt_row gt_right">43</td>
<td class="gt_row gt_right">94</td>
<td class="gt_row gt_right">43</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td></tr>
    <tr><td class="gt_row gt_right">1700516</td>
<td class="gt_row gt_left">Albany village, Illinois</td>
<td class="gt_row gt_right">771</td>
<td class="gt_row gt_right">165</td>
<td class="gt_row gt_right">739</td>
<td class="gt_row gt_right">157</td>
<td class="gt_row gt_right">10</td>
<td class="gt_row gt_right">18</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">7</td>
<td class="gt_row gt_right">19</td>
<td class="gt_row gt_right">20</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_right">15</td>
<td class="gt_row gt_right">20</td></tr>
    <tr><td class="gt_row gt_right">1700555</td>
<td class="gt_row gt_left">Albers village, Illinois</td>
<td class="gt_row gt_right">1431</td>
<td class="gt_row gt_right">200</td>
<td class="gt_row gt_right">1387</td>
<td class="gt_row gt_right">205</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_right">7</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">38</td>
<td class="gt_row gt_right">55</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">6</td>
<td class="gt_row gt_right">36</td>
<td class="gt_row gt_right">54</td></tr>
    <tr><td class="gt_row gt_right">1700568</td>
<td class="gt_row gt_left">Albion city, Illinois</td>
<td class="gt_row gt_right">2122</td>
<td class="gt_row gt_right">180</td>
<td class="gt_row gt_right">2033</td>
<td class="gt_row gt_right">179</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">33</td>
<td class="gt_row gt_right">32</td>
<td class="gt_row gt_right">15</td>
<td class="gt_row gt_right">11</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">8</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">33</td>
<td class="gt_row gt_right">29</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">33</td>
<td class="gt_row gt_right">29</td></tr>
    <tr><td class="gt_row gt_right">1700594</td>
<td class="gt_row gt_left">Alden CDP, Illinois</td>
<td class="gt_row gt_right">188</td>
<td class="gt_row gt_right">280</td>
<td class="gt_row gt_right">188</td>
<td class="gt_row gt_right">280</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>Examining the place_race_2019 object, we have a table that includes 22 columns:</p>
<ul>
<li><strong>GEOID</strong> a unique numeric code for each census place</li>
<li><strong>NAME</strong> the name of each census place</li>
<li><strong>Estimates</strong> estimates (in this case population estimates by race), with each column representing a <em>row</em> in the data table we pulled up on <a href="https://data.census.gov/cedsci/table?g=0400000US17.160000&amp;d=ACS%205-Year%20Estimates%20Detailed%20Tables&amp;tid=ACSDT5Y2017.B02001&amp;y=2017&amp;t=Race%20and%20Ethnicity&amp;vintage=2017&amp;hidePreview=true&amp;cid=B01001A_001E">data.census.gov</a>.</li>
<li><strong>Margin of Error</strong> the margin of error associated with each estimate.</li>
</ul>
<p>Note in the above code that we use <code>slice_head()</code> to display only the first 10 rows of a table that actually has 1,466 rows.</p>
<p>That wasn’t <em>so</em> hard! There are several benefits of downloading census data this way: 1. Once we know what tables or variables we are looking for, we don’t have to interact with data.census.gov very much (or at all). 2. R downloads the data and then it is immediately available for analysis as a formatted data frame. 3. We can easily modify existing calls to download data for other geographies.</p>
<p>Let’s say we want to transition to looking at racial identification for counties in Illinois. How would we modify our previous code to match those specifications? - <code>geography</code> needs to be changed from “place” to “county” (find more information on specifying geography in the <a href="https://walkerke.github.io/tidycensus/articles/basic-usage.html#geography-in-tidycensus">tidycensus documentation</a>). - We need to add a new specification, <code>state = "IL"</code> (you’ll note that in the documentation on specifying a geography a column called “available by” which tells you what must be specified for a given summary level). - We need to change the object name that we’re putting our downloaded data into. Let’s call in “county_race_2021.</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>county_race_2021<span class="ot">&lt;-</span><span class="fu">get_acs</span>(<span class="at">geography =</span> <span class="st">"county"</span>, <span class="at">state =</span> <span class="st">"IL"</span>, <span class="at">table =</span> <span class="st">"B02001"</span>, <span class="at">year=</span><span class="dv">2021</span>, <span class="at">survey=</span><span class="st">"acs5"</span>, <span class="at">output=</span><span class="st">"wide"</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>county_race_2021 <span class="sc">|&gt;</span> </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span> </span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="iuxulbsbqk" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#iuxulbsbqk) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#iuxulbsbqk) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#iuxulbsbqk) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#iuxulbsbqk) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#iuxulbsbqk) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#iuxulbsbqk) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#iuxulbsbqk) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#iuxulbsbqk) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#iuxulbsbqk) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#iuxulbsbqk) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#iuxulbsbqk) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#iuxulbsbqk) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

:where(#iuxulbsbqk) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#iuxulbsbqk) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#iuxulbsbqk) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#iuxulbsbqk) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#iuxulbsbqk) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#iuxulbsbqk) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#iuxulbsbqk) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#iuxulbsbqk) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#iuxulbsbqk) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#iuxulbsbqk) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#iuxulbsbqk) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#iuxulbsbqk) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#iuxulbsbqk) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#iuxulbsbqk) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#iuxulbsbqk) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#iuxulbsbqk) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#iuxulbsbqk) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#iuxulbsbqk) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#iuxulbsbqk) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#iuxulbsbqk) .gt_left {
  text-align: left;
}

:where(#iuxulbsbqk) .gt_center {
  text-align: center;
}

:where(#iuxulbsbqk) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#iuxulbsbqk) .gt_font_normal {
  font-weight: normal;
}

:where(#iuxulbsbqk) .gt_font_bold {
  font-weight: bold;
}

:where(#iuxulbsbqk) .gt_font_italic {
  font-style: italic;
}

:where(#iuxulbsbqk) .gt_super {
  font-size: 65%;
}

:where(#iuxulbsbqk) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#iuxulbsbqk) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#iuxulbsbqk) .gt_indent_1 {
  text-indent: 5px;
}

:where(#iuxulbsbqk) .gt_indent_2 {
  text-indent: 10px;
}

:where(#iuxulbsbqk) .gt_indent_3 {
  text-indent: 15px;
}

:where(#iuxulbsbqk) .gt_indent_4 {
  text-indent: 20px;
}

:where(#iuxulbsbqk) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">GEOID</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">NAME</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_001E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_001M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_002E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_002M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_003E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_003M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_004E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_004M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_005E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_005M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_006E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_006M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_007E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_007M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_008E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_008M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_009E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_009M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_010E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_010M</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_right">17001</td>
<td class="gt_row gt_left">Adams County, Illinois</td>
<td class="gt_row gt_right">65878</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">60689</td>
<td class="gt_row gt_right">144</td>
<td class="gt_row gt_right">2615</td>
<td class="gt_row gt_right">343</td>
<td class="gt_row gt_right">51</td>
<td class="gt_row gt_right">33</td>
<td class="gt_row gt_right">420</td>
<td class="gt_row gt_right">113</td>
<td class="gt_row gt_right">8</td>
<td class="gt_row gt_right">11</td>
<td class="gt_row gt_right">153</td>
<td class="gt_row gt_right">61</td>
<td class="gt_row gt_right">1942</td>
<td class="gt_row gt_right">382</td>
<td class="gt_row gt_right">513</td>
<td class="gt_row gt_right">191</td>
<td class="gt_row gt_right">1429</td>
<td class="gt_row gt_right">283</td></tr>
    <tr><td class="gt_row gt_right">17003</td>
<td class="gt_row gt_left">Alexander County, Illinois</td>
<td class="gt_row gt_right">5488</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">3502</td>
<td class="gt_row gt_right">39</td>
<td class="gt_row gt_right">1836</td>
<td class="gt_row gt_right">70</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">9</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">22</td>
<td class="gt_row gt_right">32</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">17</td>
<td class="gt_row gt_right">123</td>
<td class="gt_row gt_right">58</td>
<td class="gt_row gt_right">15</td>
<td class="gt_row gt_right">18</td>
<td class="gt_row gt_right">108</td>
<td class="gt_row gt_right">53</td></tr>
    <tr><td class="gt_row gt_right">17005</td>
<td class="gt_row gt_left">Bond County, Illinois</td>
<td class="gt_row gt_right">16804</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">15120</td>
<td class="gt_row gt_right">135</td>
<td class="gt_row gt_right">1184</td>
<td class="gt_row gt_right">141</td>
<td class="gt_row gt_right">112</td>
<td class="gt_row gt_right">44</td>
<td class="gt_row gt_right">165</td>
<td class="gt_row gt_right">155</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">19</td>
<td class="gt_row gt_right">36</td>
<td class="gt_row gt_right">25</td>
<td class="gt_row gt_right">187</td>
<td class="gt_row gt_right">114</td>
<td class="gt_row gt_right">88</td>
<td class="gt_row gt_right">71</td>
<td class="gt_row gt_right">99</td>
<td class="gt_row gt_right">86</td></tr>
    <tr><td class="gt_row gt_right">17007</td>
<td class="gt_row gt_left">Boone County, Illinois</td>
<td class="gt_row gt_right">53592</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">44895</td>
<td class="gt_row gt_right">968</td>
<td class="gt_row gt_right">1437</td>
<td class="gt_row gt_right">293</td>
<td class="gt_row gt_right">160</td>
<td class="gt_row gt_right">137</td>
<td class="gt_row gt_right">523</td>
<td class="gt_row gt_right">87</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">28</td>
<td class="gt_row gt_right">4200</td>
<td class="gt_row gt_right">1041</td>
<td class="gt_row gt_right">2377</td>
<td class="gt_row gt_right">515</td>
<td class="gt_row gt_right">1243</td>
<td class="gt_row gt_right">394</td>
<td class="gt_row gt_right">1134</td>
<td class="gt_row gt_right">321</td></tr>
    <tr><td class="gt_row gt_right">17009</td>
<td class="gt_row gt_left">Brown County, Illinois</td>
<td class="gt_row gt_right">6330</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">4876</td>
<td class="gt_row gt_right">202</td>
<td class="gt_row gt_right">1174</td>
<td class="gt_row gt_right">170</td>
<td class="gt_row gt_right">39</td>
<td class="gt_row gt_right">33</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">5</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">17</td>
<td class="gt_row gt_right">135</td>
<td class="gt_row gt_right">70</td>
<td class="gt_row gt_right">103</td>
<td class="gt_row gt_right">58</td>
<td class="gt_row gt_right">59</td>
<td class="gt_row gt_right">46</td>
<td class="gt_row gt_right">44</td>
<td class="gt_row gt_right">37</td></tr>
    <tr><td class="gt_row gt_right">17011</td>
<td class="gt_row gt_left">Bureau County, Illinois</td>
<td class="gt_row gt_right">33338</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">30452</td>
<td class="gt_row gt_right">237</td>
<td class="gt_row gt_right">189</td>
<td class="gt_row gt_right">66</td>
<td class="gt_row gt_right">66</td>
<td class="gt_row gt_right">29</td>
<td class="gt_row gt_right">298</td>
<td class="gt_row gt_right">51</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">25</td>
<td class="gt_row gt_right">1307</td>
<td class="gt_row gt_right">256</td>
<td class="gt_row gt_right">1026</td>
<td class="gt_row gt_right">172</td>
<td class="gt_row gt_right">564</td>
<td class="gt_row gt_right">146</td>
<td class="gt_row gt_right">462</td>
<td class="gt_row gt_right">77</td></tr>
    <tr><td class="gt_row gt_right">17013</td>
<td class="gt_row gt_left">Calhoun County, Illinois</td>
<td class="gt_row gt_right">4537</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">4357</td>
<td class="gt_row gt_right">45</td>
<td class="gt_row gt_right">29</td>
<td class="gt_row gt_right">35</td>
<td class="gt_row gt_right">14</td>
<td class="gt_row gt_right">18</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">135</td>
<td class="gt_row gt_right">52</td>
<td class="gt_row gt_right">61</td>
<td class="gt_row gt_right">49</td>
<td class="gt_row gt_right">74</td>
<td class="gt_row gt_right">29</td></tr>
    <tr><td class="gt_row gt_right">17015</td>
<td class="gt_row gt_left">Carroll County, Illinois</td>
<td class="gt_row gt_right">15586</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">14248</td>
<td class="gt_row gt_right">276</td>
<td class="gt_row gt_right">468</td>
<td class="gt_row gt_right">128</td>
<td class="gt_row gt_right">44</td>
<td class="gt_row gt_right">22</td>
<td class="gt_row gt_right">119</td>
<td class="gt_row gt_right">73</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">19</td>
<td class="gt_row gt_right">79</td>
<td class="gt_row gt_right">50</td>
<td class="gt_row gt_right">628</td>
<td class="gt_row gt_right">240</td>
<td class="gt_row gt_right">223</td>
<td class="gt_row gt_right">117</td>
<td class="gt_row gt_right">405</td>
<td class="gt_row gt_right">212</td></tr>
    <tr><td class="gt_row gt_right">17017</td>
<td class="gt_row gt_left">Cass County, Illinois</td>
<td class="gt_row gt_right">13058</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">11075</td>
<td class="gt_row gt_right">281</td>
<td class="gt_row gt_right">451</td>
<td class="gt_row gt_right">150</td>
<td class="gt_row gt_right">108</td>
<td class="gt_row gt_right">112</td>
<td class="gt_row gt_right">89</td>
<td class="gt_row gt_right">25</td>
<td class="gt_row gt_right">91</td>
<td class="gt_row gt_right">135</td>
<td class="gt_row gt_right">545</td>
<td class="gt_row gt_right">251</td>
<td class="gt_row gt_right">699</td>
<td class="gt_row gt_right">253</td>
<td class="gt_row gt_right">523</td>
<td class="gt_row gt_right">240</td>
<td class="gt_row gt_right">176</td>
<td class="gt_row gt_right">75</td></tr>
    <tr><td class="gt_row gt_right">17019</td>
<td class="gt_row gt_left">Champaign County, Illinois</td>
<td class="gt_row gt_right">206583</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">144522</td>
<td class="gt_row gt_right">757</td>
<td class="gt_row gt_right">26996</td>
<td class="gt_row gt_right">1074</td>
<td class="gt_row gt_right">170</td>
<td class="gt_row gt_right">82</td>
<td class="gt_row gt_right">22204</td>
<td class="gt_row gt_right">477</td>
<td class="gt_row gt_right">115</td>
<td class="gt_row gt_right">98</td>
<td class="gt_row gt_right">2280</td>
<td class="gt_row gt_right">513</td>
<td class="gt_row gt_right">10296</td>
<td class="gt_row gt_right">1300</td>
<td class="gt_row gt_right">3005</td>
<td class="gt_row gt_right">571</td>
<td class="gt_row gt_right">7291</td>
<td class="gt_row gt_right">1166</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>By making those few changes, you’ll note that the newly downloaded data in county_race_2021 now includes names of counties in the <code>NAME</code> column, instead of places as in our first call. There are data for each of the 102 counties in Illinois.</p>
<p>Pretty cool, huh?</p>
</section>
<section id="building-table-2.1-population-breakdown-by-race" class="level3">
<h3 class="anchored" data-anchor-id="building-table-2.1-population-breakdown-by-race">Building Table 2.1: Population Breakdown by Race</h3>
<p>Let’s start by downloading data on population by racial identification for counties in Illinois from the 2021 5-year American Community Survey, and placing the data into a data frame called “place_race_2021”. To do so, we need to know some basic information to construct our data request to the census.</p>
<p>Since we are downloading ACS data, we will use the <code>get_acs()</code> function. At a minimum, <code>get_acs()</code> needs to know the geography we want it to download, the name(s) of the variables we’d like to retrieve, and the year we want the data for. Check out the <a href="https://walkerke.github.io/tidycensus/articles/basic-usage.html">basic usage of tidycensus</a> for more information on constructing calls for different geographies.</p>
<p><code>tidycensus</code> can make calls for <a href="https://walkerke.github.io/tidycensus/articles/basic-usage.html#geography-in-tidycensus">most geographies</a> programmatically.</p>
<p>So far, we have used <code>table =</code> to specify that we wanted all variables downloaded for each table. In some cases, we may not need all of that information. Instead, we can use the <code>variables =</code> specification to download specific columns from the larger census table.</p>
<p>Table B02001 which we’ve been looking at is <em>hierarchical</em>. The first <em>row</em> contains the total population of all races. The second row contains the estimate for those individuals who identify as white alone. The eighth row contains the estimate for individuals of two or more races.</p>
<p>Table 2.1 in the Klosterman book presents racial identification for White Alone, Black Alone, Other, and Hispanic ethnicity. Putting aside for a minute the Hispanic ethnicity statistic, how would we download and construct analogous data for Champaign, Illinois? Let’s think this through:</p>
<table class="table">
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 38%">
</colgroup>
<thead>
<tr class="header">
<th>Indicator</th>
<th>Row Number</th>
<th>Tidycensus Variable</th>
<th>Constructed Variable</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>White Alone</td>
<td>2</td>
<td>B02001_002</td>
<td>NA</td>
</tr>
<tr class="even">
<td>Black Alone</td>
<td>3</td>
<td>B02001_003</td>
<td>NA</td>
</tr>
<tr class="odd">
<td>Other</td>
<td>?</td>
<td>NA</td>
<td>B02001_001-(B02001_002+B02001_003)</td>
</tr>
</tbody>
</table>
<p>To construct this table, we only need the variables corresponding to the first, second, and third rows.</p>
<ul>
<li><p>White alone and black alone are the second and third rows in the data.census.gov table.</p></li>
<li><p>We can construct our “Other” variable by subtracting from the total population, the number of white alone and black alone individuals.</p></li>
</ul>
<p>Let’s see this in practice:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>place_race_2021<span class="ot">&lt;-</span><span class="fu">get_acs</span>(<span class="at">geography =</span> <span class="st">"place"</span>, <span class="at">state =</span> <span class="st">"IL"</span>, <span class="at">variables =</span> <span class="fu">c</span>(<span class="st">"B02001_001"</span>, <span class="st">"B02001_002"</span>, <span class="st">"B02001_003"</span>), <span class="at">year=</span><span class="dv">2021</span>, <span class="at">survey=</span><span class="st">"acs5"</span>, <span class="at">output=</span><span class="st">"wide"</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>place_race_2021 <span class="sc">|&gt;</span> </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span> </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="pjznchiowr" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#pjznchiowr) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#pjznchiowr) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#pjznchiowr) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#pjznchiowr) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#pjznchiowr) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#pjznchiowr) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#pjznchiowr) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#pjznchiowr) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#pjznchiowr) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#pjznchiowr) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#pjznchiowr) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#pjznchiowr) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

:where(#pjznchiowr) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#pjznchiowr) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#pjznchiowr) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#pjznchiowr) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#pjznchiowr) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#pjznchiowr) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#pjznchiowr) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#pjznchiowr) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#pjznchiowr) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#pjznchiowr) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#pjznchiowr) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#pjznchiowr) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#pjznchiowr) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#pjznchiowr) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#pjznchiowr) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#pjznchiowr) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#pjznchiowr) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#pjznchiowr) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#pjznchiowr) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#pjznchiowr) .gt_left {
  text-align: left;
}

:where(#pjznchiowr) .gt_center {
  text-align: center;
}

:where(#pjznchiowr) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#pjznchiowr) .gt_font_normal {
  font-weight: normal;
}

:where(#pjznchiowr) .gt_font_bold {
  font-weight: bold;
}

:where(#pjznchiowr) .gt_font_italic {
  font-style: italic;
}

:where(#pjznchiowr) .gt_super {
  font-size: 65%;
}

:where(#pjznchiowr) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#pjznchiowr) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#pjznchiowr) .gt_indent_1 {
  text-indent: 5px;
}

:where(#pjznchiowr) .gt_indent_2 {
  text-indent: 10px;
}

:where(#pjznchiowr) .gt_indent_3 {
  text-indent: 15px;
}

:where(#pjznchiowr) .gt_indent_4 {
  text-indent: 20px;
}

:where(#pjznchiowr) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">GEOID</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">NAME</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_001E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_001M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_002E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_002M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_003E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_003M</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_right">1700113</td>
<td class="gt_row gt_left">Abingdon city, Illinois</td>
<td class="gt_row gt_right">3586</td>
<td class="gt_row gt_right">385</td>
<td class="gt_row gt_right">3474</td>
<td class="gt_row gt_right">400</td>
<td class="gt_row gt_right">63</td>
<td class="gt_row gt_right">72</td></tr>
    <tr><td class="gt_row gt_right">1700178</td>
<td class="gt_row gt_left">Adair CDP, Illinois</td>
<td class="gt_row gt_right">210</td>
<td class="gt_row gt_right">126</td>
<td class="gt_row gt_right">192</td>
<td class="gt_row gt_right">106</td>
<td class="gt_row gt_right">18</td>
<td class="gt_row gt_right">29</td></tr>
    <tr><td class="gt_row gt_right">1700191</td>
<td class="gt_row gt_left">Adams CDP, Illinois</td>
<td class="gt_row gt_right">47</td>
<td class="gt_row gt_right">55</td>
<td class="gt_row gt_right">47</td>
<td class="gt_row gt_right">55</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td></tr>
    <tr><td class="gt_row gt_right">1700230</td>
<td class="gt_row gt_left">Addieville village, Illinois</td>
<td class="gt_row gt_right">359</td>
<td class="gt_row gt_right">81</td>
<td class="gt_row gt_right">348</td>
<td class="gt_row gt_right">83</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td></tr>
    <tr><td class="gt_row gt_right">1700243</td>
<td class="gt_row gt_left">Addison village, Illinois</td>
<td class="gt_row gt_right">35999</td>
<td class="gt_row gt_right">43</td>
<td class="gt_row gt_right">22423</td>
<td class="gt_row gt_right">1211</td>
<td class="gt_row gt_right">1702</td>
<td class="gt_row gt_right">459</td></tr>
    <tr><td class="gt_row gt_right">1700295</td>
<td class="gt_row gt_left">Adeline village, Illinois</td>
<td class="gt_row gt_right">95</td>
<td class="gt_row gt_right">43</td>
<td class="gt_row gt_right">94</td>
<td class="gt_row gt_right">43</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">2</td></tr>
    <tr><td class="gt_row gt_right">1700516</td>
<td class="gt_row gt_left">Albany village, Illinois</td>
<td class="gt_row gt_right">771</td>
<td class="gt_row gt_right">165</td>
<td class="gt_row gt_right">739</td>
<td class="gt_row gt_right">157</td>
<td class="gt_row gt_right">10</td>
<td class="gt_row gt_right">18</td></tr>
    <tr><td class="gt_row gt_right">1700555</td>
<td class="gt_row gt_left">Albers village, Illinois</td>
<td class="gt_row gt_right">1431</td>
<td class="gt_row gt_right">200</td>
<td class="gt_row gt_right">1387</td>
<td class="gt_row gt_right">205</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td></tr>
    <tr><td class="gt_row gt_right">1700568</td>
<td class="gt_row gt_left">Albion city, Illinois</td>
<td class="gt_row gt_right">2122</td>
<td class="gt_row gt_right">180</td>
<td class="gt_row gt_right">2033</td>
<td class="gt_row gt_right">179</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td></tr>
    <tr><td class="gt_row gt_right">1700594</td>
<td class="gt_row gt_left">Alden CDP, Illinois</td>
<td class="gt_row gt_right">188</td>
<td class="gt_row gt_right">280</td>
<td class="gt_row gt_right">188</td>
<td class="gt_row gt_right">280</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>Note that our original place_race_2021 data frame had 22 variables. The one we downloaded with our updated call only has 8 variables. What’s going on in <code>variables = c("B02001_001", "B02001_002", "B02001_003")</code>? The table is B02001, but then we also specify the <em>specific row</em> in the census data table, which actually gets represented as a column when downloaded here.</p>
<ul>
<li><p>B02001_001 contains the total population estimate</p></li>
<li><p>B02001_002 contains the white alone population</p></li>
<li><p>B02001_003 contains the total black alone population</p></li>
</ul>
<p>We could use the <code>tidyverse</code> command <code>mutate()</code> to create our other category and place into a new column in our dataset:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>place_race_2021 <span class="sc">|&gt;</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">p_other =</span> B02001_001E<span class="sc">-</span>(B02001_002E <span class="sc">+</span> B02001_003E)) <span class="sc">|&gt;</span> </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span> </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="goiljqxlwm" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#goiljqxlwm) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#goiljqxlwm) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#goiljqxlwm) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#goiljqxlwm) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#goiljqxlwm) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#goiljqxlwm) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#goiljqxlwm) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#goiljqxlwm) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#goiljqxlwm) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#goiljqxlwm) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#goiljqxlwm) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#goiljqxlwm) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

:where(#goiljqxlwm) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#goiljqxlwm) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#goiljqxlwm) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#goiljqxlwm) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#goiljqxlwm) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#goiljqxlwm) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#goiljqxlwm) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#goiljqxlwm) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#goiljqxlwm) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#goiljqxlwm) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#goiljqxlwm) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#goiljqxlwm) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#goiljqxlwm) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#goiljqxlwm) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#goiljqxlwm) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#goiljqxlwm) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#goiljqxlwm) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#goiljqxlwm) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#goiljqxlwm) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#goiljqxlwm) .gt_left {
  text-align: left;
}

:where(#goiljqxlwm) .gt_center {
  text-align: center;
}

:where(#goiljqxlwm) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#goiljqxlwm) .gt_font_normal {
  font-weight: normal;
}

:where(#goiljqxlwm) .gt_font_bold {
  font-weight: bold;
}

:where(#goiljqxlwm) .gt_font_italic {
  font-style: italic;
}

:where(#goiljqxlwm) .gt_super {
  font-size: 65%;
}

:where(#goiljqxlwm) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#goiljqxlwm) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#goiljqxlwm) .gt_indent_1 {
  text-indent: 5px;
}

:where(#goiljqxlwm) .gt_indent_2 {
  text-indent: 10px;
}

:where(#goiljqxlwm) .gt_indent_3 {
  text-indent: 15px;
}

:where(#goiljqxlwm) .gt_indent_4 {
  text-indent: 20px;
}

:where(#goiljqxlwm) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">GEOID</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">NAME</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_001E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_001M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_002E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_002M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_003E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_003M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">p_other</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_right">1700113</td>
<td class="gt_row gt_left">Abingdon city, Illinois</td>
<td class="gt_row gt_right">3586</td>
<td class="gt_row gt_right">385</td>
<td class="gt_row gt_right">3474</td>
<td class="gt_row gt_right">400</td>
<td class="gt_row gt_right">63</td>
<td class="gt_row gt_right">72</td>
<td class="gt_row gt_right">49</td></tr>
    <tr><td class="gt_row gt_right">1700178</td>
<td class="gt_row gt_left">Adair CDP, Illinois</td>
<td class="gt_row gt_right">210</td>
<td class="gt_row gt_right">126</td>
<td class="gt_row gt_right">192</td>
<td class="gt_row gt_right">106</td>
<td class="gt_row gt_right">18</td>
<td class="gt_row gt_right">29</td>
<td class="gt_row gt_right">0</td></tr>
    <tr><td class="gt_row gt_right">1700191</td>
<td class="gt_row gt_left">Adams CDP, Illinois</td>
<td class="gt_row gt_right">47</td>
<td class="gt_row gt_right">55</td>
<td class="gt_row gt_right">47</td>
<td class="gt_row gt_right">55</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td></tr>
    <tr><td class="gt_row gt_right">1700230</td>
<td class="gt_row gt_left">Addieville village, Illinois</td>
<td class="gt_row gt_right">359</td>
<td class="gt_row gt_right">81</td>
<td class="gt_row gt_right">348</td>
<td class="gt_row gt_right">83</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">11</td></tr>
    <tr><td class="gt_row gt_right">1700243</td>
<td class="gt_row gt_left">Addison village, Illinois</td>
<td class="gt_row gt_right">35999</td>
<td class="gt_row gt_right">43</td>
<td class="gt_row gt_right">22423</td>
<td class="gt_row gt_right">1211</td>
<td class="gt_row gt_right">1702</td>
<td class="gt_row gt_right">459</td>
<td class="gt_row gt_right">11874</td></tr>
    <tr><td class="gt_row gt_right">1700295</td>
<td class="gt_row gt_left">Adeline village, Illinois</td>
<td class="gt_row gt_right">95</td>
<td class="gt_row gt_right">43</td>
<td class="gt_row gt_right">94</td>
<td class="gt_row gt_right">43</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">0</td></tr>
    <tr><td class="gt_row gt_right">1700516</td>
<td class="gt_row gt_left">Albany village, Illinois</td>
<td class="gt_row gt_right">771</td>
<td class="gt_row gt_right">165</td>
<td class="gt_row gt_right">739</td>
<td class="gt_row gt_right">157</td>
<td class="gt_row gt_right">10</td>
<td class="gt_row gt_right">18</td>
<td class="gt_row gt_right">22</td></tr>
    <tr><td class="gt_row gt_right">1700555</td>
<td class="gt_row gt_left">Albers village, Illinois</td>
<td class="gt_row gt_right">1431</td>
<td class="gt_row gt_right">200</td>
<td class="gt_row gt_right">1387</td>
<td class="gt_row gt_right">205</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">44</td></tr>
    <tr><td class="gt_row gt_right">1700568</td>
<td class="gt_row gt_left">Albion city, Illinois</td>
<td class="gt_row gt_right">2122</td>
<td class="gt_row gt_right">180</td>
<td class="gt_row gt_right">2033</td>
<td class="gt_row gt_right">179</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">89</td></tr>
    <tr><td class="gt_row gt_right">1700594</td>
<td class="gt_row gt_left">Alden CDP, Illinois</td>
<td class="gt_row gt_right">188</td>
<td class="gt_row gt_right">280</td>
<td class="gt_row gt_right">188</td>
<td class="gt_row gt_right">280</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td>
<td class="gt_row gt_right">0</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>We might also want to rename our other two variables so that they are more readable, and might want to get rid of some of the other data we don’t need:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>place_race_2021 <span class="sc">|&gt;</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pop_other =</span> B02001_001E<span class="sc">-</span>(B02001_002E <span class="sc">+</span> B02001_003E)) <span class="sc">|&gt;</span>  </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Name =</span> NAME, <span class="at">pop_tot =</span> B02001_001E, <span class="at">pop_white =</span> B02001_002E, <span class="at">pop_black =</span> B02001_003E) <span class="sc">|&gt;</span> </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Name, pop_tot, pop_white, pop_black, pop_other) <span class="sc">|&gt;</span> </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span> </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="hjdahkyqea" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#hjdahkyqea) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#hjdahkyqea) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#hjdahkyqea) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#hjdahkyqea) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#hjdahkyqea) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#hjdahkyqea) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#hjdahkyqea) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#hjdahkyqea) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#hjdahkyqea) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#hjdahkyqea) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#hjdahkyqea) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#hjdahkyqea) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

:where(#hjdahkyqea) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#hjdahkyqea) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#hjdahkyqea) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#hjdahkyqea) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#hjdahkyqea) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#hjdahkyqea) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#hjdahkyqea) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#hjdahkyqea) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#hjdahkyqea) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#hjdahkyqea) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#hjdahkyqea) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#hjdahkyqea) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#hjdahkyqea) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#hjdahkyqea) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#hjdahkyqea) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#hjdahkyqea) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#hjdahkyqea) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#hjdahkyqea) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#hjdahkyqea) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#hjdahkyqea) .gt_left {
  text-align: left;
}

:where(#hjdahkyqea) .gt_center {
  text-align: center;
}

:where(#hjdahkyqea) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#hjdahkyqea) .gt_font_normal {
  font-weight: normal;
}

:where(#hjdahkyqea) .gt_font_bold {
  font-weight: bold;
}

:where(#hjdahkyqea) .gt_font_italic {
  font-style: italic;
}

:where(#hjdahkyqea) .gt_super {
  font-size: 65%;
}

:where(#hjdahkyqea) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#hjdahkyqea) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#hjdahkyqea) .gt_indent_1 {
  text-indent: 5px;
}

:where(#hjdahkyqea) .gt_indent_2 {
  text-indent: 10px;
}

:where(#hjdahkyqea) .gt_indent_3 {
  text-indent: 15px;
}

:where(#hjdahkyqea) .gt_indent_4 {
  text-indent: 20px;
}

:where(#hjdahkyqea) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">Name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_tot</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_white</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_black</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_other</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">Abingdon city, Illinois</td>
<td class="gt_row gt_right">3586</td>
<td class="gt_row gt_right">3474</td>
<td class="gt_row gt_right">63</td>
<td class="gt_row gt_right">49</td></tr>
    <tr><td class="gt_row gt_left">Adair CDP, Illinois</td>
<td class="gt_row gt_right">210</td>
<td class="gt_row gt_right">192</td>
<td class="gt_row gt_right">18</td>
<td class="gt_row gt_right">0</td></tr>
    <tr><td class="gt_row gt_left">Adams CDP, Illinois</td>
<td class="gt_row gt_right">47</td>
<td class="gt_row gt_right">47</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">0</td></tr>
    <tr><td class="gt_row gt_left">Addieville village, Illinois</td>
<td class="gt_row gt_right">359</td>
<td class="gt_row gt_right">348</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">11</td></tr>
    <tr><td class="gt_row gt_left">Addison village, Illinois</td>
<td class="gt_row gt_right">35999</td>
<td class="gt_row gt_right">22423</td>
<td class="gt_row gt_right">1702</td>
<td class="gt_row gt_right">11874</td></tr>
    <tr><td class="gt_row gt_left">Adeline village, Illinois</td>
<td class="gt_row gt_right">95</td>
<td class="gt_row gt_right">94</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">0</td></tr>
    <tr><td class="gt_row gt_left">Albany village, Illinois</td>
<td class="gt_row gt_right">771</td>
<td class="gt_row gt_right">739</td>
<td class="gt_row gt_right">10</td>
<td class="gt_row gt_right">22</td></tr>
    <tr><td class="gt_row gt_left">Albers village, Illinois</td>
<td class="gt_row gt_right">1431</td>
<td class="gt_row gt_right">1387</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">44</td></tr>
    <tr><td class="gt_row gt_left">Albion city, Illinois</td>
<td class="gt_row gt_right">2122</td>
<td class="gt_row gt_right">2033</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">89</td></tr>
    <tr><td class="gt_row gt_left">Alden CDP, Illinois</td>
<td class="gt_row gt_right">188</td>
<td class="gt_row gt_right">188</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">0</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>The above code does the following:</p>
<ul>
<li>Uses <code>mutate()</code> to create a new variable called <code>pop_other</code> that subtracts from the total population the white alone population and black alone population.</li>
<li>Pipes this through to a function which you haven’t seen before called <code>rename()</code> which allows us to rename columns by name with the specification <code>rename(new name = old name)</code></li>
<li>We then pipe this through and use <code>select()</code> to select only the name of the place, and our four named population columns - pop_total, pop_white, pop_black, pop_other.</li>
</ul>
<p>Let’s filter out just the data for Champaign, Illinois:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>place_race_2021 <span class="sc">|&gt;</span>  </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(NAME <span class="sc">==</span> <span class="st">"Champaign city, Illinois"</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pop_other =</span> B02001_001E<span class="sc">-</span>(B02001_002E <span class="sc">+</span> B02001_003E)) <span class="sc">|&gt;</span>  </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Name =</span> NAME, <span class="at">pop_tot =</span> B02001_001E, <span class="at">pop_white =</span> B02001_002E, <span class="at">pop_black =</span> B02001_003E) <span class="sc">|&gt;</span>  </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Name, pop_tot, pop_white, pop_black, pop_other) <span class="sc">|&gt;</span> </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="hcpllerzpf" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#hcpllerzpf) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#hcpllerzpf) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#hcpllerzpf) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#hcpllerzpf) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#hcpllerzpf) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#hcpllerzpf) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#hcpllerzpf) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#hcpllerzpf) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#hcpllerzpf) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#hcpllerzpf) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#hcpllerzpf) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#hcpllerzpf) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

:where(#hcpllerzpf) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#hcpllerzpf) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#hcpllerzpf) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#hcpllerzpf) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#hcpllerzpf) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#hcpllerzpf) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#hcpllerzpf) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#hcpllerzpf) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#hcpllerzpf) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#hcpllerzpf) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#hcpllerzpf) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#hcpllerzpf) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#hcpllerzpf) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#hcpllerzpf) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#hcpllerzpf) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#hcpllerzpf) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#hcpllerzpf) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#hcpllerzpf) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#hcpllerzpf) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#hcpllerzpf) .gt_left {
  text-align: left;
}

:where(#hcpllerzpf) .gt_center {
  text-align: center;
}

:where(#hcpllerzpf) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#hcpllerzpf) .gt_font_normal {
  font-weight: normal;
}

:where(#hcpllerzpf) .gt_font_bold {
  font-weight: bold;
}

:where(#hcpllerzpf) .gt_font_italic {
  font-style: italic;
}

:where(#hcpllerzpf) .gt_super {
  font-size: 65%;
}

:where(#hcpllerzpf) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#hcpllerzpf) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#hcpllerzpf) .gt_indent_1 {
  text-indent: 5px;
}

:where(#hcpllerzpf) .gt_indent_2 {
  text-indent: 10px;
}

:where(#hcpllerzpf) .gt_indent_3 {
  text-indent: 15px;
}

:where(#hcpllerzpf) .gt_indent_4 {
  text-indent: 20px;
}

:where(#hcpllerzpf) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">Name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_tot</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_white</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_black</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_other</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">Champaign city, Illinois</td>
<td class="gt_row gt_right">88343</td>
<td class="gt_row gt_right">54115</td>
<td class="gt_row gt_right">15741</td>
<td class="gt_row gt_right">18487</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>Note that if you look at the Name column that the name for each census place includes some additional information regarding what type of place it is (e.g.&nbsp;city, village, CDP). How would we filter for a place like Champaign if we didn’t know it was incorporated as a city?</p>
<p>Some possible strategies:</p>
<ol type="1">
<li>We could search through all 1,369 records to find the specific record for Champaign</li>
<li>We could search manually but first sort alphabetically by NAME which would make it a little easier to find the value for Champaign. The <code>arrange()</code> command allows us to sort:</li>
</ol>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>place_race_2021 <span class="sc">|&gt;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(NAME) <span class="sc">|&gt;</span> </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">20</span>) <span class="sc">|&gt;</span> </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="vdirfussmk" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#vdirfussmk) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#vdirfussmk) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#vdirfussmk) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#vdirfussmk) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#vdirfussmk) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#vdirfussmk) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#vdirfussmk) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#vdirfussmk) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#vdirfussmk) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#vdirfussmk) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#vdirfussmk) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#vdirfussmk) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

:where(#vdirfussmk) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#vdirfussmk) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#vdirfussmk) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#vdirfussmk) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#vdirfussmk) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#vdirfussmk) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#vdirfussmk) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#vdirfussmk) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#vdirfussmk) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#vdirfussmk) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#vdirfussmk) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#vdirfussmk) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#vdirfussmk) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#vdirfussmk) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#vdirfussmk) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#vdirfussmk) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#vdirfussmk) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#vdirfussmk) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#vdirfussmk) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#vdirfussmk) .gt_left {
  text-align: left;
}

:where(#vdirfussmk) .gt_center {
  text-align: center;
}

:where(#vdirfussmk) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#vdirfussmk) .gt_font_normal {
  font-weight: normal;
}

:where(#vdirfussmk) .gt_font_bold {
  font-weight: bold;
}

:where(#vdirfussmk) .gt_font_italic {
  font-style: italic;
}

:where(#vdirfussmk) .gt_super {
  font-size: 65%;
}

:where(#vdirfussmk) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#vdirfussmk) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#vdirfussmk) .gt_indent_1 {
  text-indent: 5px;
}

:where(#vdirfussmk) .gt_indent_2 {
  text-indent: 10px;
}

:where(#vdirfussmk) .gt_indent_3 {
  text-indent: 15px;
}

:where(#vdirfussmk) .gt_indent_4 {
  text-indent: 20px;
}

:where(#vdirfussmk) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">GEOID</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">NAME</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_001E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_001M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_002E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_002M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_003E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_003M</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_right">1700113</td>
<td class="gt_row gt_left">Abingdon city, Illinois</td>
<td class="gt_row gt_right">3586</td>
<td class="gt_row gt_right">385</td>
<td class="gt_row gt_right">3474</td>
<td class="gt_row gt_right">400</td>
<td class="gt_row gt_right">63</td>
<td class="gt_row gt_right">72</td></tr>
    <tr><td class="gt_row gt_right">1700178</td>
<td class="gt_row gt_left">Adair CDP, Illinois</td>
<td class="gt_row gt_right">210</td>
<td class="gt_row gt_right">126</td>
<td class="gt_row gt_right">192</td>
<td class="gt_row gt_right">106</td>
<td class="gt_row gt_right">18</td>
<td class="gt_row gt_right">29</td></tr>
    <tr><td class="gt_row gt_right">1700191</td>
<td class="gt_row gt_left">Adams CDP, Illinois</td>
<td class="gt_row gt_right">47</td>
<td class="gt_row gt_right">55</td>
<td class="gt_row gt_right">47</td>
<td class="gt_row gt_right">55</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td></tr>
    <tr><td class="gt_row gt_right">1700230</td>
<td class="gt_row gt_left">Addieville village, Illinois</td>
<td class="gt_row gt_right">359</td>
<td class="gt_row gt_right">81</td>
<td class="gt_row gt_right">348</td>
<td class="gt_row gt_right">83</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td></tr>
    <tr><td class="gt_row gt_right">1700243</td>
<td class="gt_row gt_left">Addison village, Illinois</td>
<td class="gt_row gt_right">35999</td>
<td class="gt_row gt_right">43</td>
<td class="gt_row gt_right">22423</td>
<td class="gt_row gt_right">1211</td>
<td class="gt_row gt_right">1702</td>
<td class="gt_row gt_right">459</td></tr>
    <tr><td class="gt_row gt_right">1700295</td>
<td class="gt_row gt_left">Adeline village, Illinois</td>
<td class="gt_row gt_right">95</td>
<td class="gt_row gt_right">43</td>
<td class="gt_row gt_right">94</td>
<td class="gt_row gt_right">43</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">2</td></tr>
    <tr><td class="gt_row gt_right">1700516</td>
<td class="gt_row gt_left">Albany village, Illinois</td>
<td class="gt_row gt_right">771</td>
<td class="gt_row gt_right">165</td>
<td class="gt_row gt_right">739</td>
<td class="gt_row gt_right">157</td>
<td class="gt_row gt_right">10</td>
<td class="gt_row gt_right">18</td></tr>
    <tr><td class="gt_row gt_right">1700555</td>
<td class="gt_row gt_left">Albers village, Illinois</td>
<td class="gt_row gt_right">1431</td>
<td class="gt_row gt_right">200</td>
<td class="gt_row gt_right">1387</td>
<td class="gt_row gt_right">205</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td></tr>
    <tr><td class="gt_row gt_right">1700568</td>
<td class="gt_row gt_left">Albion city, Illinois</td>
<td class="gt_row gt_right">2122</td>
<td class="gt_row gt_right">180</td>
<td class="gt_row gt_right">2033</td>
<td class="gt_row gt_right">179</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td></tr>
    <tr><td class="gt_row gt_right">1700594</td>
<td class="gt_row gt_left">Alden CDP, Illinois</td>
<td class="gt_row gt_right">188</td>
<td class="gt_row gt_right">280</td>
<td class="gt_row gt_right">188</td>
<td class="gt_row gt_right">280</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td></tr>
    <tr><td class="gt_row gt_right">1700646</td>
<td class="gt_row gt_left">Aledo city, Illinois</td>
<td class="gt_row gt_right">3860</td>
<td class="gt_row gt_right">84</td>
<td class="gt_row gt_right">3685</td>
<td class="gt_row gt_right">105</td>
<td class="gt_row gt_right">69</td>
<td class="gt_row gt_right">36</td></tr>
    <tr><td class="gt_row gt_right">1700659</td>
<td class="gt_row gt_left">Alexander CDP, Illinois</td>
<td class="gt_row gt_right">263</td>
<td class="gt_row gt_right">134</td>
<td class="gt_row gt_right">257</td>
<td class="gt_row gt_right">134</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td></tr>
    <tr><td class="gt_row gt_right">1700672</td>
<td class="gt_row gt_left">Alexis village, Illinois</td>
<td class="gt_row gt_right">735</td>
<td class="gt_row gt_right">166</td>
<td class="gt_row gt_right">693</td>
<td class="gt_row gt_right">160</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td></tr>
    <tr><td class="gt_row gt_right">1700685</td>
<td class="gt_row gt_left">Algonquin village, Illinois</td>
<td class="gt_row gt_right">29869</td>
<td class="gt_row gt_right">55</td>
<td class="gt_row gt_right">24997</td>
<td class="gt_row gt_right">659</td>
<td class="gt_row gt_right">789</td>
<td class="gt_row gt_right">362</td></tr>
    <tr><td class="gt_row gt_right">1700737</td>
<td class="gt_row gt_left">Alhambra village, Illinois</td>
<td class="gt_row gt_right">627</td>
<td class="gt_row gt_right">154</td>
<td class="gt_row gt_right">609</td>
<td class="gt_row gt_right">151</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td></tr>
    <tr><td class="gt_row gt_right">1700815</td>
<td class="gt_row gt_left">Allendale village, Illinois</td>
<td class="gt_row gt_right">709</td>
<td class="gt_row gt_right">156</td>
<td class="gt_row gt_right">633</td>
<td class="gt_row gt_right">143</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td></tr>
    <tr><td class="gt_row gt_right">1700867</td>
<td class="gt_row gt_left">Allenville village, Illinois</td>
<td class="gt_row gt_right">111</td>
<td class="gt_row gt_right">59</td>
<td class="gt_row gt_right">111</td>
<td class="gt_row gt_right">59</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td></tr>
    <tr><td class="gt_row gt_right">1700880</td>
<td class="gt_row gt_left">Allerton village, Illinois</td>
<td class="gt_row gt_right">226</td>
<td class="gt_row gt_right">56</td>
<td class="gt_row gt_right">197</td>
<td class="gt_row gt_right">50</td>
<td class="gt_row gt_right">19</td>
<td class="gt_row gt_right">23</td></tr>
    <tr><td class="gt_row gt_right">1700919</td>
<td class="gt_row gt_left">Alma village, Illinois</td>
<td class="gt_row gt_right">304</td>
<td class="gt_row gt_right">77</td>
<td class="gt_row gt_right">299</td>
<td class="gt_row gt_right">76</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td></tr>
    <tr><td class="gt_row gt_right">1700958</td>
<td class="gt_row gt_left">Alorton village, Illinois</td>
<td class="gt_row gt_right">1864</td>
<td class="gt_row gt_right">388</td>
<td class="gt_row gt_right">33</td>
<td class="gt_row gt_right">44</td>
<td class="gt_row gt_right">1806</td>
<td class="gt_row gt_right">388</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>If we wanted to sort this list in the opposite direction, we can use the <code>desc()</code> command to do so:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>place_race_2021 <span class="sc">|&gt;</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(NAME)) <span class="sc">|&gt;</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">20</span>) <span class="sc">|&gt;</span> </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="prrtjepbjx" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#prrtjepbjx) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#prrtjepbjx) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#prrtjepbjx) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#prrtjepbjx) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#prrtjepbjx) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#prrtjepbjx) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#prrtjepbjx) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#prrtjepbjx) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#prrtjepbjx) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#prrtjepbjx) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#prrtjepbjx) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#prrtjepbjx) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

:where(#prrtjepbjx) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#prrtjepbjx) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#prrtjepbjx) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#prrtjepbjx) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#prrtjepbjx) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#prrtjepbjx) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#prrtjepbjx) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#prrtjepbjx) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#prrtjepbjx) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#prrtjepbjx) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#prrtjepbjx) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#prrtjepbjx) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#prrtjepbjx) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#prrtjepbjx) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#prrtjepbjx) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#prrtjepbjx) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#prrtjepbjx) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#prrtjepbjx) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#prrtjepbjx) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#prrtjepbjx) .gt_left {
  text-align: left;
}

:where(#prrtjepbjx) .gt_center {
  text-align: center;
}

:where(#prrtjepbjx) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#prrtjepbjx) .gt_font_normal {
  font-weight: normal;
}

:where(#prrtjepbjx) .gt_font_bold {
  font-weight: bold;
}

:where(#prrtjepbjx) .gt_font_italic {
  font-style: italic;
}

:where(#prrtjepbjx) .gt_super {
  font-size: 65%;
}

:where(#prrtjepbjx) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#prrtjepbjx) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#prrtjepbjx) .gt_indent_1 {
  text-indent: 5px;
}

:where(#prrtjepbjx) .gt_indent_2 {
  text-indent: 10px;
}

:where(#prrtjepbjx) .gt_indent_3 {
  text-indent: 15px;
}

:where(#prrtjepbjx) .gt_indent_4 {
  text-indent: 20px;
}

:where(#prrtjepbjx) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">GEOID</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">NAME</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_001E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_001M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_002E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_002M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_003E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_003M</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_right">1784220</td>
<td class="gt_row gt_left">Zion city, Illinois</td>
<td class="gt_row gt_right">24660</td>
<td class="gt_row gt_right">74</td>
<td class="gt_row gt_right">12130</td>
<td class="gt_row gt_right">1175</td>
<td class="gt_row gt_right">6447</td>
<td class="gt_row gt_right">768</td></tr>
    <tr><td class="gt_row gt_right">1784155</td>
<td class="gt_row gt_left">Zeigler city, Illinois</td>
<td class="gt_row gt_right">1563</td>
<td class="gt_row gt_right">200</td>
<td class="gt_row gt_right">1512</td>
<td class="gt_row gt_right">194</td>
<td class="gt_row gt_right">7</td>
<td class="gt_row gt_right">12</td></tr>
    <tr><td class="gt_row gt_right">1784038</td>
<td class="gt_row gt_left">Yorkville city, Illinois</td>
<td class="gt_row gt_right">20503</td>
<td class="gt_row gt_right">638</td>
<td class="gt_row gt_right">16005</td>
<td class="gt_row gt_right">1706</td>
<td class="gt_row gt_right">2367</td>
<td class="gt_row gt_right">1259</td></tr>
    <tr><td class="gt_row gt_right">1783817</td>
<td class="gt_row gt_left">Yates City village, Illinois</td>
<td class="gt_row gt_right">711</td>
<td class="gt_row gt_right">154</td>
<td class="gt_row gt_right">683</td>
<td class="gt_row gt_right">154</td>
<td class="gt_row gt_right">5</td>
<td class="gt_row gt_right">7</td></tr>
    <tr><td class="gt_row gt_right">1783765</td>
<td class="gt_row gt_left">Yale village, Illinois</td>
<td class="gt_row gt_right">84</td>
<td class="gt_row gt_right">41</td>
<td class="gt_row gt_right">76</td>
<td class="gt_row gt_right">39</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td></tr>
    <tr><td class="gt_row gt_right">1783739</td>
<td class="gt_row gt_left">Xenia village, Illinois</td>
<td class="gt_row gt_right">337</td>
<td class="gt_row gt_right">97</td>
<td class="gt_row gt_right">317</td>
<td class="gt_row gt_right">95</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td></tr>
    <tr><td class="gt_row gt_right">1783687</td>
<td class="gt_row gt_left">Wyoming city, Illinois</td>
<td class="gt_row gt_right">1428</td>
<td class="gt_row gt_right">192</td>
<td class="gt_row gt_right">1360</td>
<td class="gt_row gt_right">187</td>
<td class="gt_row gt_right">18</td>
<td class="gt_row gt_right">18</td></tr>
    <tr><td class="gt_row gt_right">1783622</td>
<td class="gt_row gt_left">Wyanet village, Illinois</td>
<td class="gt_row gt_right">1015</td>
<td class="gt_row gt_right">172</td>
<td class="gt_row gt_right">969</td>
<td class="gt_row gt_right">173</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">5</td></tr>
    <tr><td class="gt_row gt_right">1783518</td>
<td class="gt_row gt_left">Worth village, Illinois</td>
<td class="gt_row gt_right">10909</td>
<td class="gt_row gt_right">38</td>
<td class="gt_row gt_right">8807</td>
<td class="gt_row gt_right">702</td>
<td class="gt_row gt_right">275</td>
<td class="gt_row gt_right">139</td></tr>
    <tr><td class="gt_row gt_right">1783505</td>
<td class="gt_row gt_left">Worden village, Illinois</td>
<td class="gt_row gt_right">800</td>
<td class="gt_row gt_right">173</td>
<td class="gt_row gt_right">762</td>
<td class="gt_row gt_right">169</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td></tr>
    <tr><td class="gt_row gt_right">1783349</td>
<td class="gt_row gt_left">Woodstock city, Illinois</td>
<td class="gt_row gt_right">25829</td>
<td class="gt_row gt_right">345</td>
<td class="gt_row gt_right">21197</td>
<td class="gt_row gt_right">1104</td>
<td class="gt_row gt_right">558</td>
<td class="gt_row gt_right">258</td></tr>
    <tr><td class="gt_row gt_right">1783336</td>
<td class="gt_row gt_left">Woodson village, Illinois</td>
<td class="gt_row gt_right">570</td>
<td class="gt_row gt_right">157</td>
<td class="gt_row gt_right">554</td>
<td class="gt_row gt_right">154</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td></tr>
    <tr><td class="gt_row gt_right">1783245</td>
<td class="gt_row gt_left">Woodridge village, Illinois</td>
<td class="gt_row gt_right">34161</td>
<td class="gt_row gt_right">131</td>
<td class="gt_row gt_right">22766</td>
<td class="gt_row gt_right">976</td>
<td class="gt_row gt_right">4097</td>
<td class="gt_row gt_right">980</td></tr>
    <tr><td class="gt_row gt_right">1783206</td>
<td class="gt_row gt_left">Woodlawn village, Illinois</td>
<td class="gt_row gt_right">647</td>
<td class="gt_row gt_right">126</td>
<td class="gt_row gt_right">597</td>
<td class="gt_row gt_right">119</td>
<td class="gt_row gt_right">7</td>
<td class="gt_row gt_right">9</td></tr>
    <tr><td class="gt_row gt_right">1783102</td>
<td class="gt_row gt_left">Woodland village, Illinois</td>
<td class="gt_row gt_right">286</td>
<td class="gt_row gt_right">115</td>
<td class="gt_row gt_right">263</td>
<td class="gt_row gt_right">100</td>
<td class="gt_row gt_right">5</td>
<td class="gt_row gt_right">14</td></tr>
    <tr><td class="gt_row gt_right">1783063</td>
<td class="gt_row gt_left">Woodhull village, Illinois</td>
<td class="gt_row gt_right">782</td>
<td class="gt_row gt_right">147</td>
<td class="gt_row gt_right">768</td>
<td class="gt_row gt_right">145</td>
<td class="gt_row gt_right">5</td>
<td class="gt_row gt_right">8</td></tr>
    <tr><td class="gt_row gt_right">1783271</td>
<td class="gt_row gt_left">Wood River city, Illinois</td>
<td class="gt_row gt_right">10325</td>
<td class="gt_row gt_right">28</td>
<td class="gt_row gt_right">9324</td>
<td class="gt_row gt_right">401</td>
<td class="gt_row gt_right">499</td>
<td class="gt_row gt_right">306</td></tr>
    <tr><td class="gt_row gt_right">1782985</td>
<td class="gt_row gt_left">Wood Dale city, Illinois</td>
<td class="gt_row gt_right">14034</td>
<td class="gt_row gt_right">24</td>
<td class="gt_row gt_right">10351</td>
<td class="gt_row gt_right">912</td>
<td class="gt_row gt_right">326</td>
<td class="gt_row gt_right">247</td></tr>
    <tr><td class="gt_row gt_right">1782855</td>
<td class="gt_row gt_left">Wonder Lake village, Illinois</td>
<td class="gt_row gt_right">4032</td>
<td class="gt_row gt_right">403</td>
<td class="gt_row gt_right">3381</td>
<td class="gt_row gt_right">651</td>
<td class="gt_row gt_right">0</td>
<td class="gt_row gt_right">12</td></tr>
    <tr><td class="gt_row gt_right">1782725</td>
<td class="gt_row gt_left">Witt city, Illinois</td>
<td class="gt_row gt_right">638</td>
<td class="gt_row gt_right">164</td>
<td class="gt_row gt_right">629</td>
<td class="gt_row gt_right">155</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">24</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<ol start="3" type="1">
<li>We could call upon a flexible tool for identifying matches within a character vector from the <code>stringr</code> package called <code>str_detect()</code>:</li>
</ol>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>place_race_2021 <span class="sc">|&gt;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(NAME, <span class="st">"Champaign"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="sdocyumtbh" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#sdocyumtbh) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#sdocyumtbh) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#sdocyumtbh) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#sdocyumtbh) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#sdocyumtbh) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#sdocyumtbh) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#sdocyumtbh) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#sdocyumtbh) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#sdocyumtbh) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#sdocyumtbh) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#sdocyumtbh) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#sdocyumtbh) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

:where(#sdocyumtbh) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#sdocyumtbh) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#sdocyumtbh) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#sdocyumtbh) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#sdocyumtbh) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#sdocyumtbh) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#sdocyumtbh) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#sdocyumtbh) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#sdocyumtbh) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#sdocyumtbh) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#sdocyumtbh) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#sdocyumtbh) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#sdocyumtbh) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#sdocyumtbh) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#sdocyumtbh) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#sdocyumtbh) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#sdocyumtbh) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#sdocyumtbh) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#sdocyumtbh) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#sdocyumtbh) .gt_left {
  text-align: left;
}

:where(#sdocyumtbh) .gt_center {
  text-align: center;
}

:where(#sdocyumtbh) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#sdocyumtbh) .gt_font_normal {
  font-weight: normal;
}

:where(#sdocyumtbh) .gt_font_bold {
  font-weight: bold;
}

:where(#sdocyumtbh) .gt_font_italic {
  font-style: italic;
}

:where(#sdocyumtbh) .gt_super {
  font-size: 65%;
}

:where(#sdocyumtbh) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#sdocyumtbh) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#sdocyumtbh) .gt_indent_1 {
  text-indent: 5px;
}

:where(#sdocyumtbh) .gt_indent_2 {
  text-indent: 10px;
}

:where(#sdocyumtbh) .gt_indent_3 {
  text-indent: 15px;
}

:where(#sdocyumtbh) .gt_indent_4 {
  text-indent: 20px;
}

:where(#sdocyumtbh) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">GEOID</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">NAME</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_001E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_001M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_002E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_002M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_003E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_003M</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_right">1712385</td>
<td class="gt_row gt_left">Champaign city, Illinois</td>
<td class="gt_row gt_right">88343</td>
<td class="gt_row gt_right">45</td>
<td class="gt_row gt_right">54115</td>
<td class="gt_row gt_right">1105</td>
<td class="gt_row gt_right">15741</td>
<td class="gt_row gt_right">1104</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>This says, look in the NAME column, and find those values where <strong>part</strong> of the row matches “Champaign”.</p>
<p>Let’s look again at our cleaned up observations for Champaign:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>place_race_2021 <span class="sc">|&gt;</span>  </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(NAME <span class="sc">==</span> <span class="st">"Champaign city, Illinois"</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pop_other =</span> B02001_001E<span class="sc">-</span>(B02001_002E <span class="sc">+</span> B02001_003E)) <span class="sc">|&gt;</span> </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Name =</span> NAME, <span class="at">pop_tot =</span> B02001_001E, <span class="at">pop_white =</span> B02001_002E, <span class="at">pop_black =</span> B02001_003E) <span class="sc">|&gt;</span> </span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Name, pop_tot, pop_white, pop_black, pop_other) <span class="sc">|&gt;</span> </span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="hqfeecqbqc" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#hqfeecqbqc) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#hqfeecqbqc) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#hqfeecqbqc) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#hqfeecqbqc) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#hqfeecqbqc) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#hqfeecqbqc) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#hqfeecqbqc) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#hqfeecqbqc) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#hqfeecqbqc) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#hqfeecqbqc) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#hqfeecqbqc) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#hqfeecqbqc) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

:where(#hqfeecqbqc) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#hqfeecqbqc) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#hqfeecqbqc) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#hqfeecqbqc) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#hqfeecqbqc) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#hqfeecqbqc) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#hqfeecqbqc) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#hqfeecqbqc) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#hqfeecqbqc) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#hqfeecqbqc) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#hqfeecqbqc) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#hqfeecqbqc) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#hqfeecqbqc) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#hqfeecqbqc) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#hqfeecqbqc) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#hqfeecqbqc) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#hqfeecqbqc) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#hqfeecqbqc) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#hqfeecqbqc) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#hqfeecqbqc) .gt_left {
  text-align: left;
}

:where(#hqfeecqbqc) .gt_center {
  text-align: center;
}

:where(#hqfeecqbqc) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#hqfeecqbqc) .gt_font_normal {
  font-weight: normal;
}

:where(#hqfeecqbqc) .gt_font_bold {
  font-weight: bold;
}

:where(#hqfeecqbqc) .gt_font_italic {
  font-style: italic;
}

:where(#hqfeecqbqc) .gt_super {
  font-size: 65%;
}

:where(#hqfeecqbqc) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#hqfeecqbqc) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#hqfeecqbqc) .gt_indent_1 {
  text-indent: 5px;
}

:where(#hqfeecqbqc) .gt_indent_2 {
  text-indent: 10px;
}

:where(#hqfeecqbqc) .gt_indent_3 {
  text-indent: 15px;
}

:where(#hqfeecqbqc) .gt_indent_4 {
  text-indent: 20px;
}

:where(#hqfeecqbqc) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">Name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_tot</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_white</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_black</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_other</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">Champaign city, Illinois</td>
<td class="gt_row gt_right">88343</td>
<td class="gt_row gt_right">54115</td>
<td class="gt_row gt_right">15741</td>
<td class="gt_row gt_right">18487</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>There’s a fairly sizable population that falls into the “pop_other” category. We could not worry about this, but it probably makes sense to see if there’s another relatively large population group that we should itemize for in Champaign. Let’s go back and download the whole table (and overwrite our existing one) to be able to take a closer look:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>place_race_2021<span class="ot">&lt;-</span><span class="fu">get_acs</span>(<span class="at">geography =</span> <span class="st">"place"</span>, <span class="at">state =</span> <span class="st">"IL"</span>, <span class="at">table =</span> <span class="st">"B02001"</span>, <span class="at">year=</span><span class="dv">2021</span>, <span class="at">survey=</span><span class="st">"acs5"</span>, <span class="at">output=</span><span class="st">"wide"</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>place_race_2021 <span class="sc">|&gt;</span> </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(NAME <span class="sc">==</span> <span class="st">"Champaign city, Illinois"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="iniklnamzg" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#iniklnamzg) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#iniklnamzg) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#iniklnamzg) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#iniklnamzg) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#iniklnamzg) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#iniklnamzg) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#iniklnamzg) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#iniklnamzg) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#iniklnamzg) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#iniklnamzg) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#iniklnamzg) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#iniklnamzg) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

:where(#iniklnamzg) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#iniklnamzg) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#iniklnamzg) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#iniklnamzg) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#iniklnamzg) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#iniklnamzg) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#iniklnamzg) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#iniklnamzg) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#iniklnamzg) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#iniklnamzg) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#iniklnamzg) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#iniklnamzg) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#iniklnamzg) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#iniklnamzg) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#iniklnamzg) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#iniklnamzg) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#iniklnamzg) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#iniklnamzg) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#iniklnamzg) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#iniklnamzg) .gt_left {
  text-align: left;
}

:where(#iniklnamzg) .gt_center {
  text-align: center;
}

:where(#iniklnamzg) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#iniklnamzg) .gt_font_normal {
  font-weight: normal;
}

:where(#iniklnamzg) .gt_font_bold {
  font-weight: bold;
}

:where(#iniklnamzg) .gt_font_italic {
  font-style: italic;
}

:where(#iniklnamzg) .gt_super {
  font-size: 65%;
}

:where(#iniklnamzg) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#iniklnamzg) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#iniklnamzg) .gt_indent_1 {
  text-indent: 5px;
}

:where(#iniklnamzg) .gt_indent_2 {
  text-indent: 10px;
}

:where(#iniklnamzg) .gt_indent_3 {
  text-indent: 15px;
}

:where(#iniklnamzg) .gt_indent_4 {
  text-indent: 20px;
}

:where(#iniklnamzg) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">GEOID</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">NAME</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_001E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_001M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_002E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_002M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_003E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_003M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_004E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_004M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_005E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_005M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_006E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_006M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_007E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_007M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_008E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_008M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_009E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_009M</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_010E</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">B02001_010M</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_right">1712385</td>
<td class="gt_row gt_left">Champaign city, Illinois</td>
<td class="gt_row gt_right">88343</td>
<td class="gt_row gt_right">45</td>
<td class="gt_row gt_right">54115</td>
<td class="gt_row gt_right">1105</td>
<td class="gt_row gt_right">15741</td>
<td class="gt_row gt_right">1104</td>
<td class="gt_row gt_right">30</td>
<td class="gt_row gt_right">29</td>
<td class="gt_row gt_right">13310</td>
<td class="gt_row gt_right">750</td>
<td class="gt_row gt_right">24</td>
<td class="gt_row gt_right">36</td>
<td class="gt_row gt_right">1375</td>
<td class="gt_row gt_right">464</td>
<td class="gt_row gt_right">3748</td>
<td class="gt_row gt_right">777</td>
<td class="gt_row gt_right">950</td>
<td class="gt_row gt_right">266</td>
<td class="gt_row gt_right">2798</td>
<td class="gt_row gt_right">684</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<ul>
<li>Total Population 88,343 (B02001_001E)</li>
<li>White Population 54,115 (B02001_002E)</li>
<li>Black Population 15,741 (B02001_003E)</li>
</ul>
<p>There’s a fairly sizable number of people in B02001_005E (13,310). What racial group is represented there? Given that large a number, let’s add this group into the racial summary table we’re working to develop:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>place_race_2021 <span class="sc">|&gt;</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(NAME <span class="sc">==</span> <span class="st">"Champaign city, Illinois"</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pop_other =</span> B02001_001E<span class="sc">-</span>(B02001_002E <span class="sc">+</span> B02001_003E<span class="sc">+</span> B02001_005E)) <span class="sc">|&gt;</span> </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Name =</span> NAME, <span class="at">pop_tot =</span> B02001_001E, <span class="at">pop_white =</span> B02001_002E, <span class="at">pop_black =</span> B02001_003E, <span class="at">pop_asian =</span> B02001_005E) <span class="sc">|&gt;</span> </span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Name, pop_tot, pop_white, pop_black, pop_asian, pop_other) <span class="sc">|&gt;</span> </span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="colfdfrmxm" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#colfdfrmxm) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#colfdfrmxm) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#colfdfrmxm) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#colfdfrmxm) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#colfdfrmxm) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#colfdfrmxm) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#colfdfrmxm) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#colfdfrmxm) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#colfdfrmxm) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#colfdfrmxm) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#colfdfrmxm) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#colfdfrmxm) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

:where(#colfdfrmxm) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#colfdfrmxm) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#colfdfrmxm) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#colfdfrmxm) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#colfdfrmxm) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#colfdfrmxm) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#colfdfrmxm) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#colfdfrmxm) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#colfdfrmxm) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#colfdfrmxm) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#colfdfrmxm) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#colfdfrmxm) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#colfdfrmxm) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#colfdfrmxm) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#colfdfrmxm) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#colfdfrmxm) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#colfdfrmxm) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#colfdfrmxm) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#colfdfrmxm) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#colfdfrmxm) .gt_left {
  text-align: left;
}

:where(#colfdfrmxm) .gt_center {
  text-align: center;
}

:where(#colfdfrmxm) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#colfdfrmxm) .gt_font_normal {
  font-weight: normal;
}

:where(#colfdfrmxm) .gt_font_bold {
  font-weight: bold;
}

:where(#colfdfrmxm) .gt_font_italic {
  font-style: italic;
}

:where(#colfdfrmxm) .gt_super {
  font-size: 65%;
}

:where(#colfdfrmxm) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#colfdfrmxm) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#colfdfrmxm) .gt_indent_1 {
  text-indent: 5px;
}

:where(#colfdfrmxm) .gt_indent_2 {
  text-indent: 10px;
}

:where(#colfdfrmxm) .gt_indent_3 {
  text-indent: 15px;
}

:where(#colfdfrmxm) .gt_indent_4 {
  text-indent: 20px;
}

:where(#colfdfrmxm) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">Name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_tot</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_white</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_black</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_asian</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_other</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">Champaign city, Illinois</td>
<td class="gt_row gt_right">88343</td>
<td class="gt_row gt_right">54115</td>
<td class="gt_row gt_right">15741</td>
<td class="gt_row gt_right">13310</td>
<td class="gt_row gt_right">5177</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>The missing group with a fairly large population in this case is the Asian population. By adding this group, we lower the proportion of the total population in the “other” category substantially. This now looks a bit more presentable (and informative). There’s no hard and fast rule for which groups to represent. However, it’s important to note that it is often beneficial to make use of an “other” category in instances where you have small numbers (unless there’s detail there which your audience needs to see).</p>
<p>Let’s go ahead and write this cleaned information back into place_race_2021:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>place_race_2021<span class="ot">&lt;-</span>place_race_2021 <span class="sc">|&gt;</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(NAME <span class="sc">==</span> <span class="st">"Champaign city, Illinois"</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pop_other =</span> B02001_001E<span class="sc">-</span>(B02001_002E <span class="sc">+</span> B02001_003E<span class="sc">+</span> B02001_005E)) <span class="sc">|&gt;</span>  </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Name =</span> NAME, <span class="at">pop_tot =</span> B02001_001E, <span class="at">pop_white =</span> B02001_002E, <span class="at">pop_black =</span> B02001_003E, <span class="at">pop_asian =</span> B02001_005E) <span class="sc">|&gt;</span>  </span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Name, pop_tot, pop_white, pop_black, pop_asian, pop_other)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>place_race_2021 <span class="sc">|&gt;</span> <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="ealylffhid" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#ealylffhid) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#ealylffhid) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#ealylffhid) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#ealylffhid) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#ealylffhid) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#ealylffhid) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#ealylffhid) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#ealylffhid) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#ealylffhid) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#ealylffhid) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#ealylffhid) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#ealylffhid) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

:where(#ealylffhid) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#ealylffhid) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#ealylffhid) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#ealylffhid) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#ealylffhid) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ealylffhid) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#ealylffhid) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#ealylffhid) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ealylffhid) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#ealylffhid) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#ealylffhid) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#ealylffhid) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ealylffhid) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#ealylffhid) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#ealylffhid) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#ealylffhid) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#ealylffhid) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ealylffhid) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#ealylffhid) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ealylffhid) .gt_left {
  text-align: left;
}

:where(#ealylffhid) .gt_center {
  text-align: center;
}

:where(#ealylffhid) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#ealylffhid) .gt_font_normal {
  font-weight: normal;
}

:where(#ealylffhid) .gt_font_bold {
  font-weight: bold;
}

:where(#ealylffhid) .gt_font_italic {
  font-style: italic;
}

:where(#ealylffhid) .gt_super {
  font-size: 65%;
}

:where(#ealylffhid) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#ealylffhid) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#ealylffhid) .gt_indent_1 {
  text-indent: 5px;
}

:where(#ealylffhid) .gt_indent_2 {
  text-indent: 10px;
}

:where(#ealylffhid) .gt_indent_3 {
  text-indent: 15px;
}

:where(#ealylffhid) .gt_indent_4 {
  text-indent: 20px;
}

:where(#ealylffhid) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">Name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_tot</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_white</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_black</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_asian</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_other</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">Champaign city, Illinois</td>
<td class="gt_row gt_right">88343</td>
<td class="gt_row gt_right">54115</td>
<td class="gt_row gt_right">15741</td>
<td class="gt_row gt_right">13310</td>
<td class="gt_row gt_right">5177</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>From here, we could do a few more things:</p>
<ol type="1">
<li>Construct an analogous table from our county data for Champaign County, Illinois.</li>
<li>Construct percentages for the values we’ve found, which can make comparison much easier.</li>
</ol>
</section>
<section id="construct-county-data" class="level3">
<h3 class="anchored" data-anchor-id="construct-county-data">Construct County Data</h3>
<p>Perform the same table cleaning and re-labeling for our county data that you did for our data for Champaign, and overwrite the existing data with this new data.</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>county_race_2021 <span class="ot">&lt;-</span><span class="fu">get_acs</span>(<span class="at">geography =</span> <span class="st">"county"</span>, <span class="at">state =</span> <span class="st">"IL"</span>, <span class="at">table =</span> <span class="st">"B02001"</span>, <span class="at">year=</span><span class="dv">2021</span>, <span class="at">survey=</span><span class="st">"acs5"</span>, <span class="at">output=</span><span class="st">"wide"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(NAME <span class="sc">==</span> <span class="st">"Champaign County, Illinois"</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pop_other =</span> B02001_001E<span class="sc">-</span>(B02001_002E <span class="sc">+</span> B02001_003E<span class="sc">+</span> B02001_005E)) <span class="sc">|&gt;</span>  </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Name =</span> NAME, <span class="at">pop_tot =</span> B02001_001E, <span class="at">pop_white =</span> B02001_002E, <span class="at">pop_black =</span> B02001_003E, <span class="at">pop_asian =</span> B02001_005E) <span class="sc">|&gt;</span>  </span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Name, pop_tot, pop_white, pop_black, pop_asian, pop_other)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>county_race_2021 <span class="sc">|&gt;</span> <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="pfrblyhwcm" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#pfrblyhwcm) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#pfrblyhwcm) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#pfrblyhwcm) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#pfrblyhwcm) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#pfrblyhwcm) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#pfrblyhwcm) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#pfrblyhwcm) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#pfrblyhwcm) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#pfrblyhwcm) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#pfrblyhwcm) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#pfrblyhwcm) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#pfrblyhwcm) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

:where(#pfrblyhwcm) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#pfrblyhwcm) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#pfrblyhwcm) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#pfrblyhwcm) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#pfrblyhwcm) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#pfrblyhwcm) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#pfrblyhwcm) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#pfrblyhwcm) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#pfrblyhwcm) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#pfrblyhwcm) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#pfrblyhwcm) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#pfrblyhwcm) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#pfrblyhwcm) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#pfrblyhwcm) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#pfrblyhwcm) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#pfrblyhwcm) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#pfrblyhwcm) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#pfrblyhwcm) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#pfrblyhwcm) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#pfrblyhwcm) .gt_left {
  text-align: left;
}

:where(#pfrblyhwcm) .gt_center {
  text-align: center;
}

:where(#pfrblyhwcm) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#pfrblyhwcm) .gt_font_normal {
  font-weight: normal;
}

:where(#pfrblyhwcm) .gt_font_bold {
  font-weight: bold;
}

:where(#pfrblyhwcm) .gt_font_italic {
  font-style: italic;
}

:where(#pfrblyhwcm) .gt_super {
  font-size: 65%;
}

:where(#pfrblyhwcm) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#pfrblyhwcm) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#pfrblyhwcm) .gt_indent_1 {
  text-indent: 5px;
}

:where(#pfrblyhwcm) .gt_indent_2 {
  text-indent: 10px;
}

:where(#pfrblyhwcm) .gt_indent_3 {
  text-indent: 15px;
}

:where(#pfrblyhwcm) .gt_indent_4 {
  text-indent: 20px;
}

:where(#pfrblyhwcm) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">Name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_tot</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_white</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_black</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_asian</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_other</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">Champaign County, Illinois</td>
<td class="gt_row gt_right">206583</td>
<td class="gt_row gt_right">144522</td>
<td class="gt_row gt_right">26996</td>
<td class="gt_row gt_right">22204</td>
<td class="gt_row gt_right">12861</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</section>
<section id="construct-percentages" class="level3">
<h3 class="anchored" data-anchor-id="construct-percentages">Construct Percentages</h3>
<p>Now that we have “clean” data for City of Champaign and Champaign County, calculate percentages of the total population for each racial category and add these as new columns in their respective data tables:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>place_race_2021<span class="ot">&lt;-</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  place_race_2021 <span class="sc">|&gt;</span>  </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">p_white =</span> (pop_white<span class="sc">/</span>pop_tot)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">p_black =</span> (pop_black<span class="sc">/</span>pop_tot)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">p_asian =</span> (pop_asian <span class="sc">/</span> pop_tot)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">p_other =</span> (pop_other<span class="sc">/</span>pop_tot)<span class="sc">*</span><span class="dv">100</span>)</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>county_race_2021<span class="ot">&lt;-</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  county_race_2021 <span class="sc">%&gt;%</span> </span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">p_white =</span> (pop_white<span class="sc">/</span>pop_tot)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">p_black =</span> (pop_black<span class="sc">/</span>pop_tot)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">p_asian =</span> (pop_asian <span class="sc">/</span> pop_tot)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">p_other =</span> (pop_other<span class="sc">/</span>pop_tot)<span class="sc">*</span><span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>From here, we could copy and paste out values to construct a final table, or could combine values to create our own table:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>race_2021<span class="ot">&lt;-</span><span class="fu">bind_rows</span>(place_race_2021, county_race_2021)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>race_2021 <span class="sc">|&gt;</span> <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="ngmrrhihua" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#ngmrrhihua) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#ngmrrhihua) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#ngmrrhihua) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#ngmrrhihua) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#ngmrrhihua) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#ngmrrhihua) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#ngmrrhihua) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#ngmrrhihua) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#ngmrrhihua) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#ngmrrhihua) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#ngmrrhihua) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#ngmrrhihua) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

:where(#ngmrrhihua) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#ngmrrhihua) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#ngmrrhihua) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#ngmrrhihua) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#ngmrrhihua) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ngmrrhihua) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#ngmrrhihua) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#ngmrrhihua) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ngmrrhihua) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#ngmrrhihua) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#ngmrrhihua) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#ngmrrhihua) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ngmrrhihua) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#ngmrrhihua) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#ngmrrhihua) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#ngmrrhihua) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#ngmrrhihua) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ngmrrhihua) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#ngmrrhihua) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ngmrrhihua) .gt_left {
  text-align: left;
}

:where(#ngmrrhihua) .gt_center {
  text-align: center;
}

:where(#ngmrrhihua) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#ngmrrhihua) .gt_font_normal {
  font-weight: normal;
}

:where(#ngmrrhihua) .gt_font_bold {
  font-weight: bold;
}

:where(#ngmrrhihua) .gt_font_italic {
  font-style: italic;
}

:where(#ngmrrhihua) .gt_super {
  font-size: 65%;
}

:where(#ngmrrhihua) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#ngmrrhihua) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#ngmrrhihua) .gt_indent_1 {
  text-indent: 5px;
}

:where(#ngmrrhihua) .gt_indent_2 {
  text-indent: 10px;
}

:where(#ngmrrhihua) .gt_indent_3 {
  text-indent: 15px;
}

:where(#ngmrrhihua) .gt_indent_4 {
  text-indent: 20px;
}

:where(#ngmrrhihua) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">Name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_tot</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_white</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_black</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_asian</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_other</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">p_white</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">p_black</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">p_asian</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">p_other</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">Champaign city, Illinois</td>
<td class="gt_row gt_right">88343</td>
<td class="gt_row gt_right">54115</td>
<td class="gt_row gt_right">15741</td>
<td class="gt_row gt_right">13310</td>
<td class="gt_row gt_right">5177</td>
<td class="gt_row gt_right">61.25556</td>
<td class="gt_row gt_right">17.81805</td>
<td class="gt_row gt_right">15.06628</td>
<td class="gt_row gt_right">5.860113</td></tr>
    <tr><td class="gt_row gt_left">Champaign County, Illinois</td>
<td class="gt_row gt_right">206583</td>
<td class="gt_row gt_right">144522</td>
<td class="gt_row gt_right">26996</td>
<td class="gt_row gt_right">22204</td>
<td class="gt_row gt_right">12861</td>
<td class="gt_row gt_right">69.95832</td>
<td class="gt_row gt_right">13.06787</td>
<td class="gt_row gt_right">10.74822</td>
<td class="gt_row gt_right">6.225585</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>The <code>bind_rows()</code> command allows us to take the rows in two separate data tables and combine them together based upon them having common column names (the columns don’t have to be in the same order). There’s also <code>bind_columns()</code> for the analogous operation on columns.</p>
<p>This puts us in a good position to make a final “pretty” table:</p>
<p>First, for raw numbers:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>race_2021 <span class="sc">|&gt;</span> </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Name, pop_white, pop_black, pop_asian, pop_other, pop_tot) <span class="sc">|&gt;</span> </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_number</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">decimals =</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> </span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">pop_white =</span> <span class="st">"White"</span>,</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">pop_black =</span> <span class="st">"Black"</span>,</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">pop_asian =</span> <span class="st">"Asian"</span>,</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">pop_other =</span> <span class="st">"Other"</span>,</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">pop_tot =</span> <span class="st">"Total Population"</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="kpgoipayhs" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#kpgoipayhs) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#kpgoipayhs) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#kpgoipayhs) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#kpgoipayhs) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#kpgoipayhs) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#kpgoipayhs) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#kpgoipayhs) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#kpgoipayhs) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#kpgoipayhs) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#kpgoipayhs) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#kpgoipayhs) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#kpgoipayhs) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

:where(#kpgoipayhs) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#kpgoipayhs) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#kpgoipayhs) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#kpgoipayhs) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#kpgoipayhs) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#kpgoipayhs) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#kpgoipayhs) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#kpgoipayhs) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#kpgoipayhs) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#kpgoipayhs) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#kpgoipayhs) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#kpgoipayhs) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#kpgoipayhs) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#kpgoipayhs) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#kpgoipayhs) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#kpgoipayhs) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#kpgoipayhs) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#kpgoipayhs) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#kpgoipayhs) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#kpgoipayhs) .gt_left {
  text-align: left;
}

:where(#kpgoipayhs) .gt_center {
  text-align: center;
}

:where(#kpgoipayhs) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#kpgoipayhs) .gt_font_normal {
  font-weight: normal;
}

:where(#kpgoipayhs) .gt_font_bold {
  font-weight: bold;
}

:where(#kpgoipayhs) .gt_font_italic {
  font-style: italic;
}

:where(#kpgoipayhs) .gt_super {
  font-size: 65%;
}

:where(#kpgoipayhs) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#kpgoipayhs) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#kpgoipayhs) .gt_indent_1 {
  text-indent: 5px;
}

:where(#kpgoipayhs) .gt_indent_2 {
  text-indent: 10px;
}

:where(#kpgoipayhs) .gt_indent_3 {
  text-indent: 15px;
}

:where(#kpgoipayhs) .gt_indent_4 {
  text-indent: 20px;
}

:where(#kpgoipayhs) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">Name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">White</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">Black</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">Asian</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">Other</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">Total Population</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">Champaign city, Illinois</td>
<td class="gt_row gt_right">54,115</td>
<td class="gt_row gt_right">15,741</td>
<td class="gt_row gt_right">13,310</td>
<td class="gt_row gt_right">5,177</td>
<td class="gt_row gt_right">88,343</td></tr>
    <tr><td class="gt_row gt_left">Champaign County, Illinois</td>
<td class="gt_row gt_right">144,522</td>
<td class="gt_row gt_right">26,996</td>
<td class="gt_row gt_right">22,204</td>
<td class="gt_row gt_right">12,861</td>
<td class="gt_row gt_right">206,583</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>Second, for percentages:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>race_2021 <span class="sc">|&gt;</span> </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Name, p_white, p_black, p_asian, p_other) <span class="sc">|&gt;</span> </span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_percent</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">decimals =</span> <span class="dv">1</span>, <span class="at">scale_values =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">p_white =</span> <span class="st">"White"</span>,</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">p_black =</span> <span class="st">"Black"</span>,</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">p_asian =</span> <span class="st">"Asian"</span>,</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">p_other =</span> <span class="st">"Other"</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="snxmngkruu" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#snxmngkruu) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#snxmngkruu) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#snxmngkruu) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#snxmngkruu) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#snxmngkruu) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#snxmngkruu) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#snxmngkruu) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#snxmngkruu) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#snxmngkruu) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#snxmngkruu) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#snxmngkruu) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#snxmngkruu) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

:where(#snxmngkruu) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#snxmngkruu) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#snxmngkruu) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#snxmngkruu) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#snxmngkruu) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#snxmngkruu) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#snxmngkruu) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#snxmngkruu) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#snxmngkruu) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#snxmngkruu) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#snxmngkruu) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#snxmngkruu) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#snxmngkruu) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#snxmngkruu) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#snxmngkruu) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#snxmngkruu) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#snxmngkruu) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#snxmngkruu) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#snxmngkruu) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#snxmngkruu) .gt_left {
  text-align: left;
}

:where(#snxmngkruu) .gt_center {
  text-align: center;
}

:where(#snxmngkruu) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#snxmngkruu) .gt_font_normal {
  font-weight: normal;
}

:where(#snxmngkruu) .gt_font_bold {
  font-weight: bold;
}

:where(#snxmngkruu) .gt_font_italic {
  font-style: italic;
}

:where(#snxmngkruu) .gt_super {
  font-size: 65%;
}

:where(#snxmngkruu) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#snxmngkruu) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#snxmngkruu) .gt_indent_1 {
  text-indent: 5px;
}

:where(#snxmngkruu) .gt_indent_2 {
  text-indent: 10px;
}

:where(#snxmngkruu) .gt_indent_3 {
  text-indent: 15px;
}

:where(#snxmngkruu) .gt_indent_4 {
  text-indent: 20px;
}

:where(#snxmngkruu) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">Name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">White</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">Black</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">Asian</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">Other</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">Champaign city, Illinois</td>
<td class="gt_row gt_right">61.3%</td>
<td class="gt_row gt_right">17.8%</td>
<td class="gt_row gt_right">15.1%</td>
<td class="gt_row gt_right">5.9%</td></tr>
    <tr><td class="gt_row gt_left">Champaign County, Illinois</td>
<td class="gt_row gt_right">70.0%</td>
<td class="gt_row gt_right">13.1%</td>
<td class="gt_row gt_right">10.7%</td>
<td class="gt_row gt_right">6.2%</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>The Klosterman book includes one more comparison - for the region. Champaign’s region includes Champaign, Ford, and Piatt Counties. We can construct regional numbers from the same county data which we used before. Unfortunately, we overwrote that existing data when we created our “clean” data just for Champaign County. Let’s download this again and construct our regional comparison:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>region_race_2021<span class="ot">&lt;-</span> <span class="fu">get_acs</span>(<span class="at">geography =</span> <span class="st">"county"</span>, <span class="at">state =</span> <span class="st">"IL"</span>, <span class="at">table =</span> <span class="st">"B02001"</span>, <span class="at">year=</span><span class="dv">2021</span>, <span class="at">survey=</span><span class="st">"acs5"</span>, <span class="at">output=</span><span class="st">"wide"</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Champaign County, Illinois"</span>, <span class="st">"Ford County, Illinois"</span>, <span class="st">"Piatt County, Illinois"</span>)) <span class="sc">|&gt;</span> <span class="fu">summarise</span>(<span class="at">B02001_001E =</span> <span class="fu">sum</span>(B02001_001E),</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">B02001_002E =</span> <span class="fu">sum</span>(B02001_002E),</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">B02001_003E =</span> <span class="fu">sum</span>(B02001_003E),</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">B02001_005E =</span> <span class="fu">sum</span>(B02001_005E)) <span class="sc">|&gt;</span> </span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">NAME =</span> <span class="st">"Region"</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pop_other =</span> B02001_001E<span class="sc">-</span>(B02001_002E <span class="sc">+</span> B02001_003E<span class="sc">+</span> B02001_005E)) <span class="sc">|&gt;</span>  </span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Name =</span> NAME, <span class="at">pop_tot =</span> B02001_001E, <span class="at">pop_white =</span> B02001_002E, <span class="at">pop_black =</span> B02001_003E, <span class="at">pop_asian =</span> B02001_005E) <span class="sc">|&gt;</span>  </span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Name, pop_tot, pop_white, pop_black, pop_asian, pop_other) <span class="sc">|&gt;</span>  </span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">p_white =</span> (pop_white <span class="sc">/</span> pop_tot)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">p_black =</span> (pop_black <span class="sc">/</span> pop_tot)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">p_asian =</span> (pop_asian <span class="sc">/</span> pop_tot)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">p_other =</span> (pop_other <span class="sc">/</span> pop_tot)<span class="sc">*</span><span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Note that the above code uses pipes to take all of the steps we had done above - downloading the data, querying out the counties of interest (remember that <code>%in%</code> allows us to match on multiple elements of a list), calculating values, to put them into one step. We now have a data processing pipeline which we only need to make minor modifications to in order to create a summary for any census geography. If you are sure that you have robust code present here, this will work just fine. It is perfectly acceptable to break this code into multiple chunks and then to overwrite once you are certain that the code will give you a desired outcome.</p>
<p>Also, did you catch how we combined information for Champaign, Ford, and Piatt counties into one “Region”? The following lines of code handle these steps:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Champaign County, Illinois"</span>, <span class="st">"Ford County, Illinois"</span>, <span class="st">"Piatt County, Illinois"</span>)) <span class="sc">|&gt;</span>  </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">B02001_001E =</span> <span class="fu">sum</span>(B02001_001E),</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">B02001_002E =</span> <span class="fu">sum</span>(B02001_002E),</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">B02001_003E =</span> <span class="fu">sum</span>(B02001_003E),</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">B02001_005E =</span> <span class="fu">sum</span>(B02001_005E)) <span class="sc">|&gt;</span> </span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">NAME =</span> <span class="st">"Region"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>What’s going on here?</p>
<ul>
<li><p>The <code>filter()</code> section filters the data to the three rows in the dataset where the NAME field is equal to Champaign, Ford, or Piatt county.</p></li>
<li><p>The <code>summarise()</code> section is a little different than what we’ve seen before. In the past we’ve used this with <code>group_by()</code> in order to develop summaries for groups. Because we don’t have a <code>group_by()</code> clause here, R, summarizes <em>all</em> of the observations as one group. In this case, because we’re dealing with count data, we simply sum up all of the observations in a summary table where I have named the columns with the same names as the raw data had.</p></li>
</ul>
<p>From there, we can re-use the code we had already created to process the place and county data. With these things done, we can add our region values into our race_2021 summary table:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>race_2021<span class="ot">&lt;-</span><span class="fu">bind_rows</span>(race_2021, region_race_2021)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>race_2021 <span class="sc">|&gt;</span> <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="qrpysixerv" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#qrpysixerv) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#qrpysixerv) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#qrpysixerv) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#qrpysixerv) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#qrpysixerv) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#qrpysixerv) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#qrpysixerv) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#qrpysixerv) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#qrpysixerv) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#qrpysixerv) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#qrpysixerv) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#qrpysixerv) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

:where(#qrpysixerv) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#qrpysixerv) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#qrpysixerv) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#qrpysixerv) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#qrpysixerv) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#qrpysixerv) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#qrpysixerv) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#qrpysixerv) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#qrpysixerv) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#qrpysixerv) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#qrpysixerv) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#qrpysixerv) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#qrpysixerv) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#qrpysixerv) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#qrpysixerv) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#qrpysixerv) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#qrpysixerv) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#qrpysixerv) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#qrpysixerv) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#qrpysixerv) .gt_left {
  text-align: left;
}

:where(#qrpysixerv) .gt_center {
  text-align: center;
}

:where(#qrpysixerv) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#qrpysixerv) .gt_font_normal {
  font-weight: normal;
}

:where(#qrpysixerv) .gt_font_bold {
  font-weight: bold;
}

:where(#qrpysixerv) .gt_font_italic {
  font-style: italic;
}

:where(#qrpysixerv) .gt_super {
  font-size: 65%;
}

:where(#qrpysixerv) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#qrpysixerv) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#qrpysixerv) .gt_indent_1 {
  text-indent: 5px;
}

:where(#qrpysixerv) .gt_indent_2 {
  text-indent: 10px;
}

:where(#qrpysixerv) .gt_indent_3 {
  text-indent: 15px;
}

:where(#qrpysixerv) .gt_indent_4 {
  text-indent: 20px;
}

:where(#qrpysixerv) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col">Name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_tot</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_white</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_black</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_asian</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">pop_other</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">p_white</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">p_black</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">p_asian</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">p_other</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">Champaign city, Illinois</td>
<td class="gt_row gt_right">88343</td>
<td class="gt_row gt_right">54115</td>
<td class="gt_row gt_right">15741</td>
<td class="gt_row gt_right">13310</td>
<td class="gt_row gt_right">5177</td>
<td class="gt_row gt_right">61.25556</td>
<td class="gt_row gt_right">17.81805</td>
<td class="gt_row gt_right">15.066276</td>
<td class="gt_row gt_right">5.860113</td></tr>
    <tr><td class="gt_row gt_left">Champaign County, Illinois</td>
<td class="gt_row gt_right">206583</td>
<td class="gt_row gt_right">144522</td>
<td class="gt_row gt_right">26996</td>
<td class="gt_row gt_right">22204</td>
<td class="gt_row gt_right">12861</td>
<td class="gt_row gt_right">69.95832</td>
<td class="gt_row gt_right">13.06787</td>
<td class="gt_row gt_right">10.748222</td>
<td class="gt_row gt_right">6.225585</td></tr>
    <tr><td class="gt_row gt_left">Region</td>
<td class="gt_row gt_right">236836</td>
<td class="gt_row gt_right">173216</td>
<td class="gt_row gt_right">27219</td>
<td class="gt_row gt_right">22294</td>
<td class="gt_row gt_right">14107</td>
<td class="gt_row gt_right">73.13753</td>
<td class="gt_row gt_right">11.49276</td>
<td class="gt_row gt_right">9.413265</td>
<td class="gt_row gt_right">5.956442</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>While the values here are transposed, we have created code which creates a table similar to table 2.1 in the Klosterman book.</p>
</section>
</section>
<section id="closing-thoughts" class="level2">
<h2 class="anchored" data-anchor-id="closing-thoughts">Closing Thoughts</h2>
<p>This tutorial has walked you through the steps necessary to start making basic calls to the Census API via <code>tidycensus</code>. There’s a lot more that you can do with tidycensus that we didn’t cover here, including accessing decennial census data, downloading census geometries along with data, and having <code>tidycensus</code> do some reshaping of your data. We will continue to explore these features as we add complexity in future labs.</p>
</section>
<section id="lab-evaluation" class="level2">
<h2 class="anchored" data-anchor-id="lab-evaluation">Lab Evaluation</h2>
<p>In evaluating your lab submission, we’ll be paying attention to the following:</p>
<ul>
<li><p>Use of <code>dplyr</code> and <code>tidyverse</code> style formatting in your coding.</p></li>
<li><p>Refined table output formatting using tools such as <code>gt</code>.</p></li>
</ul>
<p>As you get into the lab, please feel welcome to ask us questions, and please share where you’re struggling with us and with others in the class.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb26" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Population and the Census"</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="an">sidebar:</span><span class="co"> false</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="an">toc:</span><span class="co"> true</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="an">toc-depth:</span><span class="co"> 4</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="an">page-layout:</span><span class="co"> full</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="an">bibliography:</span><span class="co"> ../references.bib</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="an">csl:</span><span class="co"> ../apa-6th-edition.csl</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: show</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a><span class="co">    code-overflow: wrap</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools:</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a><span class="co">      source: true</span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a><span class="co">      toggle: false</span></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a><span class="co">      caption: none</span></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a><span class="an">fig-responsive:</span><span class="co"> true</span></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a><span class="an">editor:</span><span class="co"> visual</span></span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a><span class="fu">## Introduction</span></span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a>This lab is designed to introduce you to some of the basic techniques for downloading data from the U.S. Census Bureau using R. Following elements from the Klosterman, et al. reading, we will replicate some of the tables present in that chapter.</span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-25"><a href="#cb26-25" aria-hidden="true" tabindex="-1"></a>We will also learn a new R package this week - the <span class="in">`tidycensus`</span> package, which is designed to programmatically download and load census data directly into our R session.</span>
<span id="cb26-26"><a href="#cb26-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-27"><a href="#cb26-27" aria-hidden="true" tabindex="-1"></a><span class="fu">## Goals</span></span>
<span id="cb26-28"><a href="#cb26-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-29"><a href="#cb26-29" aria-hidden="true" tabindex="-1"></a>Planners frequently rely upon census data to help establish baseline portraits of places. Given the frequency with which planners tend to use Census data, can R help us to more efficiently access this information, and integrate it into analysis processes?</span>
<span id="cb26-30"><a href="#cb26-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-31"><a href="#cb26-31" aria-hidden="true" tabindex="-1"></a>In this section, we will examine how Census data is typically accessed, and explore how to do so with R. By the end of this section, you will:</span>
<span id="cb26-32"><a href="#cb26-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-33"><a href="#cb26-33" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Review how to manually access census data from <span class="co">[</span><span class="ot">data.census.gov</span><span class="co">](data.census.gov)</span>.</span>
<span id="cb26-34"><a href="#cb26-34" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Learn how to construct basic calls for census data using R and the <span class="in">`tidycensus`</span> package</span>
<span id="cb26-35"><a href="#cb26-35" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Learn the basic principles of joining data, and apply these</span>
<span id="cb26-36"><a href="#cb26-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-37"><a href="#cb26-37" aria-hidden="true" tabindex="-1"></a><span class="fu">## Core Concepts</span></span>
<span id="cb26-38"><a href="#cb26-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-39"><a href="#cb26-39" aria-hidden="true" tabindex="-1"></a><span class="fu">### R and Rstudio</span></span>
<span id="cb26-40"><a href="#cb26-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-41"><a href="#cb26-41" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>bind_rows()</span>
<span id="cb26-42"><a href="#cb26-42" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>bind_cols()</span>
<span id="cb26-43"><a href="#cb26-43" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>get_acs()</span>
<span id="cb26-44"><a href="#cb26-44" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>%in% c()</span>
<span id="cb26-45"><a href="#cb26-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-46"><a href="#cb26-46" aria-hidden="true" tabindex="-1"></a>Let's get going...</span>
<span id="cb26-47"><a href="#cb26-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-48"><a href="#cb26-48" aria-hidden="true" tabindex="-1"></a><span class="fu">## Github Lab Repository</span></span>
<span id="cb26-49"><a href="#cb26-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-50"><a href="#cb26-50" aria-hidden="true" tabindex="-1"></a>If you have not already done so, follow <span class="co">[</span><span class="ot">this link</span><span class="co">](https://classroom.github.com/a/-wEwOEtR)</span> to accept the lab Github Classroom assignment repository.</span>
<span id="cb26-51"><a href="#cb26-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-52"><a href="#cb26-52" aria-hidden="true" tabindex="-1"></a><span class="fu">## Accessing Census Data via American Fact Finder</span></span>
<span id="cb26-53"><a href="#cb26-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-54"><a href="#cb26-54" aria-hidden="true" tabindex="-1"></a>Let's start working with Census data! Our goal here is to begin creating tables similar to the ones we see in Klosterman Chapter 2. For the purposes of this exercise, we'll describe how Champaign, Illinois compares to other cities within Champaign County. We'll then think about how we might be able to describe smaller geographies from there.</span>
<span id="cb26-55"><a href="#cb26-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-56"><a href="#cb26-56" aria-hidden="true" tabindex="-1"></a>Before we get around to downloading census data using R, we'll start by learning about some of the common ways in which census data are accessed, and will then spend a little time learning how to download data at different *summary levels*.</span>
<span id="cb26-57"><a href="#cb26-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-58"><a href="#cb26-58" aria-hidden="true" tabindex="-1"></a>Most casual users of Census data typically start by visiting the <span class="co">[</span><span class="ot">data.census.gov</span><span class="co">](https://data.census.gov)</span> website:</span>
<span id="cb26-59"><a href="#cb26-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-60"><a href="#cb26-60" aria-hidden="true" tabindex="-1"></a><span class="in">```{=html}</span></span>
<span id="cb26-61"><a href="#cb26-61" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;iframe width="780" height="500" src="https://data.census.gov" title="data.census.gov"&gt;&lt;/iframe&gt;</span></span>
<span id="cb26-62"><a href="#cb26-62" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-63"><a href="#cb26-63" aria-hidden="true" tabindex="-1"></a>For those users looking to download detailed demographic tables covering more than one geography, "Use Advanced Search" is best option (and the option that we will choose).</span>
<span id="cb26-64"><a href="#cb26-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-65"><a href="#cb26-65" aria-hidden="true" tabindex="-1"></a>The Advanced Search window includes a series of query selectors, or if you know the exact name or table number you are looking for, you can use the search dialog. Even if you know the table number, it makes sense to start off by selecting your survey and the geography at which you wish FactFinder to return results.</span>
<span id="cb26-66"><a href="#cb26-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-67"><a href="#cb26-67" aria-hidden="true" tabindex="-1"></a>The Census bureau tabulates demographic information for a <span class="co">[</span><span class="ot">number of different geographic types</span><span class="co">](https://www2.census.gov/geo/pdfs/reference/geodiagram.pdf)</span>, some which are hierarchical, and some which aren't:</span>
<span id="cb26-68"><a href="#cb26-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-69"><a href="#cb26-69" aria-hidden="true" tabindex="-1"></a><span class="al">![](05_census/images/WB_1_Geogs.png)</span> The Klosterman chapter presents data for a city, and then compares it to its constituent county and region. This diagram tells us that cities (census places) are nested within (and contained by) states, which are nested within census divisions, and census regions which are all contained within the nation. Census places do not have any subgeographies, however, we may also use other sub county geography, especially census tracts and block groups to help us describe the characteristics of census places.</span>
<span id="cb26-70"><a href="#cb26-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-71"><a href="#cb26-71" aria-hidden="true" tabindex="-1"></a>The most common geographies used by planners are as follows:</span>
<span id="cb26-72"><a href="#cb26-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-73"><a href="#cb26-73" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>State</span>
<span id="cb26-74"><a href="#cb26-74" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>County</span>
<span id="cb26-75"><a href="#cb26-75" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Place (incorporated cities)</span>
<span id="cb26-76"><a href="#cb26-76" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Tract (approximate neighborhoods based upon physical boundaries)</span>
<span id="cb26-77"><a href="#cb26-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-78"><a href="#cb26-78" aria-hidden="true" tabindex="-1"></a>Some specialized geographies like Traffic Analysis Zones (TAZs) are also frequently used, as are Zip Code Tabulation Areas (ZCTAs) which approximate postal service Zone Improvement Plan (ZIP) codes.</span>
<span id="cb26-79"><a href="#cb26-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-80"><a href="#cb26-80" aria-hidden="true" tabindex="-1"></a>In our FactFinder search, let's start off by looking for data on the racial composition of census places in Illinois from the 2019 5-Year American Community Survey. This corresponds to data used to create the second column in Table 2.1 of Klosterman. We can add some filters to identify the census data table containing the appropriate data.</span>
<span id="cb26-81"><a href="#cb26-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-82"><a href="#cb26-82" aria-hidden="true" tabindex="-1"></a>Let's start by filtering to the 5-Year American Community Survey data (Browse Filters -<span class="sc">\&gt;</span> Surveys -<span class="sc">\&gt;</span> American Community Survey)</span>
<span id="cb26-83"><a href="#cb26-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-84"><a href="#cb26-84" aria-hidden="true" tabindex="-1"></a><span class="al">![](05_census/images/WB_2_Survey.png)</span></span>
<span id="cb26-85"><a href="#cb26-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-86"><a href="#cb26-86" aria-hidden="true" tabindex="-1"></a>We now have 2 main choices - 1-Year estimates and 5-year estimates. What might the difference be between these two data products?</span>
<span id="cb26-87"><a href="#cb26-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-88"><a href="#cb26-88" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**1-Year Estimates** are based off of the survey sample collected within one year and reflect the characteristics of the population within that given year.</span>
<span id="cb26-89"><a href="#cb26-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-90"><a href="#cb26-90" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**5-Year Estimates** are based off of a *pooled* survey sample collected over a 5-year period and reflect the characteristics of the population over those 5 years.</span>
<span id="cb26-91"><a href="#cb26-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-92"><a href="#cb26-92" aria-hidden="true" tabindex="-1"></a>The trade offs between the two samples are time specificity and certainty around the accuracy of the estimates. Particularly when we are looking at smaller geographies, this certainty question can become more of an issue. More on this later in our documentation.</span>
<span id="cb26-93"><a href="#cb26-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-94"><a href="#cb26-94" aria-hidden="true" tabindex="-1"></a>For now, let's select 5 year estimates, and then select "Detailed Tables".</span>
<span id="cb26-95"><a href="#cb26-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-96"><a href="#cb26-96" aria-hidden="true" tabindex="-1"></a><span class="al">![](05_census/images/WB_3_Detailed.png)</span></span>
<span id="cb26-97"><a href="#cb26-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-98"><a href="#cb26-98" aria-hidden="true" tabindex="-1"></a>After adding this filter, add an additional filter under Years for 2021.</span>
<span id="cb26-99"><a href="#cb26-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-100"><a href="#cb26-100" aria-hidden="true" tabindex="-1"></a><span class="al">![](05_census/images/WB_4_DetailedYear.png)</span></span>
<span id="cb26-101"><a href="#cb26-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-102"><a href="#cb26-102" aria-hidden="true" tabindex="-1"></a>We might also want to add a geographic filter to indicate that the data we want is for census places.</span>
<span id="cb26-103"><a href="#cb26-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-104"><a href="#cb26-104" aria-hidden="true" tabindex="-1"></a><span class="al">![](05_census/images/WB_5_GeogSelection.png)</span> And then select all places in Illinois...</span>
<span id="cb26-105"><a href="#cb26-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-106"><a href="#cb26-106" aria-hidden="true" tabindex="-1"></a><span class="al">![](05_census/images/WB_6_Places.png)</span></span>
<span id="cb26-107"><a href="#cb26-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-108"><a href="#cb26-108" aria-hidden="true" tabindex="-1"></a>With these filters in place we can now search for the race table.</span>
<span id="cb26-109"><a href="#cb26-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-110"><a href="#cb26-110" aria-hidden="true" tabindex="-1"></a><span class="al">![](05_census/images/WB_7_Race.png)</span></span>
<span id="cb26-111"><a href="#cb26-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-112"><a href="#cb26-112" aria-hidden="true" tabindex="-1"></a>We'll then get a list of tables matching our criteria. There are a lot of them! You will need to click "View All Tables" to see the entire list. Let's take a closer look at Table B02001: Race. We can click on it to view the table's contents.</span>
<span id="cb26-113"><a href="#cb26-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-114"><a href="#cb26-114" aria-hidden="true" tabindex="-1"></a><span class="al">![](05_census/images/WB_8_B02001.png)</span> This is useful - we can see the structure of the table. *Rows* contain information associated with racial identification groups, *columns* correspond to census places (cities and local governments). Observations include counts of the population that identify with each racial group.</span>
<span id="cb26-115"><a href="#cb26-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-116"><a href="#cb26-116" aria-hidden="true" tabindex="-1"></a>We could download this file and open it in a spreadsheet program. <span class="al">![](05_census/images/WB_9_B02001_Detail.png)</span></span>
<span id="cb26-117"><a href="#cb26-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-118"><a href="#cb26-118" aria-hidden="true" tabindex="-1"></a>We could download this file and open it in a spreadsheet program or R. If you download the .csv file, we'd need to do some reformatting to start using the data in any serious way.</span>
<span id="cb26-119"><a href="#cb26-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-120"><a href="#cb26-120" aria-hidden="true" tabindex="-1"></a>As we start manipulating the data with more clicks (say to remove the double header row, to delete the GEO.id column, or to work with estimates) we introduce the potential for user error, especially if we want to exactly reproduce what we've done over and over again. Of course the potential for error grows once our data takes on more dimensions or involves multiple tables or sources.</span>
<span id="cb26-121"><a href="#cb26-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-122"><a href="#cb26-122" aria-hidden="true" tabindex="-1"></a>As an alternative strategy, let's look at how we'd do the same thing programmatically in R.</span>
<span id="cb26-123"><a href="#cb26-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-124"><a href="#cb26-124" aria-hidden="true" tabindex="-1"></a><span class="fu">## Workflow: Downloading Census Data Programmatically in R</span></span>
<span id="cb26-125"><a href="#cb26-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-126"><a href="#cb26-126" aria-hidden="true" tabindex="-1"></a>The <span class="in">`tidycensus`</span> package made by <span class="co">[</span><span class="ot">Kyle Walker</span><span class="co">](https://walkerke.github.io/tidycensus/)</span> downloads data directly from the U.S. Census Bureau's application programming interface (API). While we reviewed using <span class="co">[</span><span class="ot">data.census.gov</span><span class="co">](https://data.census.gov)</span> to manually select and download data from the Census, the benefit of using <span class="in">`tidycensus`</span> and R is that the data pipeline is *reproducible*.</span>
<span id="cb26-127"><a href="#cb26-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-128"><a href="#cb26-128" aria-hidden="true" tabindex="-1"></a>In order to use <span class="in">`tidycensus`</span> to download data, you'll need the following:</span>
<span id="cb26-129"><a href="#cb26-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-130"><a href="#cb26-130" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>A Census API key (if you don't already have one, please <span class="co">[</span><span class="ot">request one from the census bureau</span><span class="co">](https://api.census.gov/data/key_signup.html)</span>)</span>
<span id="cb26-131"><a href="#cb26-131" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>A desired geography to look up (for example, all census places in Illinois)</span>
<span id="cb26-132"><a href="#cb26-132" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>The census year you want data for (we'll start with 2021)</span>
<span id="cb26-133"><a href="#cb26-133" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>The survey you'd like to use (Decennial Census, ACS 1 or 5 year data)</span>
<span id="cb26-134"><a href="#cb26-134" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>The number of the table we want to look up (in this case table B02001 which contains information on the total population by race from the American Community Survey)</span>
<span id="cb26-135"><a href="#cb26-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-136"><a href="#cb26-136" aria-hidden="true" tabindex="-1"></a>There are two main functions in <span class="in">`tidycensus`</span>:</span>
<span id="cb26-137"><a href="#cb26-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-138"><a href="#cb26-138" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`get_decennial()`</span> is designed to download data from the decennial census which is conducted every ten years by law (e.g. 1990, 2000, 2010, and soon 2020) for the purposes of allocating political representation in the US.</span>
<span id="cb26-139"><a href="#cb26-139" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`get_acs()`</span> is designed to download data from the American Community Survey, which is conducted continuously, and which focuses on describing the characteristics of the population for the years in between the decennial census.</span>
<span id="cb26-140"><a href="#cb26-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-141"><a href="#cb26-141" aria-hidden="true" tabindex="-1"></a><span class="fu">### Initial Set Up</span></span>
<span id="cb26-142"><a href="#cb26-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-143"><a href="#cb26-143" aria-hidden="true" tabindex="-1"></a>Let's start by loading a few packages that will help us with our work.</span>
<span id="cb26-144"><a href="#cb26-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-147"><a href="#cb26-147" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb26-148"><a href="#cb26-148" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb26-149"><a href="#cb26-149" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb26-150"><a href="#cb26-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-151"><a href="#cb26-151" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb26-152"><a href="#cb26-152" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb26-153"><a href="#cb26-153" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidycensus)</span>
<span id="cb26-154"><a href="#cb26-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-155"><a href="#cb26-155" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-156"><a href="#cb26-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-157"><a href="#cb26-157" aria-hidden="true" tabindex="-1"></a>Each time you run a <span class="in">`tidycensus`</span> function, R constructs a request to the Census API for data. This call needs to include your API key to authenticate your access to the data.The first time you use <span class="in">`tidycensus`</span> on a new computer or R installation, you'll need to set up your R environment to load your Census API key. You have two options -</span>
<span id="cb26-158"><a href="#cb26-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-159"><a href="#cb26-159" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>Manually set the API key for use in your R script each time you use tidycensus:</span>
<span id="cb26-160"><a href="#cb26-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-163"><a href="#cb26-163" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb26-164"><a href="#cb26-164" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb26-165"><a href="#cb26-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-166"><a href="#cb26-166" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidycensus)</span>
<span id="cb26-167"><a href="#cb26-167" aria-hidden="true" tabindex="-1"></a><span class="fu">census_api_key</span>(<span class="st">"936c96236b979ae522c6cf67edb51923dd391fb3"</span>)</span>
<span id="cb26-168"><a href="#cb26-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-169"><a href="#cb26-169" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-170"><a href="#cb26-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-171"><a href="#cb26-171" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>Store your API key locally on your computer so that it does not need to be loaded manually.</span>
<span id="cb26-172"><a href="#cb26-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-175"><a href="#cb26-175" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb26-176"><a href="#cb26-176" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb26-177"><a href="#cb26-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-178"><a href="#cb26-178" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidycensus)</span>
<span id="cb26-179"><a href="#cb26-179" aria-hidden="true" tabindex="-1"></a><span class="fu">census_api_key</span>(<span class="st">"936c96236b979ae522c6cf67edb51923dd391fb3"</span>, <span class="at">install =</span> <span class="cn">TRUE</span>)</span>
<span id="cb26-180"><a href="#cb26-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-181"><a href="#cb26-181" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-182"><a href="#cb26-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-183"><a href="#cb26-183" aria-hidden="true" tabindex="-1"></a>Again, this looks largely the same. The first option simply sets the API key for use in a given rstudio session. Adding <span class="in">`install=TRUE`</span> "installs" the API key for use any time you load RStudio, meaning you can load and use the package without having to use <span class="in">`census_api_key()`</span>. I recommend installing your API key for two reasons - first, it is convenient to not have to copy and paste your API key into a new script or notebook; and second, if you share your code publicly, others will not have access to your api key because it is not included in your code (you might include a note in your documentation that lets other users know they will need to supply their own API key).</span>
<span id="cb26-184"><a href="#cb26-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-185"><a href="#cb26-185" aria-hidden="true" tabindex="-1"></a>With that set up, we can move on...</span>
<span id="cb26-186"><a href="#cb26-186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-187"><a href="#cb26-187" aria-hidden="true" tabindex="-1"></a><span class="fu">### Our First Table Download</span></span>
<span id="cb26-188"><a href="#cb26-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-189"><a href="#cb26-189" aria-hidden="true" tabindex="-1"></a>To familiarize yourself with tidycensus, have a look at the following code chunk. This gets the total population by race (Table B02001) for each census place in Illinois, and places that data into place_race_2021:</span>
<span id="cb26-190"><a href="#cb26-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-193"><a href="#cb26-193" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb26-194"><a href="#cb26-194" aria-hidden="true" tabindex="-1"></a><span class="co">#| error: false</span></span>
<span id="cb26-195"><a href="#cb26-195" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb26-196"><a href="#cb26-196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-197"><a href="#cb26-197" aria-hidden="true" tabindex="-1"></a>place_race_2021<span class="ot">&lt;-</span><span class="fu">get_acs</span>(<span class="at">geography =</span> <span class="st">"place"</span>, <span class="at">state =</span> <span class="st">"Illinois"</span>, <span class="at">table =</span> <span class="st">"B02001"</span>, <span class="at">year=</span><span class="dv">2021</span>, <span class="at">survey=</span><span class="st">"acs5"</span>, <span class="at">output=</span><span class="st">"wide"</span>)</span>
<span id="cb26-198"><a href="#cb26-198" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-199"><a href="#cb26-199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-200"><a href="#cb26-200" aria-hidden="true" tabindex="-1"></a>Our call says create an object names "place_race_2021" and place into it the results of a function called <span class="in">`get_acs`</span> (which is the function to download ACS data from the census API). Within the <span class="in">`get_acs()`</span> function, we specify several attributes:</span>
<span id="cb26-201"><a href="#cb26-201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-202"><a href="#cb26-202" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>*geography = "place"* allows us to specify the geography which we want returned - in this case estimates for census places.</span>
<span id="cb26-203"><a href="#cb26-203" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>*state = "Illinois"* allows us to specify that we want to download data for the state of Illinois.</span>
<span id="cb26-204"><a href="#cb26-204" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>*table = "B02001"* allows us to specify which table we want downloaded - in this case, we want to look in table B02001. As an alternate to using <span class="in">`table =`</span> we can download specific variables (if we don't need all of the table's data using <span class="in">`variables =`</span>.)</span>
<span id="cb26-205"><a href="#cb26-205" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>*year = 2021* allows us to specify which vintage of ACS data we are downloading.</span>
<span id="cb26-206"><a href="#cb26-206" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>*survey="acs5"* specifies that we want to look at 5-year ACS data with year being the most recent endpoint (e.g. if we specify <span class="in">`year = 2021`</span> and <span class="in">`survey = "acs5"`</span>, we are specifying 2017-2021 5-year ACS data).</span>
<span id="cb26-207"><a href="#cb26-207" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>*output="wide"* specifies that we want our data to be formatted with columns corresponding to different racial identification categories.</span>
<span id="cb26-208"><a href="#cb26-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-209"><a href="#cb26-209" aria-hidden="true" tabindex="-1"></a>Let's have a look at what was just downloaded:</span>
<span id="cb26-210"><a href="#cb26-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-213"><a href="#cb26-213" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb26-214"><a href="#cb26-214" aria-hidden="true" tabindex="-1"></a>place_race_2021 <span class="sc">|&gt;</span> </span>
<span id="cb26-215"><a href="#cb26-215" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span> </span>
<span id="cb26-216"><a href="#cb26-216" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span>
<span id="cb26-217"><a href="#cb26-217" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-218"><a href="#cb26-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-219"><a href="#cb26-219" aria-hidden="true" tabindex="-1"></a>Examining the place_race_2019 object, we have a table that includes 22 columns:</span>
<span id="cb26-220"><a href="#cb26-220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-221"><a href="#cb26-221" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**GEOID** a unique numeric code for each census place</span>
<span id="cb26-222"><a href="#cb26-222" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**NAME** the name of each census place</span>
<span id="cb26-223"><a href="#cb26-223" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**Estimates** estimates (in this case population estimates by race), with each column representing a *row* in the data table we pulled up on <span class="co">[</span><span class="ot">data.census.gov</span><span class="co">](https://data.census.gov/cedsci/table?g=0400000US17.160000&amp;d=ACS%205-Year%20Estimates%20Detailed%20Tables&amp;tid=ACSDT5Y2017.B02001&amp;y=2017&amp;t=Race%20and%20Ethnicity&amp;vintage=2017&amp;hidePreview=true&amp;cid=B01001A_001E)</span>.</span>
<span id="cb26-224"><a href="#cb26-224" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**Margin of Error** the margin of error associated with each estimate.</span>
<span id="cb26-225"><a href="#cb26-225" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-226"><a href="#cb26-226" aria-hidden="true" tabindex="-1"></a>Note in the above code that we use <span class="in">`slice_head()`</span> to display only the first 10 rows of a table that actually has 1,466 rows.</span>
<span id="cb26-227"><a href="#cb26-227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-228"><a href="#cb26-228" aria-hidden="true" tabindex="-1"></a>That wasn't *so* hard! There are several benefits of downloading census data this way: 1. Once we know what tables or variables we are looking for, we don't have to interact with data.census.gov very much (or at all). 2. R downloads the data and then it is immediately available for analysis as a formatted data frame. 3. We can easily modify existing calls to download data for other geographies.</span>
<span id="cb26-229"><a href="#cb26-229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-230"><a href="#cb26-230" aria-hidden="true" tabindex="-1"></a>Let's say we want to transition to looking at racial identification for counties in Illinois. How would we modify our previous code to match those specifications? - <span class="in">`geography`</span> needs to be changed from "place" to "county" (find more information on specifying geography in the <span class="co">[</span><span class="ot">tidycensus documentation</span><span class="co">](https://walkerke.github.io/tidycensus/articles/basic-usage.html#geography-in-tidycensus)</span>). - We need to add a new specification, <span class="in">`state = "IL"`</span> (you'll note that in the documentation on specifying a geography a column called "available by" which tells you what must be specified for a given summary level). - We need to change the object name that we're putting our downloaded data into. Let's call in "county_race_2021.</span>
<span id="cb26-231"><a href="#cb26-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-234"><a href="#cb26-234" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb26-235"><a href="#cb26-235" aria-hidden="true" tabindex="-1"></a><span class="co">#| error: false</span></span>
<span id="cb26-236"><a href="#cb26-236" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb26-237"><a href="#cb26-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-238"><a href="#cb26-238" aria-hidden="true" tabindex="-1"></a>county_race_2021<span class="ot">&lt;-</span><span class="fu">get_acs</span>(<span class="at">geography =</span> <span class="st">"county"</span>, <span class="at">state =</span> <span class="st">"IL"</span>, <span class="at">table =</span> <span class="st">"B02001"</span>, <span class="at">year=</span><span class="dv">2021</span>, <span class="at">survey=</span><span class="st">"acs5"</span>, <span class="at">output=</span><span class="st">"wide"</span>)</span>
<span id="cb26-239"><a href="#cb26-239" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-240"><a href="#cb26-240" aria-hidden="true" tabindex="-1"></a>county_race_2021 <span class="sc">|&gt;</span> </span>
<span id="cb26-241"><a href="#cb26-241" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span> </span>
<span id="cb26-242"><a href="#cb26-242" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span>
<span id="cb26-243"><a href="#cb26-243" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-244"><a href="#cb26-244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-245"><a href="#cb26-245" aria-hidden="true" tabindex="-1"></a>By making those few changes, you'll note that the newly downloaded data in county_race_2021 now includes names of counties in the <span class="in">`NAME`</span> column, instead of places as in our first call. There are data for each of the 102 counties in Illinois.</span>
<span id="cb26-246"><a href="#cb26-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-247"><a href="#cb26-247" aria-hidden="true" tabindex="-1"></a>Pretty cool, huh?</span>
<span id="cb26-248"><a href="#cb26-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-249"><a href="#cb26-249" aria-hidden="true" tabindex="-1"></a><span class="fu">### Building Table 2.1: Population Breakdown by Race</span></span>
<span id="cb26-250"><a href="#cb26-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-251"><a href="#cb26-251" aria-hidden="true" tabindex="-1"></a>Let's start by downloading data on population by racial identification for counties in Illinois from the 2021 5-year American Community Survey, and placing the data into a data frame called "place_race_2021". To do so, we need to know some basic information to construct our data request to the census.</span>
<span id="cb26-252"><a href="#cb26-252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-253"><a href="#cb26-253" aria-hidden="true" tabindex="-1"></a>Since we are downloading ACS data, we will use the <span class="in">`get_acs()`</span> function. At a minimum, <span class="in">`get_acs()`</span> needs to know the geography we want it to download, the name(s) of the variables we'd like to retrieve, and the year we want the data for. Check out the <span class="co">[</span><span class="ot">basic usage of tidycensus</span><span class="co">](https://walkerke.github.io/tidycensus/articles/basic-usage.html)</span> for more information on constructing calls for different geographies.</span>
<span id="cb26-254"><a href="#cb26-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-255"><a href="#cb26-255" aria-hidden="true" tabindex="-1"></a><span class="in">`tidycensus`</span> can make calls for <span class="co">[</span><span class="ot">most geographies</span><span class="co">](https://walkerke.github.io/tidycensus/articles/basic-usage.html#geography-in-tidycensus)</span> programmatically.</span>
<span id="cb26-256"><a href="#cb26-256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-257"><a href="#cb26-257" aria-hidden="true" tabindex="-1"></a>So far, we have used <span class="in">`table =`</span> to specify that we wanted all variables downloaded for each table. In some cases, we may not need all of that information. Instead, we can use the <span class="in">`variables =`</span> specification to download specific columns from the larger census table.</span>
<span id="cb26-258"><a href="#cb26-258" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-259"><a href="#cb26-259" aria-hidden="true" tabindex="-1"></a>Table B02001 which we've been looking at is *hierarchical*. The first *row* contains the total population of all races. The second row contains the estimate for those individuals who identify as white alone. The eighth row contains the estimate for individuals of two or more races.</span>
<span id="cb26-260"><a href="#cb26-260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-261"><a href="#cb26-261" aria-hidden="true" tabindex="-1"></a>Table 2.1 in the Klosterman book presents racial identification for White Alone, Black Alone, Other, and Hispanic ethnicity. Putting aside for a minute the Hispanic ethnicity statistic, how would we download and construct analogous data for Champaign, Illinois? Let's think this through:</span>
<span id="cb26-262"><a href="#cb26-262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-263"><a href="#cb26-263" aria-hidden="true" tabindex="-1"></a>| Indicator   | Row Number | Tidycensus Variable | Constructed Variable               |</span>
<span id="cb26-264"><a href="#cb26-264" aria-hidden="true" tabindex="-1"></a>|---------------|---------------|---------------|----------------------------|</span>
<span id="cb26-265"><a href="#cb26-265" aria-hidden="true" tabindex="-1"></a>| White Alone | 2          | B02001_002          | NA                                 |</span>
<span id="cb26-266"><a href="#cb26-266" aria-hidden="true" tabindex="-1"></a>| Black Alone | 3          | B02001_003          | NA                                 |</span>
<span id="cb26-267"><a href="#cb26-267" aria-hidden="true" tabindex="-1"></a>| Other       | ?          | NA                  | B02001_001-(B02001_002+B02001_003) |</span>
<span id="cb26-268"><a href="#cb26-268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-269"><a href="#cb26-269" aria-hidden="true" tabindex="-1"></a>To construct this table, we only need the variables corresponding to the first, second, and third rows.</span>
<span id="cb26-270"><a href="#cb26-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-271"><a href="#cb26-271" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>White alone and black alone are the second and third rows in the data.census.gov table.</span>
<span id="cb26-272"><a href="#cb26-272" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-273"><a href="#cb26-273" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>We can construct our "Other" variable by subtracting from the total population, the number of white alone and black alone individuals.</span>
<span id="cb26-274"><a href="#cb26-274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-275"><a href="#cb26-275" aria-hidden="true" tabindex="-1"></a>Let's see this in practice:</span>
<span id="cb26-276"><a href="#cb26-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-279"><a href="#cb26-279" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb26-280"><a href="#cb26-280" aria-hidden="true" tabindex="-1"></a><span class="co">#| error: false</span></span>
<span id="cb26-281"><a href="#cb26-281" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb26-282"><a href="#cb26-282" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-283"><a href="#cb26-283" aria-hidden="true" tabindex="-1"></a>place_race_2021<span class="ot">&lt;-</span><span class="fu">get_acs</span>(<span class="at">geography =</span> <span class="st">"place"</span>, <span class="at">state =</span> <span class="st">"IL"</span>, <span class="at">variables =</span> <span class="fu">c</span>(<span class="st">"B02001_001"</span>, <span class="st">"B02001_002"</span>, <span class="st">"B02001_003"</span>), <span class="at">year=</span><span class="dv">2021</span>, <span class="at">survey=</span><span class="st">"acs5"</span>, <span class="at">output=</span><span class="st">"wide"</span>)</span>
<span id="cb26-284"><a href="#cb26-284" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-285"><a href="#cb26-285" aria-hidden="true" tabindex="-1"></a>place_race_2021 <span class="sc">|&gt;</span> </span>
<span id="cb26-286"><a href="#cb26-286" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span> </span>
<span id="cb26-287"><a href="#cb26-287" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span>
<span id="cb26-288"><a href="#cb26-288" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-289"><a href="#cb26-289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-290"><a href="#cb26-290" aria-hidden="true" tabindex="-1"></a>Note that our original place_race_2021 data frame had 22 variables. The one we downloaded with our updated call only has 8 variables. What's going on in <span class="in">`variables = c("B02001_001", "B02001_002", "B02001_003")`</span>? The table is B02001, but then we also specify the *specific row* in the census data table, which actually gets represented as a column when downloaded here.</span>
<span id="cb26-291"><a href="#cb26-291" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-292"><a href="#cb26-292" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>B02001_001 contains the total population estimate</span>
<span id="cb26-293"><a href="#cb26-293" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-294"><a href="#cb26-294" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>B02001_002 contains the white alone population</span>
<span id="cb26-295"><a href="#cb26-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-296"><a href="#cb26-296" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>B02001_003 contains the total black alone population</span>
<span id="cb26-297"><a href="#cb26-297" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-298"><a href="#cb26-298" aria-hidden="true" tabindex="-1"></a>We could use the <span class="in">`tidyverse`</span> command <span class="in">`mutate()`</span> to create our other category and place into a new column in our dataset:</span>
<span id="cb26-299"><a href="#cb26-299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-302"><a href="#cb26-302" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb26-303"><a href="#cb26-303" aria-hidden="true" tabindex="-1"></a>place_race_2021 <span class="sc">|&gt;</span> </span>
<span id="cb26-304"><a href="#cb26-304" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">p_other =</span> B02001_001E<span class="sc">-</span>(B02001_002E <span class="sc">+</span> B02001_003E)) <span class="sc">|&gt;</span> </span>
<span id="cb26-305"><a href="#cb26-305" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span> </span>
<span id="cb26-306"><a href="#cb26-306" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span>
<span id="cb26-307"><a href="#cb26-307" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-308"><a href="#cb26-308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-309"><a href="#cb26-309" aria-hidden="true" tabindex="-1"></a>We might also want to rename our other two variables so that they are more readable, and might want to get rid of some of the other data we don't need:</span>
<span id="cb26-310"><a href="#cb26-310" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-313"><a href="#cb26-313" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb26-314"><a href="#cb26-314" aria-hidden="true" tabindex="-1"></a>place_race_2021 <span class="sc">|&gt;</span> </span>
<span id="cb26-315"><a href="#cb26-315" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pop_other =</span> B02001_001E<span class="sc">-</span>(B02001_002E <span class="sc">+</span> B02001_003E)) <span class="sc">|&gt;</span>  </span>
<span id="cb26-316"><a href="#cb26-316" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Name =</span> NAME, <span class="at">pop_tot =</span> B02001_001E, <span class="at">pop_white =</span> B02001_002E, <span class="at">pop_black =</span> B02001_003E) <span class="sc">|&gt;</span> </span>
<span id="cb26-317"><a href="#cb26-317" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Name, pop_tot, pop_white, pop_black, pop_other) <span class="sc">|&gt;</span> </span>
<span id="cb26-318"><a href="#cb26-318" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span> </span>
<span id="cb26-319"><a href="#cb26-319" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span>
<span id="cb26-320"><a href="#cb26-320" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-321"><a href="#cb26-321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-322"><a href="#cb26-322" aria-hidden="true" tabindex="-1"></a>The above code does the following:</span>
<span id="cb26-323"><a href="#cb26-323" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-324"><a href="#cb26-324" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Uses <span class="in">`mutate()`</span> to create a new variable called <span class="in">`pop_other`</span> that subtracts from the total population the white alone population and black alone population.</span>
<span id="cb26-325"><a href="#cb26-325" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Pipes this through to a function which you haven't seen before called <span class="in">`rename()`</span> which allows us to rename columns by name with the specification <span class="in">`rename(new name = old name)`</span></span>
<span id="cb26-326"><a href="#cb26-326" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>We then pipe this through and use <span class="in">`select()`</span> to select only the name of the place, and our four named population columns - pop_total, pop_white, pop_black, pop_other.</span>
<span id="cb26-327"><a href="#cb26-327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-328"><a href="#cb26-328" aria-hidden="true" tabindex="-1"></a>Let's filter out just the data for Champaign, Illinois:</span>
<span id="cb26-329"><a href="#cb26-329" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-332"><a href="#cb26-332" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb26-333"><a href="#cb26-333" aria-hidden="true" tabindex="-1"></a>place_race_2021 <span class="sc">|&gt;</span>  </span>
<span id="cb26-334"><a href="#cb26-334" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(NAME <span class="sc">==</span> <span class="st">"Champaign city, Illinois"</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb26-335"><a href="#cb26-335" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pop_other =</span> B02001_001E<span class="sc">-</span>(B02001_002E <span class="sc">+</span> B02001_003E)) <span class="sc">|&gt;</span>  </span>
<span id="cb26-336"><a href="#cb26-336" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Name =</span> NAME, <span class="at">pop_tot =</span> B02001_001E, <span class="at">pop_white =</span> B02001_002E, <span class="at">pop_black =</span> B02001_003E) <span class="sc">|&gt;</span>  </span>
<span id="cb26-337"><a href="#cb26-337" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Name, pop_tot, pop_white, pop_black, pop_other) <span class="sc">|&gt;</span> </span>
<span id="cb26-338"><a href="#cb26-338" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span>
<span id="cb26-339"><a href="#cb26-339" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-340"><a href="#cb26-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-341"><a href="#cb26-341" aria-hidden="true" tabindex="-1"></a>Note that if you look at the Name column that the name for each census place includes some additional information regarding what type of place it is (e.g. city, village, CDP). How would we filter for a place like Champaign if we didn't know it was incorporated as a city?</span>
<span id="cb26-342"><a href="#cb26-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-343"><a href="#cb26-343" aria-hidden="true" tabindex="-1"></a>Some possible strategies:</span>
<span id="cb26-344"><a href="#cb26-344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-345"><a href="#cb26-345" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>We could search through all 1,369 records to find the specific record for Champaign</span>
<span id="cb26-346"><a href="#cb26-346" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>We could search manually but first sort alphabetically by NAME which would make it a little easier to find the value for Champaign. The <span class="in">`arrange()`</span> command allows us to sort:</span>
<span id="cb26-347"><a href="#cb26-347" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-350"><a href="#cb26-350" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb26-351"><a href="#cb26-351" aria-hidden="true" tabindex="-1"></a>place_race_2021 <span class="sc">|&gt;</span></span>
<span id="cb26-352"><a href="#cb26-352" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(NAME) <span class="sc">|&gt;</span> </span>
<span id="cb26-353"><a href="#cb26-353" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">20</span>) <span class="sc">|&gt;</span> </span>
<span id="cb26-354"><a href="#cb26-354" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span>
<span id="cb26-355"><a href="#cb26-355" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-356"><a href="#cb26-356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-357"><a href="#cb26-357" aria-hidden="true" tabindex="-1"></a>If we wanted to sort this list in the opposite direction, we can use the <span class="in">`desc()`</span> command to do so:</span>
<span id="cb26-358"><a href="#cb26-358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-361"><a href="#cb26-361" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb26-362"><a href="#cb26-362" aria-hidden="true" tabindex="-1"></a>place_race_2021 <span class="sc">|&gt;</span></span>
<span id="cb26-363"><a href="#cb26-363" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(NAME)) <span class="sc">|&gt;</span> </span>
<span id="cb26-364"><a href="#cb26-364" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">20</span>) <span class="sc">|&gt;</span> </span>
<span id="cb26-365"><a href="#cb26-365" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span>
<span id="cb26-366"><a href="#cb26-366" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-367"><a href="#cb26-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-368"><a href="#cb26-368" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>We could call upon a flexible tool for identifying matches within a character vector from the <span class="in">`stringr`</span> package called <span class="in">`str_detect()`</span>:</span>
<span id="cb26-369"><a href="#cb26-369" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-372"><a href="#cb26-372" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb26-373"><a href="#cb26-373" aria-hidden="true" tabindex="-1"></a>place_race_2021 <span class="sc">|&gt;</span></span>
<span id="cb26-374"><a href="#cb26-374" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(NAME, <span class="st">"Champaign"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb26-375"><a href="#cb26-375" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span>
<span id="cb26-376"><a href="#cb26-376" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-377"><a href="#cb26-377" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-378"><a href="#cb26-378" aria-hidden="true" tabindex="-1"></a>This says, look in the NAME column, and find those values where **part** of the row matches "Champaign".</span>
<span id="cb26-379"><a href="#cb26-379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-380"><a href="#cb26-380" aria-hidden="true" tabindex="-1"></a>Let's look again at our cleaned up observations for Champaign:</span>
<span id="cb26-381"><a href="#cb26-381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-384"><a href="#cb26-384" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb26-385"><a href="#cb26-385" aria-hidden="true" tabindex="-1"></a>place_race_2021 <span class="sc">|&gt;</span>  </span>
<span id="cb26-386"><a href="#cb26-386" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(NAME <span class="sc">==</span> <span class="st">"Champaign city, Illinois"</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb26-387"><a href="#cb26-387" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pop_other =</span> B02001_001E<span class="sc">-</span>(B02001_002E <span class="sc">+</span> B02001_003E)) <span class="sc">|&gt;</span> </span>
<span id="cb26-388"><a href="#cb26-388" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Name =</span> NAME, <span class="at">pop_tot =</span> B02001_001E, <span class="at">pop_white =</span> B02001_002E, <span class="at">pop_black =</span> B02001_003E) <span class="sc">|&gt;</span> </span>
<span id="cb26-389"><a href="#cb26-389" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Name, pop_tot, pop_white, pop_black, pop_other) <span class="sc">|&gt;</span> </span>
<span id="cb26-390"><a href="#cb26-390" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span>
<span id="cb26-391"><a href="#cb26-391" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-392"><a href="#cb26-392" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-393"><a href="#cb26-393" aria-hidden="true" tabindex="-1"></a>There's a fairly sizable population that falls into the "pop_other" category. We could not worry about this, but it probably makes sense to see if there's another relatively large population group that we should itemize for in Champaign. Let's go back and download the whole table (and overwrite our existing one) to be able to take a closer look:</span>
<span id="cb26-394"><a href="#cb26-394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-397"><a href="#cb26-397" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb26-398"><a href="#cb26-398" aria-hidden="true" tabindex="-1"></a><span class="co">#| error: false</span></span>
<span id="cb26-399"><a href="#cb26-399" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb26-400"><a href="#cb26-400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-401"><a href="#cb26-401" aria-hidden="true" tabindex="-1"></a>place_race_2021<span class="ot">&lt;-</span><span class="fu">get_acs</span>(<span class="at">geography =</span> <span class="st">"place"</span>, <span class="at">state =</span> <span class="st">"IL"</span>, <span class="at">table =</span> <span class="st">"B02001"</span>, <span class="at">year=</span><span class="dv">2021</span>, <span class="at">survey=</span><span class="st">"acs5"</span>, <span class="at">output=</span><span class="st">"wide"</span>)</span>
<span id="cb26-402"><a href="#cb26-402" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-403"><a href="#cb26-403" aria-hidden="true" tabindex="-1"></a>place_race_2021 <span class="sc">|&gt;</span> </span>
<span id="cb26-404"><a href="#cb26-404" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(NAME <span class="sc">==</span> <span class="st">"Champaign city, Illinois"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb26-405"><a href="#cb26-405" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span>
<span id="cb26-406"><a href="#cb26-406" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-407"><a href="#cb26-407" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-408"><a href="#cb26-408" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Total Population 88,343 (B02001_001E)</span>
<span id="cb26-409"><a href="#cb26-409" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>White Population 54,115 (B02001_002E)</span>
<span id="cb26-410"><a href="#cb26-410" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Black Population 15,741 (B02001_003E)</span>
<span id="cb26-411"><a href="#cb26-411" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-412"><a href="#cb26-412" aria-hidden="true" tabindex="-1"></a>There's a fairly sizable number of people in B02001_005E (13,310). What racial group is represented there? Given that large a number, let's add this group into the racial summary table we're working to develop:</span>
<span id="cb26-413"><a href="#cb26-413" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-416"><a href="#cb26-416" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb26-417"><a href="#cb26-417" aria-hidden="true" tabindex="-1"></a>place_race_2021 <span class="sc">|&gt;</span> </span>
<span id="cb26-418"><a href="#cb26-418" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(NAME <span class="sc">==</span> <span class="st">"Champaign city, Illinois"</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb26-419"><a href="#cb26-419" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pop_other =</span> B02001_001E<span class="sc">-</span>(B02001_002E <span class="sc">+</span> B02001_003E<span class="sc">+</span> B02001_005E)) <span class="sc">|&gt;</span> </span>
<span id="cb26-420"><a href="#cb26-420" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Name =</span> NAME, <span class="at">pop_tot =</span> B02001_001E, <span class="at">pop_white =</span> B02001_002E, <span class="at">pop_black =</span> B02001_003E, <span class="at">pop_asian =</span> B02001_005E) <span class="sc">|&gt;</span> </span>
<span id="cb26-421"><a href="#cb26-421" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Name, pop_tot, pop_white, pop_black, pop_asian, pop_other) <span class="sc">|&gt;</span> </span>
<span id="cb26-422"><a href="#cb26-422" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span>
<span id="cb26-423"><a href="#cb26-423" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-424"><a href="#cb26-424" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-425"><a href="#cb26-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-426"><a href="#cb26-426" aria-hidden="true" tabindex="-1"></a>The missing group with a fairly large population in this case is the Asian population. By adding this group, we lower the proportion of the total population in the "other" category substantially. This now looks a bit more presentable (and informative). There's no hard and fast rule for which groups to represent. However, it's important to note that it is often beneficial to make use of an "other" category in instances where you have small numbers (unless there's detail there which your audience needs to see).</span>
<span id="cb26-427"><a href="#cb26-427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-428"><a href="#cb26-428" aria-hidden="true" tabindex="-1"></a>Let's go ahead and write this cleaned information back into place_race_2021:</span>
<span id="cb26-429"><a href="#cb26-429" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-432"><a href="#cb26-432" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb26-433"><a href="#cb26-433" aria-hidden="true" tabindex="-1"></a>place_race_2021<span class="ot">&lt;-</span>place_race_2021 <span class="sc">|&gt;</span> </span>
<span id="cb26-434"><a href="#cb26-434" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(NAME <span class="sc">==</span> <span class="st">"Champaign city, Illinois"</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb26-435"><a href="#cb26-435" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pop_other =</span> B02001_001E<span class="sc">-</span>(B02001_002E <span class="sc">+</span> B02001_003E<span class="sc">+</span> B02001_005E)) <span class="sc">|&gt;</span>  </span>
<span id="cb26-436"><a href="#cb26-436" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Name =</span> NAME, <span class="at">pop_tot =</span> B02001_001E, <span class="at">pop_white =</span> B02001_002E, <span class="at">pop_black =</span> B02001_003E, <span class="at">pop_asian =</span> B02001_005E) <span class="sc">|&gt;</span>  </span>
<span id="cb26-437"><a href="#cb26-437" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Name, pop_tot, pop_white, pop_black, pop_asian, pop_other)</span>
<span id="cb26-438"><a href="#cb26-438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-439"><a href="#cb26-439" aria-hidden="true" tabindex="-1"></a>place_race_2021 <span class="sc">|&gt;</span> <span class="fu">gt</span>()</span>
<span id="cb26-440"><a href="#cb26-440" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-441"><a href="#cb26-441" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-442"><a href="#cb26-442" aria-hidden="true" tabindex="-1"></a>From here, we could do a few more things:</span>
<span id="cb26-443"><a href="#cb26-443" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-444"><a href="#cb26-444" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>Construct an analogous table from our county data for Champaign County, Illinois.</span>
<span id="cb26-445"><a href="#cb26-445" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>Construct percentages for the values we've found, which can make comparison much easier.</span>
<span id="cb26-446"><a href="#cb26-446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-447"><a href="#cb26-447" aria-hidden="true" tabindex="-1"></a><span class="fu">### Construct County Data</span></span>
<span id="cb26-448"><a href="#cb26-448" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-449"><a href="#cb26-449" aria-hidden="true" tabindex="-1"></a>Perform the same table cleaning and re-labeling for our county data that you did for our data for Champaign, and overwrite the existing data with this new data.</span>
<span id="cb26-450"><a href="#cb26-450" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-453"><a href="#cb26-453" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb26-454"><a href="#cb26-454" aria-hidden="true" tabindex="-1"></a><span class="co">#| error: false</span></span>
<span id="cb26-455"><a href="#cb26-455" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb26-456"><a href="#cb26-456" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-457"><a href="#cb26-457" aria-hidden="true" tabindex="-1"></a>county_race_2021 <span class="ot">&lt;-</span><span class="fu">get_acs</span>(<span class="at">geography =</span> <span class="st">"county"</span>, <span class="at">state =</span> <span class="st">"IL"</span>, <span class="at">table =</span> <span class="st">"B02001"</span>, <span class="at">year=</span><span class="dv">2021</span>, <span class="at">survey=</span><span class="st">"acs5"</span>, <span class="at">output=</span><span class="st">"wide"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb26-458"><a href="#cb26-458" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(NAME <span class="sc">==</span> <span class="st">"Champaign County, Illinois"</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb26-459"><a href="#cb26-459" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pop_other =</span> B02001_001E<span class="sc">-</span>(B02001_002E <span class="sc">+</span> B02001_003E<span class="sc">+</span> B02001_005E)) <span class="sc">|&gt;</span>  </span>
<span id="cb26-460"><a href="#cb26-460" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Name =</span> NAME, <span class="at">pop_tot =</span> B02001_001E, <span class="at">pop_white =</span> B02001_002E, <span class="at">pop_black =</span> B02001_003E, <span class="at">pop_asian =</span> B02001_005E) <span class="sc">|&gt;</span>  </span>
<span id="cb26-461"><a href="#cb26-461" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Name, pop_tot, pop_white, pop_black, pop_asian, pop_other)</span>
<span id="cb26-462"><a href="#cb26-462" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-463"><a href="#cb26-463" aria-hidden="true" tabindex="-1"></a>county_race_2021 <span class="sc">|&gt;</span> <span class="fu">gt</span>()</span>
<span id="cb26-464"><a href="#cb26-464" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-465"><a href="#cb26-465" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-466"><a href="#cb26-466" aria-hidden="true" tabindex="-1"></a><span class="fu">### Construct Percentages</span></span>
<span id="cb26-467"><a href="#cb26-467" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-468"><a href="#cb26-468" aria-hidden="true" tabindex="-1"></a>Now that we have "clean" data for City of Champaign and Champaign County, calculate percentages of the total population for each racial category and add these as new columns in their respective data tables:</span>
<span id="cb26-469"><a href="#cb26-469" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-472"><a href="#cb26-472" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb26-473"><a href="#cb26-473" aria-hidden="true" tabindex="-1"></a>place_race_2021<span class="ot">&lt;-</span></span>
<span id="cb26-474"><a href="#cb26-474" aria-hidden="true" tabindex="-1"></a>  place_race_2021 <span class="sc">|&gt;</span>  </span>
<span id="cb26-475"><a href="#cb26-475" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">p_white =</span> (pop_white<span class="sc">/</span>pop_tot)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb26-476"><a href="#cb26-476" aria-hidden="true" tabindex="-1"></a>         <span class="at">p_black =</span> (pop_black<span class="sc">/</span>pop_tot)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb26-477"><a href="#cb26-477" aria-hidden="true" tabindex="-1"></a>         <span class="at">p_asian =</span> (pop_asian <span class="sc">/</span> pop_tot)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb26-478"><a href="#cb26-478" aria-hidden="true" tabindex="-1"></a>         <span class="at">p_other =</span> (pop_other<span class="sc">/</span>pop_tot)<span class="sc">*</span><span class="dv">100</span>)</span>
<span id="cb26-479"><a href="#cb26-479" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-480"><a href="#cb26-480" aria-hidden="true" tabindex="-1"></a>county_race_2021<span class="ot">&lt;-</span></span>
<span id="cb26-481"><a href="#cb26-481" aria-hidden="true" tabindex="-1"></a>  county_race_2021 <span class="sc">%&gt;%</span> </span>
<span id="cb26-482"><a href="#cb26-482" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">p_white =</span> (pop_white<span class="sc">/</span>pop_tot)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb26-483"><a href="#cb26-483" aria-hidden="true" tabindex="-1"></a>         <span class="at">p_black =</span> (pop_black<span class="sc">/</span>pop_tot)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb26-484"><a href="#cb26-484" aria-hidden="true" tabindex="-1"></a>         <span class="at">p_asian =</span> (pop_asian <span class="sc">/</span> pop_tot)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb26-485"><a href="#cb26-485" aria-hidden="true" tabindex="-1"></a>         <span class="at">p_other =</span> (pop_other<span class="sc">/</span>pop_tot)<span class="sc">*</span><span class="dv">100</span>)</span>
<span id="cb26-486"><a href="#cb26-486" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-487"><a href="#cb26-487" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-488"><a href="#cb26-488" aria-hidden="true" tabindex="-1"></a>From here, we could copy and paste out values to construct a final table, or could combine values to create our own table:</span>
<span id="cb26-489"><a href="#cb26-489" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-492"><a href="#cb26-492" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb26-493"><a href="#cb26-493" aria-hidden="true" tabindex="-1"></a>race_2021<span class="ot">&lt;-</span><span class="fu">bind_rows</span>(place_race_2021, county_race_2021)</span>
<span id="cb26-494"><a href="#cb26-494" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-495"><a href="#cb26-495" aria-hidden="true" tabindex="-1"></a>race_2021 <span class="sc">|&gt;</span> <span class="fu">gt</span>()</span>
<span id="cb26-496"><a href="#cb26-496" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-497"><a href="#cb26-497" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-498"><a href="#cb26-498" aria-hidden="true" tabindex="-1"></a>The <span class="in">`bind_rows()`</span> command allows us to take the rows in two separate data tables and combine them together based upon them having common column names (the columns don't have to be in the same order). There's also <span class="in">`bind_columns()`</span> for the analogous operation on columns.</span>
<span id="cb26-499"><a href="#cb26-499" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-500"><a href="#cb26-500" aria-hidden="true" tabindex="-1"></a>This puts us in a good position to make a final "pretty" table:</span>
<span id="cb26-501"><a href="#cb26-501" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-502"><a href="#cb26-502" aria-hidden="true" tabindex="-1"></a>First, for raw numbers:</span>
<span id="cb26-503"><a href="#cb26-503" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-506"><a href="#cb26-506" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb26-507"><a href="#cb26-507" aria-hidden="true" tabindex="-1"></a>race_2021 <span class="sc">|&gt;</span> </span>
<span id="cb26-508"><a href="#cb26-508" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Name, pop_white, pop_black, pop_asian, pop_other, pop_tot) <span class="sc">|&gt;</span> </span>
<span id="cb26-509"><a href="#cb26-509" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb26-510"><a href="#cb26-510" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_number</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">decimals =</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> </span>
<span id="cb26-511"><a href="#cb26-511" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb26-512"><a href="#cb26-512" aria-hidden="true" tabindex="-1"></a>    <span class="at">pop_white =</span> <span class="st">"White"</span>,</span>
<span id="cb26-513"><a href="#cb26-513" aria-hidden="true" tabindex="-1"></a>    <span class="at">pop_black =</span> <span class="st">"Black"</span>,</span>
<span id="cb26-514"><a href="#cb26-514" aria-hidden="true" tabindex="-1"></a>    <span class="at">pop_asian =</span> <span class="st">"Asian"</span>,</span>
<span id="cb26-515"><a href="#cb26-515" aria-hidden="true" tabindex="-1"></a>    <span class="at">pop_other =</span> <span class="st">"Other"</span>,</span>
<span id="cb26-516"><a href="#cb26-516" aria-hidden="true" tabindex="-1"></a>    <span class="at">pop_tot =</span> <span class="st">"Total Population"</span></span>
<span id="cb26-517"><a href="#cb26-517" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb26-518"><a href="#cb26-518" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-519"><a href="#cb26-519" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-520"><a href="#cb26-520" aria-hidden="true" tabindex="-1"></a>Second, for percentages:</span>
<span id="cb26-521"><a href="#cb26-521" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-524"><a href="#cb26-524" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb26-525"><a href="#cb26-525" aria-hidden="true" tabindex="-1"></a>race_2021 <span class="sc">|&gt;</span> </span>
<span id="cb26-526"><a href="#cb26-526" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Name, p_white, p_black, p_asian, p_other) <span class="sc">|&gt;</span> </span>
<span id="cb26-527"><a href="#cb26-527" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb26-528"><a href="#cb26-528" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_percent</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">decimals =</span> <span class="dv">1</span>, <span class="at">scale_values =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb26-529"><a href="#cb26-529" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb26-530"><a href="#cb26-530" aria-hidden="true" tabindex="-1"></a>    <span class="at">p_white =</span> <span class="st">"White"</span>,</span>
<span id="cb26-531"><a href="#cb26-531" aria-hidden="true" tabindex="-1"></a>    <span class="at">p_black =</span> <span class="st">"Black"</span>,</span>
<span id="cb26-532"><a href="#cb26-532" aria-hidden="true" tabindex="-1"></a>    <span class="at">p_asian =</span> <span class="st">"Asian"</span>,</span>
<span id="cb26-533"><a href="#cb26-533" aria-hidden="true" tabindex="-1"></a>    <span class="at">p_other =</span> <span class="st">"Other"</span></span>
<span id="cb26-534"><a href="#cb26-534" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb26-535"><a href="#cb26-535" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-536"><a href="#cb26-536" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-537"><a href="#cb26-537" aria-hidden="true" tabindex="-1"></a>The Klosterman book includes one more comparison - for the region. Champaign's region includes Champaign, Ford, and Piatt Counties. We can construct regional numbers from the same county data which we used before. Unfortunately, we overwrote that existing data when we created our "clean" data just for Champaign County. Let's download this again and construct our regional comparison:</span>
<span id="cb26-538"><a href="#cb26-538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-541"><a href="#cb26-541" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb26-542"><a href="#cb26-542" aria-hidden="true" tabindex="-1"></a><span class="co">#| error: false</span></span>
<span id="cb26-543"><a href="#cb26-543" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb26-544"><a href="#cb26-544" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-545"><a href="#cb26-545" aria-hidden="true" tabindex="-1"></a>region_race_2021<span class="ot">&lt;-</span> <span class="fu">get_acs</span>(<span class="at">geography =</span> <span class="st">"county"</span>, <span class="at">state =</span> <span class="st">"IL"</span>, <span class="at">table =</span> <span class="st">"B02001"</span>, <span class="at">year=</span><span class="dv">2021</span>, <span class="at">survey=</span><span class="st">"acs5"</span>, <span class="at">output=</span><span class="st">"wide"</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb26-546"><a href="#cb26-546" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Champaign County, Illinois"</span>, <span class="st">"Ford County, Illinois"</span>, <span class="st">"Piatt County, Illinois"</span>)) <span class="sc">|&gt;</span> <span class="fu">summarise</span>(<span class="at">B02001_001E =</span> <span class="fu">sum</span>(B02001_001E),</span>
<span id="cb26-547"><a href="#cb26-547" aria-hidden="true" tabindex="-1"></a>            <span class="at">B02001_002E =</span> <span class="fu">sum</span>(B02001_002E),</span>
<span id="cb26-548"><a href="#cb26-548" aria-hidden="true" tabindex="-1"></a>            <span class="at">B02001_003E =</span> <span class="fu">sum</span>(B02001_003E),</span>
<span id="cb26-549"><a href="#cb26-549" aria-hidden="true" tabindex="-1"></a>            <span class="at">B02001_005E =</span> <span class="fu">sum</span>(B02001_005E)) <span class="sc">|&gt;</span> </span>
<span id="cb26-550"><a href="#cb26-550" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">NAME =</span> <span class="st">"Region"</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb26-551"><a href="#cb26-551" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pop_other =</span> B02001_001E<span class="sc">-</span>(B02001_002E <span class="sc">+</span> B02001_003E<span class="sc">+</span> B02001_005E)) <span class="sc">|&gt;</span>  </span>
<span id="cb26-552"><a href="#cb26-552" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Name =</span> NAME, <span class="at">pop_tot =</span> B02001_001E, <span class="at">pop_white =</span> B02001_002E, <span class="at">pop_black =</span> B02001_003E, <span class="at">pop_asian =</span> B02001_005E) <span class="sc">|&gt;</span>  </span>
<span id="cb26-553"><a href="#cb26-553" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Name, pop_tot, pop_white, pop_black, pop_asian, pop_other) <span class="sc">|&gt;</span>  </span>
<span id="cb26-554"><a href="#cb26-554" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb26-555"><a href="#cb26-555" aria-hidden="true" tabindex="-1"></a>  <span class="at">p_white =</span> (pop_white <span class="sc">/</span> pop_tot)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb26-556"><a href="#cb26-556" aria-hidden="true" tabindex="-1"></a>  <span class="at">p_black =</span> (pop_black <span class="sc">/</span> pop_tot)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb26-557"><a href="#cb26-557" aria-hidden="true" tabindex="-1"></a>  <span class="at">p_asian =</span> (pop_asian <span class="sc">/</span> pop_tot)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb26-558"><a href="#cb26-558" aria-hidden="true" tabindex="-1"></a>  <span class="at">p_other =</span> (pop_other <span class="sc">/</span> pop_tot)<span class="sc">*</span><span class="dv">100</span>)</span>
<span id="cb26-559"><a href="#cb26-559" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-560"><a href="#cb26-560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-561"><a href="#cb26-561" aria-hidden="true" tabindex="-1"></a>Note that the above code uses pipes to take all of the steps we had done above - downloading the data, querying out the counties of interest (remember that <span class="in">`%in%`</span> allows us to match on multiple elements of a list), calculating values, to put them into one step. We now have a data processing pipeline which we only need to make minor modifications to in order to create a summary for any census geography. If you are sure that you have robust code present here, this will work just fine. It is perfectly acceptable to break this code into multiple chunks and then to overwrite once you are certain that the code will give you a desired outcome.</span>
<span id="cb26-562"><a href="#cb26-562" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-563"><a href="#cb26-563" aria-hidden="true" tabindex="-1"></a>Also, did you catch how we combined information for Champaign, Ford, and Piatt counties into one "Region"? The following lines of code handle these steps:</span>
<span id="cb26-564"><a href="#cb26-564" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-567"><a href="#cb26-567" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb26-568"><a href="#cb26-568" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb26-569"><a href="#cb26-569" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-570"><a href="#cb26-570" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Champaign County, Illinois"</span>, <span class="st">"Ford County, Illinois"</span>, <span class="st">"Piatt County, Illinois"</span>)) <span class="sc">|&gt;</span>  </span>
<span id="cb26-571"><a href="#cb26-571" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">B02001_001E =</span> <span class="fu">sum</span>(B02001_001E),</span>
<span id="cb26-572"><a href="#cb26-572" aria-hidden="true" tabindex="-1"></a>            <span class="at">B02001_002E =</span> <span class="fu">sum</span>(B02001_002E),</span>
<span id="cb26-573"><a href="#cb26-573" aria-hidden="true" tabindex="-1"></a>            <span class="at">B02001_003E =</span> <span class="fu">sum</span>(B02001_003E),</span>
<span id="cb26-574"><a href="#cb26-574" aria-hidden="true" tabindex="-1"></a>            <span class="at">B02001_005E =</span> <span class="fu">sum</span>(B02001_005E)) <span class="sc">|&gt;</span> </span>
<span id="cb26-575"><a href="#cb26-575" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">NAME =</span> <span class="st">"Region"</span>)</span>
<span id="cb26-576"><a href="#cb26-576" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-577"><a href="#cb26-577" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-578"><a href="#cb26-578" aria-hidden="true" tabindex="-1"></a>What's going on here?</span>
<span id="cb26-579"><a href="#cb26-579" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-580"><a href="#cb26-580" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>The <span class="in">`filter()`</span> section filters the data to the three rows in the dataset where the NAME field is equal to Champaign, Ford, or Piatt county.</span>
<span id="cb26-581"><a href="#cb26-581" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-582"><a href="#cb26-582" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>The <span class="in">`summarise()`</span> section is a little different than what we've seen before. In the past we've used this with <span class="in">`group_by()`</span> in order to develop summaries for groups. Because we don't have a <span class="in">`group_by()`</span> clause here, R, summarizes *all* of the observations as one group. In this case, because we're dealing with count data, we simply sum up all of the observations in a summary table where I have named the columns with the same names as the raw data had.</span>
<span id="cb26-583"><a href="#cb26-583" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-584"><a href="#cb26-584" aria-hidden="true" tabindex="-1"></a>From there, we can re-use the code we had already created to process the place and county data. With these things done, we can add our region values into our race_2021 summary table:</span>
<span id="cb26-585"><a href="#cb26-585" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-588"><a href="#cb26-588" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb26-589"><a href="#cb26-589" aria-hidden="true" tabindex="-1"></a>race_2021<span class="ot">&lt;-</span><span class="fu">bind_rows</span>(race_2021, region_race_2021)</span>
<span id="cb26-590"><a href="#cb26-590" aria-hidden="true" tabindex="-1"></a>race_2021 <span class="sc">|&gt;</span> <span class="fu">gt</span>()</span>
<span id="cb26-591"><a href="#cb26-591" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb26-592"><a href="#cb26-592" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-593"><a href="#cb26-593" aria-hidden="true" tabindex="-1"></a>While the values here are transposed, we have created code which creates a table similar to table 2.1 in the Klosterman book.</span>
<span id="cb26-594"><a href="#cb26-594" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-595"><a href="#cb26-595" aria-hidden="true" tabindex="-1"></a><span class="fu">## Closing Thoughts</span></span>
<span id="cb26-596"><a href="#cb26-596" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-597"><a href="#cb26-597" aria-hidden="true" tabindex="-1"></a>This tutorial has walked you through the steps necessary to start making basic calls to the Census API via <span class="in">`tidycensus`</span>. There's a lot more that you can do with tidycensus that we didn't cover here, including accessing decennial census data, downloading census geometries along with data, and having <span class="in">`tidycensus`</span> do some reshaping of your data. We will continue to explore these features as we add complexity in future labs.</span>
<span id="cb26-598"><a href="#cb26-598" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-599"><a href="#cb26-599" aria-hidden="true" tabindex="-1"></a><span class="fu">## Lab Evaluation</span></span>
<span id="cb26-600"><a href="#cb26-600" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-601"><a href="#cb26-601" aria-hidden="true" tabindex="-1"></a>In evaluating your lab submission, we'll be paying attention to the following:</span>
<span id="cb26-602"><a href="#cb26-602" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-603"><a href="#cb26-603" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Use of <span class="in">`dplyr`</span> and <span class="in">`tidyverse`</span> style formatting in your coding.</span>
<span id="cb26-604"><a href="#cb26-604" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-605"><a href="#cb26-605" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Refined table output formatting using tools such as <span class="in">`gt`</span>.</span>
<span id="cb26-606"><a href="#cb26-606" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-607"><a href="#cb26-607" aria-hidden="true" tabindex="-1"></a>As you get into the lab, please feel welcome to ask us questions, and please share where you're struggling with us and with others in the class.</span>
<span id="cb26-608"><a href="#cb26-608" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-609"><a href="#cb26-609" aria-hidden="true" tabindex="-1"></a><span class="fu">## References</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Content <i class="fa-regular fa-copyright" aria-label="copyright"></i> Andrew J. Greenlee</div>   
    <div class="nav-footer-right">Made with <i class="fa-brands fa-r-project" aria-label="r-project"></i> and <a href="https://quarto.org/">Quarto</a> <br> Website Code on <a href="https://github.com/agreen4/UP570_S23_Website">Github <i class="fa-brands fa-github" aria-label="github"></i></a></div>
  </div>
</footer>



</body></html>