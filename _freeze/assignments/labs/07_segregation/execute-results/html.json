{
  "hash": "07d9e8d98197b2d833b413ad93c43f06",
  "result": {
    "markdown": "---\ntitle: \"Measuring Residential Segregation\"\nsidebar: false\ntoc: true\ntoc-depth: 4\npage-layout: full\nbibliography: ../references.bib\ncsl: ../apa-6th-edition.csl\nformat: \n  html:\n    code-fold: show\n    code-overflow: wrap\n    code-tools:\n      source: true\n      toggle: false\n      caption: none\nfig-responsive: true\neditor: visual\n---\n\n\n## Introduction\n\nIn this lab, we'll explore some of the common measures of residential segregation and apply them at the city and regional levels.\n\nIn our last lab, we got a basic idea of the racial distribution for census tracts. Now we can start to think about summary measures of the extent to which these groups are segregated within the region. We will use census tracts as a unit of analysis to help us describe county-level racial segregation.\n\nMost measures of residential segregation are set up to summarize the level of heterogeneity (or homogeneity) observed between neighborhoods to a city or regional scale to produce a summary measure that then tells us how even populations are distributed at the neighborhood level.\n\nThere are also some measures that focus more on segregation at a neighborhood level. In this lab, we'll focus on those measures that summarize characteristics to more aggregate levels such as cities or regions.\n\n## Goals\n\n-   Gain exposure to common measures of residential segregation.\n-   Learn how to apply simple measures within R / RStudio.\n\n## Core Concepts\n\n### R and Rstudio\n\n-   \\[concepts here\\]\n\nLet's get going...\n\n## Github Lab Repository\n\nFollow [this link](https://classroom.github.com/a/iNNEeQDP) to accept the lab Github Classroom assignment repository.\n\n## Setup\n\nLet's start as usual by loading the packages that we'll need for our work.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(gt)\nlibrary(tigris)\nlibrary(tidycensus)\nlibrary(tidyverse)\nlibrary(sf)\n```\n:::\n\n\nFor the purposes of our example, we'll continue examining racial segregation in New York City - an extension of our previous lab example. Let's start by downloading and preparing data on race for New York City.\n\n### Get Tract Boundaries\n\nLet's download 2020 census tract boundaries for New York City's five Boroughs. While we're at it, we'll clean them up a little bit as we did in our last lab.\n\n| FIPS Code | County Name     | Borough Name  |\n|-----------|-----------------|---------------|\n| 36047     | Kings County    | Brooklyn      |\n| 36005     | Bronx County    | Bronx         |\n| 36081     | Queens County   | Queens        |\n| 36085     | Richmond County | Staten Island |\n| 36061     | New York County | Manhattan     |\n\n: New York City Boroughs\n\n\n\n\n\nAs a reminder, the code above is accomplishing the following things:\n\n1.  Download tract-level census geometries as a simple features object for Kings, Bronx, Queens, Richmond, and New York Counties for the year 2020.\n2.  Transform these geometries to NAD 1983.\n3.  Remove those defined tract boundaries with no land area.\n4.  Erase the portion of tract boundaries that are water, focusing on the top 10 percent of largest defined water polygons, and using hydrography defined by the census in 2020.\n\nLet's use `ggplot()` to visualize so that we can confirm what we've downloaded is indeed New York City's boroughs:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot()+\n  geom_sf(data=nyc_trt)\n```\n\n::: {.cell-output-display}\n![](07_segregation_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n### Get ACS Data\n\nNext, we'll download ACS data on race for New York City. We'll focus on 2020 data from the 5-year ACS from Table [B03002](https://data.census.gov/table?q=B03002).\n\nTo keep things organized, let's define the variables we want to download. Note that we're defining variable names as well as values. To facilitate some of our later operations, let's download these data in *wide* format rather than *tidy* format. In wide format, we'll have one observation (row) for each census tract, with multiple columns containing estimates for each population subgroup and the total population.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndl_vars <- c(\n  White = \"B03002_003\",\n  Black = \"B03002_004\",\n  Native = \"B03002_005\",\n  Asian = \"B03002_006\",\n  HIPI = \"B03002_007\",\n  Hispanic = \"B03002_012\",\n  Poptot = \"B03002_001\"\n)\n\n# Our tidycensus download call:\n\nnyc_race <- get_acs(\n  geography = \"tract\",\n  state = \"NY\",\n  county = c(\"Bronx\", \"Kings\", \"New York\", \"Queens\", \"Richmond\"),\n  variables = dl_vars,\n  year = 2020,\n  output = \"wide\"\n) \n\nnyc_race |> \n  slice_head(n = 5) |> \n  gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"wkdddgzoes\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#wkdddgzoes .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#wkdddgzoes .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#wkdddgzoes .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#wkdddgzoes .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#wkdddgzoes .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#wkdddgzoes .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#wkdddgzoes .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#wkdddgzoes .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#wkdddgzoes .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#wkdddgzoes .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#wkdddgzoes .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#wkdddgzoes .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#wkdddgzoes .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#wkdddgzoes .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#wkdddgzoes .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#wkdddgzoes .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#wkdddgzoes .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#wkdddgzoes .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#wkdddgzoes .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#wkdddgzoes .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#wkdddgzoes .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#wkdddgzoes .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#wkdddgzoes .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#wkdddgzoes .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#wkdddgzoes .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#wkdddgzoes .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#wkdddgzoes .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#wkdddgzoes .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#wkdddgzoes .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#wkdddgzoes .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#wkdddgzoes .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#wkdddgzoes .gt_left {\n  text-align: left;\n}\n\n#wkdddgzoes .gt_center {\n  text-align: center;\n}\n\n#wkdddgzoes .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#wkdddgzoes .gt_font_normal {\n  font-weight: normal;\n}\n\n#wkdddgzoes .gt_font_bold {\n  font-weight: bold;\n}\n\n#wkdddgzoes .gt_font_italic {\n  font-style: italic;\n}\n\n#wkdddgzoes .gt_super {\n  font-size: 65%;\n}\n\n#wkdddgzoes .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#wkdddgzoes .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#wkdddgzoes .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#wkdddgzoes .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#wkdddgzoes .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#wkdddgzoes .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#wkdddgzoes .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">GEOID</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">NAME</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">WhiteE</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">WhiteM</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">BlackE</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">BlackM</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">NativeE</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">NativeM</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">AsianE</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">AsianM</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">HIPIE</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">HIPIM</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">HispanicE</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">HispanicM</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">PoptotE</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">PoptotM</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_right\">36047009202</td>\n<td class=\"gt_row gt_left\">Census Tract 92.02, Kings County, New York</td>\n<td class=\"gt_row gt_right\">328</td>\n<td class=\"gt_row gt_right\">96</td>\n<td class=\"gt_row gt_right\">162</td>\n<td class=\"gt_row gt_right\">129</td>\n<td class=\"gt_row gt_right\">0</td>\n<td class=\"gt_row gt_right\">12</td>\n<td class=\"gt_row gt_right\">1037</td>\n<td class=\"gt_row gt_right\">293</td>\n<td class=\"gt_row gt_right\">0</td>\n<td class=\"gt_row gt_right\">12</td>\n<td class=\"gt_row gt_right\">1904</td>\n<td class=\"gt_row gt_right\">630</td>\n<td class=\"gt_row gt_right\">3453</td>\n<td class=\"gt_row gt_right\">653</td></tr>\n    <tr><td class=\"gt_row gt_right\">36047009401</td>\n<td class=\"gt_row gt_left\">Census Tract 94.01, Kings County, New York</td>\n<td class=\"gt_row gt_right\">132</td>\n<td class=\"gt_row gt_right\">72</td>\n<td class=\"gt_row gt_right\">173</td>\n<td class=\"gt_row gt_right\">245</td>\n<td class=\"gt_row gt_right\">0</td>\n<td class=\"gt_row gt_right\">12</td>\n<td class=\"gt_row gt_right\">1582</td>\n<td class=\"gt_row gt_right\">389</td>\n<td class=\"gt_row gt_right\">0</td>\n<td class=\"gt_row gt_right\">12</td>\n<td class=\"gt_row gt_right\">406</td>\n<td class=\"gt_row gt_right\">283</td>\n<td class=\"gt_row gt_right\">2293</td>\n<td class=\"gt_row gt_right\">380</td></tr>\n    <tr><td class=\"gt_row gt_right\">36047009402</td>\n<td class=\"gt_row gt_left\">Census Tract 94.02, Kings County, New York</td>\n<td class=\"gt_row gt_right\">377</td>\n<td class=\"gt_row gt_right\">198</td>\n<td class=\"gt_row gt_right\">38</td>\n<td class=\"gt_row gt_right\">57</td>\n<td class=\"gt_row gt_right\">0</td>\n<td class=\"gt_row gt_right\">12</td>\n<td class=\"gt_row gt_right\">1903</td>\n<td class=\"gt_row gt_right\">586</td>\n<td class=\"gt_row gt_right\">0</td>\n<td class=\"gt_row gt_right\">12</td>\n<td class=\"gt_row gt_right\">271</td>\n<td class=\"gt_row gt_right\">213</td>\n<td class=\"gt_row gt_right\">2746</td>\n<td class=\"gt_row gt_right\">553</td></tr>\n    <tr><td class=\"gt_row gt_right\">36047009600</td>\n<td class=\"gt_row gt_left\">Census Tract 96, Kings County, New York</td>\n<td class=\"gt_row gt_right\">1035</td>\n<td class=\"gt_row gt_right\">313</td>\n<td class=\"gt_row gt_right\">78</td>\n<td class=\"gt_row gt_right\">60</td>\n<td class=\"gt_row gt_right\">0</td>\n<td class=\"gt_row gt_right\">17</td>\n<td class=\"gt_row gt_right\">1993</td>\n<td class=\"gt_row gt_right\">519</td>\n<td class=\"gt_row gt_right\">0</td>\n<td class=\"gt_row gt_right\">17</td>\n<td class=\"gt_row gt_right\">2629</td>\n<td class=\"gt_row gt_right\">629</td>\n<td class=\"gt_row gt_right\">5858</td>\n<td class=\"gt_row gt_right\">710</td></tr>\n    <tr><td class=\"gt_row gt_right\">36047009800</td>\n<td class=\"gt_row gt_left\">Census Tract 98, Kings County, New York</td>\n<td class=\"gt_row gt_right\">218</td>\n<td class=\"gt_row gt_right\">83</td>\n<td class=\"gt_row gt_right\">162</td>\n<td class=\"gt_row gt_right\">160</td>\n<td class=\"gt_row gt_right\">0</td>\n<td class=\"gt_row gt_right\">17</td>\n<td class=\"gt_row gt_right\">2306</td>\n<td class=\"gt_row gt_right\">504</td>\n<td class=\"gt_row gt_right\">0</td>\n<td class=\"gt_row gt_right\">17</td>\n<td class=\"gt_row gt_right\">3275</td>\n<td class=\"gt_row gt_right\">740</td>\n<td class=\"gt_row gt_right\">6021</td>\n<td class=\"gt_row gt_right\">798</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\nNote that tidycensus downloads the data, and labels each column with the label we have defined (with E and M denoting estimates and margins of error).\n\nWhile we're at it, let's separate our tract name label into separate tract, county, and state values.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnyc_race <- nyc_race |> \n  separate(NAME, into = c(\"Tract\", \"County\", \"State\"), sep = \", \")\n```\n:::\n\n\nNote the use of `sep = \", \"` includes the space after the comma so we don't have an extra space in our resulting county and state variables.\n\n### Create County Summaries\n\nBefore we further manipulate our data, let's aggregate the data we have to form county population summaries. Because our tract data is hierarchical, we can sum up our population estimates from tracts to counties to produce county population totals. While we're at it, we'll also use the county FIPS codes to create a Borough identifier (we could also add county labels back as well).\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnyc_race_co <-\n  nyc_race |> \n  group_by(STCO = substr(GEOID, 0, 5)) |> \n  summarise(\n    co_WhiteE = sum(WhiteE, na.rm = TRUE),\n    co_WhiteM = moe_sum(WhiteM, WhiteE),\n    co_BlackE = sum(BlackE, na.rm = TRUE),\n    co_BlackM = moe_sum(BlackM, BlackE),\n    co_NativeE = sum(NativeE, na.rm = TRUE),\n    co_NativeM = moe_sum(NativeM, NativeE),\n    co_AsianE = sum(AsianE, na.rm = TRUE),\n    co_AsianM = moe_sum(AsianM, AsianE),\n    co_HIPIE = sum(HIPIE, na.rm = TRUE),\n    co_HIPIM = moe_sum(HIPIM, HIPIE),\n    co_HispanicE = sum(HispanicE, na.rm = TRUE),\n    co_HispanicM = moe_sum(HispanicM, HispanicE),\n    co_PoptotE = sum(PoptotE, na.rm = TRUE),\n    co_PoptotM = moe_sum(PoptotM, PoptotE),\n  ) |> \n  mutate(Borough =\n    case_when(\n      STCO == \"36005\" ~ \"Bronx\",\n      STCO == \"36047\" ~ \"Brooklyn\",\n      STCO == \"36061\" ~ \"Manhattan\",\n      STCO == \"36081\" ~ \"Queens\",\n      STCO == \"36085\" ~ \"Staten Island\")\n  )\n```\n:::\n\n\nLet's walk through this:\n\n1.  We are going to use `group_by()` to aggregate our tract-level data to counties. In this case, we are pulling out the first five digits from the combined state-county-tract FIPS code (`substr(GEOID, 0, 5)`) using the `substr()` command from the stringr package. This allows us to create a combined state and county FIPS code (the state is the first two digits - 36 in the case of New York - and the county is the next three digits).\n2.  We use `summarise()` to create summary values for counties. We use `sum()` on our population estimates to sum up populations for tracts into county totals. We use `moe_sum()` from the `tidycensus()` package to properly aggregate margins of error accounting for the size of the population estimate being aggregated. The census provides [documentation](https://www2.census.gov/programs-surveys/acs/tech_docs/accuracy/MultiyearACSAccuracyofData2015.pdf) on what's implemented in tidycensus. We denote that these are county estimates by including `co_` as a prefix - you'll see why later.\n3.  We use `case_when()` construct borough labels from our combined state and county FIPS codes.\n\nAs a result, we have a table containing county populations and margins of error for the boroughs of New York City:\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div id=\"vlkfkdkipo\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#vlkfkdkipo .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#vlkfkdkipo .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vlkfkdkipo .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#vlkfkdkipo .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#vlkfkdkipo .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vlkfkdkipo .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vlkfkdkipo .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#vlkfkdkipo .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#vlkfkdkipo .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#vlkfkdkipo .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#vlkfkdkipo .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#vlkfkdkipo .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#vlkfkdkipo .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#vlkfkdkipo .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#vlkfkdkipo .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#vlkfkdkipo .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#vlkfkdkipo .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vlkfkdkipo .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#vlkfkdkipo .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#vlkfkdkipo .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vlkfkdkipo .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#vlkfkdkipo .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#vlkfkdkipo .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vlkfkdkipo .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vlkfkdkipo .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#vlkfkdkipo .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#vlkfkdkipo .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vlkfkdkipo .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vlkfkdkipo .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vlkfkdkipo .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vlkfkdkipo .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vlkfkdkipo .gt_left {\n  text-align: left;\n}\n\n#vlkfkdkipo .gt_center {\n  text-align: center;\n}\n\n#vlkfkdkipo .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#vlkfkdkipo .gt_font_normal {\n  font-weight: normal;\n}\n\n#vlkfkdkipo .gt_font_bold {\n  font-weight: bold;\n}\n\n#vlkfkdkipo .gt_font_italic {\n  font-style: italic;\n}\n\n#vlkfkdkipo .gt_super {\n  font-size: 65%;\n}\n\n#vlkfkdkipo .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#vlkfkdkipo .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#vlkfkdkipo .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#vlkfkdkipo .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#vlkfkdkipo .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#vlkfkdkipo .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#vlkfkdkipo .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">STCO</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">co_WhiteE</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">co_WhiteM</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">co_BlackE</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">co_BlackM</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">co_NativeE</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">co_NativeM</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">co_AsianE</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">co_AsianM</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">co_HIPIE</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">co_HIPIM</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">co_HispanicE</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">co_HispanicM</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">co_PoptotE</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">co_PoptotM</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">Borough</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_right\">36005</td>\n<td class=\"gt_row gt_right\">128,717</td>\n<td class=\"gt_row gt_right\">3,742</td>\n<td class=\"gt_row gt_right\">411,293</td>\n<td class=\"gt_row gt_right\">8,800</td>\n<td class=\"gt_row gt_right\">2,882</td>\n<td class=\"gt_row gt_right\">727</td>\n<td class=\"gt_row gt_right\">53,498</td>\n<td class=\"gt_row gt_right\">3,097</td>\n<td class=\"gt_row gt_right\">374</td>\n<td class=\"gt_row gt_right\">198</td>\n<td class=\"gt_row gt_right\">799,765</td>\n<td class=\"gt_row gt_right\">12,002</td>\n<td class=\"gt_row gt_right\">1,427,056</td>\n<td class=\"gt_row gt_right\">14,216</td>\n<td class=\"gt_row gt_left\">Bronx</td></tr>\n    <tr><td class=\"gt_row gt_right\">36047</td>\n<td class=\"gt_row gt_right\">938,573</td>\n<td class=\"gt_row gt_right\">10,493</td>\n<td class=\"gt_row gt_right\">754,576</td>\n<td class=\"gt_row gt_right\">10,307</td>\n<td class=\"gt_row gt_right\">3,053</td>\n<td class=\"gt_row gt_right\">638</td>\n<td class=\"gt_row gt_right\">304,420</td>\n<td class=\"gt_row gt_right\">6,367</td>\n<td class=\"gt_row gt_right\">1,009</td>\n<td class=\"gt_row gt_right\">480</td>\n<td class=\"gt_row gt_right\">486,272</td>\n<td class=\"gt_row gt_right\">9,181</td>\n<td class=\"gt_row gt_right\">2,576,771</td>\n<td class=\"gt_row gt_right\">17,237</td>\n<td class=\"gt_row gt_left\">Brooklyn</td></tr>\n    <tr><td class=\"gt_row gt_right\">36061</td>\n<td class=\"gt_row gt_right\">763,202</td>\n<td class=\"gt_row gt_right\">11,503</td>\n<td class=\"gt_row gt_right\">199,377</td>\n<td class=\"gt_row gt_right\">6,238</td>\n<td class=\"gt_row gt_right\">1,960</td>\n<td class=\"gt_row gt_right\">581</td>\n<td class=\"gt_row gt_right\">196,097</td>\n<td class=\"gt_row gt_right\">6,049</td>\n<td class=\"gt_row gt_right\">430</td>\n<td class=\"gt_row gt_right\">237</td>\n<td class=\"gt_row gt_right\">418,442</td>\n<td class=\"gt_row gt_right\">9,769</td>\n<td class=\"gt_row gt_right\">1,629,153</td>\n<td class=\"gt_row gt_right\">16,500</td>\n<td class=\"gt_row gt_left\">Manhattan</td></tr>\n    <tr><td class=\"gt_row gt_right\">36081</td>\n<td class=\"gt_row gt_right\">559,778</td>\n<td class=\"gt_row gt_right\">8,090</td>\n<td class=\"gt_row gt_right\">385,868</td>\n<td class=\"gt_row gt_right\">7,374</td>\n<td class=\"gt_row gt_right\">5,561</td>\n<td class=\"gt_row gt_right\">948</td>\n<td class=\"gt_row gt_right\">584,214</td>\n<td class=\"gt_row gt_right\">9,369</td>\n<td class=\"gt_row gt_right\">832</td>\n<td class=\"gt_row gt_right\">271</td>\n<td class=\"gt_row gt_right\">631,657</td>\n<td class=\"gt_row gt_right\">10,976</td>\n<td class=\"gt_row gt_right\">2,270,976</td>\n<td class=\"gt_row gt_right\">16,687</td>\n<td class=\"gt_row gt_left\">Queens</td></tr>\n    <tr><td class=\"gt_row gt_right\">36085</td>\n<td class=\"gt_row gt_right\">286,462</td>\n<td class=\"gt_row gt_right\">6,247</td>\n<td class=\"gt_row gt_right\">43,941</td>\n<td class=\"gt_row gt_right\">2,970</td>\n<td class=\"gt_row gt_right\">515</td>\n<td class=\"gt_row gt_right\">243</td>\n<td class=\"gt_row gt_right\">47,194</td>\n<td class=\"gt_row gt_right\">2,905</td>\n<td class=\"gt_row gt_right\">55</td>\n<td class=\"gt_row gt_right\">127</td>\n<td class=\"gt_row gt_right\">87,733</td>\n<td class=\"gt_row gt_right\">4,193</td>\n<td class=\"gt_row gt_right\">475,596</td>\n<td class=\"gt_row gt_right\">7,858</td>\n<td class=\"gt_row gt_left\">Staten Island</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\nLet's create a more polished table showing the population by race for each NYC Borough:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnyc_race_co |> \n  mutate(other = co_NativeE+co_HIPIE) |> \n  select(Borough, co_WhiteE, co_BlackE, co_AsianE, co_HispanicE, other, co_PoptotE) |> \n  gt() |> \n  fmt_number(2:7, decimals = 0) |> \n  cols_label(\n    co_WhiteE = \"White\",\n    co_BlackE = \"Black\",\n    co_AsianE = \"Asian\",\n    co_HispanicE = \"Hispanic\",\n    other = \"Other\",\n    co_PoptotE = \"Total\"\n  ) |> \n  summary_rows(\n    columns = 2:7, \n    fns = list(Total = ~sum(.)),\n    formatter = fmt_number,\n    decimals = 0)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"bdewydrlbk\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#bdewydrlbk .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#bdewydrlbk .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#bdewydrlbk .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#bdewydrlbk .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#bdewydrlbk .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bdewydrlbk .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#bdewydrlbk .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#bdewydrlbk .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#bdewydrlbk .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#bdewydrlbk .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#bdewydrlbk .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#bdewydrlbk .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#bdewydrlbk .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#bdewydrlbk .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#bdewydrlbk .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#bdewydrlbk .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#bdewydrlbk .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bdewydrlbk .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#bdewydrlbk .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#bdewydrlbk .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bdewydrlbk .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#bdewydrlbk .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#bdewydrlbk .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bdewydrlbk .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bdewydrlbk .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#bdewydrlbk .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#bdewydrlbk .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bdewydrlbk .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#bdewydrlbk .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bdewydrlbk .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#bdewydrlbk .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bdewydrlbk .gt_left {\n  text-align: left;\n}\n\n#bdewydrlbk .gt_center {\n  text-align: center;\n}\n\n#bdewydrlbk .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#bdewydrlbk .gt_font_normal {\n  font-weight: normal;\n}\n\n#bdewydrlbk .gt_font_bold {\n  font-weight: bold;\n}\n\n#bdewydrlbk .gt_font_italic {\n  font-style: italic;\n}\n\n#bdewydrlbk .gt_super {\n  font-size: 65%;\n}\n\n#bdewydrlbk .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#bdewydrlbk .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#bdewydrlbk .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#bdewydrlbk .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#bdewydrlbk .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#bdewydrlbk .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#bdewydrlbk .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\"></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">Borough</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">White</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">Black</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">Asian</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">Hispanic</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">Other</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">Total</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><th scope=\"row\" class=\"gt_row gt_left gt_stub\"></th>\n<td class=\"gt_row gt_left\">Bronx</td>\n<td class=\"gt_row gt_right\">128,717</td>\n<td class=\"gt_row gt_right\">411,293</td>\n<td class=\"gt_row gt_right\">53,498</td>\n<td class=\"gt_row gt_right\">799,765</td>\n<td class=\"gt_row gt_right\">3,256</td>\n<td class=\"gt_row gt_right\">1,427,056</td></tr>\n    <tr><th scope=\"row\" class=\"gt_row gt_left gt_stub\"></th>\n<td class=\"gt_row gt_left\">Brooklyn</td>\n<td class=\"gt_row gt_right\">938,573</td>\n<td class=\"gt_row gt_right\">754,576</td>\n<td class=\"gt_row gt_right\">304,420</td>\n<td class=\"gt_row gt_right\">486,272</td>\n<td class=\"gt_row gt_right\">4,062</td>\n<td class=\"gt_row gt_right\">2,576,771</td></tr>\n    <tr><th scope=\"row\" class=\"gt_row gt_left gt_stub\"></th>\n<td class=\"gt_row gt_left\">Manhattan</td>\n<td class=\"gt_row gt_right\">763,202</td>\n<td class=\"gt_row gt_right\">199,377</td>\n<td class=\"gt_row gt_right\">196,097</td>\n<td class=\"gt_row gt_right\">418,442</td>\n<td class=\"gt_row gt_right\">2,390</td>\n<td class=\"gt_row gt_right\">1,629,153</td></tr>\n    <tr><th scope=\"row\" class=\"gt_row gt_left gt_stub\"></th>\n<td class=\"gt_row gt_left\">Queens</td>\n<td class=\"gt_row gt_right\">559,778</td>\n<td class=\"gt_row gt_right\">385,868</td>\n<td class=\"gt_row gt_right\">584,214</td>\n<td class=\"gt_row gt_right\">631,657</td>\n<td class=\"gt_row gt_right\">6,393</td>\n<td class=\"gt_row gt_right\">2,270,976</td></tr>\n    <tr><th scope=\"row\" class=\"gt_row gt_left gt_stub\"></th>\n<td class=\"gt_row gt_left\">Staten Island</td>\n<td class=\"gt_row gt_right\">286,462</td>\n<td class=\"gt_row gt_right\">43,941</td>\n<td class=\"gt_row gt_right\">47,194</td>\n<td class=\"gt_row gt_right\">87,733</td>\n<td class=\"gt_row gt_right\">570</td>\n<td class=\"gt_row gt_right\">475,596</td></tr>\n    <tr><td class=\"gt_row gt_left gt_stub gt_grand_summary_row gt_first_grand_summary_row gt_last_summary_row\">Total</td>\n<td class=\"gt_row gt_left gt_grand_summary_row gt_first_grand_summary_row gt_last_summary_row\">—</td>\n<td class=\"gt_row gt_right gt_grand_summary_row gt_first_grand_summary_row gt_last_summary_row\">2,676,732</td>\n<td class=\"gt_row gt_right gt_grand_summary_row gt_first_grand_summary_row gt_last_summary_row\">1,795,055</td>\n<td class=\"gt_row gt_right gt_grand_summary_row gt_first_grand_summary_row gt_last_summary_row\">1,185,423</td>\n<td class=\"gt_row gt_right gt_grand_summary_row gt_first_grand_summary_row gt_last_summary_row\">2,423,869</td>\n<td class=\"gt_row gt_right gt_grand_summary_row gt_first_grand_summary_row gt_last_summary_row\">16,671</td>\n<td class=\"gt_row gt_right gt_grand_summary_row gt_first_grand_summary_row gt_last_summary_row\">8,379,552</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\nNote the addition of a summary row at the bottom of the table so we can see the total population by race across New York City. Also note the strategic use of an \"Other\" category which combines the Native American and Hawaiian Island and Pacific Islander categories.\n\n### Setup Summary\n\nWe now have three resources available to us:\n\n1.  nyc_race: ACS data on race for all tracts in New York City.\n2.  nyc_race_co: ACS data on race for all counties in New York City.\n3.  nyc_trt: Tract geometry data for all tracts in New York City.\n\nThese three pieces of information can form the basis for manipulation and analysis of dimensions of racial segregation in New York City.\n\nLet's now turn towards the measures of segregation.\n\n## Dissimilarity\n\n*Dissimilarity* is a common measure of *evenness* between two populations - dissimilarity measures the distribution of a minority population within a majority population. Conceptually, dissimilarity measures the proportion of that minority or subgroup population that would need to move in order to be equally distributed with the majority population. A dissimilarity score of 0 would mean a completely even distribution of a minority population amongst a majority population (no segregation). A dissimilarity score of 100 would mean a completely segregated minority population (100 percent of the minority population would need to move to achieve an even distribution amongst the population. Dissimilarity is calculated as follows:\n\n$D = .5*\\sum_i |\\frac{b_i}{B}-\\frac{w_i}{W}|$\n\nwhere $b_i$ is the number of blacks in tract *i*\n\n$B$ is the number of blacks for the county\n\n$w_i$ is the number of whites in tract *i*\n\n$W$ is the number of whites for the county\n\nNow that we know the formula, we can start thinking about how to implement this in R with dplyr.\n\n### Black-White Dissimilarity\n\nThis looks complicated, but we can actually do this fairly simply with dplyr notation. Let's start off by calculating Black-White dissimilarity.\n\nWe have our white and black tract population data already in our il_trt data, and we have our county data in a separate object. Let's go ahead and join that county data to our tract data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnyc_race<-left_join(nyc_race |> mutate(STCO = substr(GEOID, 0,5)), nyc_race_co, by= \"STCO\")\n```\n:::\n\n\nNotice that this join looks pretty standard with the exception of `nyc_race |> mutate(STCO = substr(GEOID, 0,5))`. When we created our county-level summaries of the tract-level data, we created a new variable called STCO which is the combined city and county FIPS codes. In order to join those data to our tract data, we need to temporarily create the same code from our GEOID field in the tract data. The mutate statement temporarily creates the STCO column in the nyc_race data, and the join can be performed denoting the common column, STCO.\n\nNow that we've joined these together, we can start breaking down the dissimilarity formula into code-able pieces. Inside the absolute value we are calculating fractions of tract minority and majority populations compared to their county. We then subtract these from each other and use `abs()` to find the absolute value. After that, we need to sum these all up and multiply by .5. We are calculating these by county, so we can use group_by() to sum up only the data for each county to produce a series of final dissimilarity statistics for each county in the Chicago metropolitan area.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnyc_race  |>\n  mutate(dissim_wb = abs(BlackE / co_BlackE - WhiteE / co_WhiteE)) |>  \n  group_by(Borough) |>  \n  summarise(dissimilarity = .5*sum(dissim_wb)) |> gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"venszsjxqg\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#venszsjxqg .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#venszsjxqg .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#venszsjxqg .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#venszsjxqg .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#venszsjxqg .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#venszsjxqg .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#venszsjxqg .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#venszsjxqg .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#venszsjxqg .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#venszsjxqg .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#venszsjxqg .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#venszsjxqg .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#venszsjxqg .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#venszsjxqg .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#venszsjxqg .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#venszsjxqg .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#venszsjxqg .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#venszsjxqg .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#venszsjxqg .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#venszsjxqg .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#venszsjxqg .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#venszsjxqg .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#venszsjxqg .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#venszsjxqg .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#venszsjxqg .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#venszsjxqg .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#venszsjxqg .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#venszsjxqg .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#venszsjxqg .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#venszsjxqg .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#venszsjxqg .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#venszsjxqg .gt_left {\n  text-align: left;\n}\n\n#venszsjxqg .gt_center {\n  text-align: center;\n}\n\n#venszsjxqg .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#venszsjxqg .gt_font_normal {\n  font-weight: normal;\n}\n\n#venszsjxqg .gt_font_bold {\n  font-weight: bold;\n}\n\n#venszsjxqg .gt_font_italic {\n  font-style: italic;\n}\n\n#venszsjxqg .gt_super {\n  font-size: 65%;\n}\n\n#venszsjxqg .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#venszsjxqg .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#venszsjxqg .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#venszsjxqg .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#venszsjxqg .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#venszsjxqg .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#venszsjxqg .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">Borough</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">dissimilarity</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">Bronx</td>\n<td class=\"gt_row gt_right\">0.7107378</td></tr>\n    <tr><td class=\"gt_row gt_left\">Brooklyn</td>\n<td class=\"gt_row gt_right\">0.7731939</td></tr>\n    <tr><td class=\"gt_row gt_left\">Manhattan</td>\n<td class=\"gt_row gt_right\">0.7057447</td></tr>\n    <tr><td class=\"gt_row gt_left\">Queens</td>\n<td class=\"gt_row gt_right\">0.8146201</td></tr>\n    <tr><td class=\"gt_row gt_left\">Staten Island</td>\n<td class=\"gt_row gt_right\">0.7226401</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\nHow would you interpret these black-white dissimilarity values? Where is Black-White dissimilarity the highest within the region? Where is it the lowest?\n\n## Nonwhite-White Dissimilarity\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnyc_race |>\n  mutate(dissim_nww = abs((PoptotE-WhiteE) / (co_PoptotE-co_WhiteE) - WhiteE / co_WhiteE)) |> \n  group_by(Borough) |> \n  summarise(dissimilarity = .5*sum(dissim_nww)) |> \n  gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"pqxtygddgk\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#pqxtygddgk .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#pqxtygddgk .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#pqxtygddgk .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#pqxtygddgk .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#pqxtygddgk .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pqxtygddgk .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#pqxtygddgk .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#pqxtygddgk .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#pqxtygddgk .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#pqxtygddgk .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#pqxtygddgk .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#pqxtygddgk .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#pqxtygddgk .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#pqxtygddgk .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#pqxtygddgk .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#pqxtygddgk .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#pqxtygddgk .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pqxtygddgk .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#pqxtygddgk .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#pqxtygddgk .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pqxtygddgk .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#pqxtygddgk .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#pqxtygddgk .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pqxtygddgk .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pqxtygddgk .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#pqxtygddgk .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#pqxtygddgk .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pqxtygddgk .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#pqxtygddgk .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pqxtygddgk .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#pqxtygddgk .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pqxtygddgk .gt_left {\n  text-align: left;\n}\n\n#pqxtygddgk .gt_center {\n  text-align: center;\n}\n\n#pqxtygddgk .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#pqxtygddgk .gt_font_normal {\n  font-weight: normal;\n}\n\n#pqxtygddgk .gt_font_bold {\n  font-weight: bold;\n}\n\n#pqxtygddgk .gt_font_italic {\n  font-style: italic;\n}\n\n#pqxtygddgk .gt_super {\n  font-size: 65%;\n}\n\n#pqxtygddgk .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#pqxtygddgk .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#pqxtygddgk .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#pqxtygddgk .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#pqxtygddgk .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#pqxtygddgk .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#pqxtygddgk .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">Borough</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">dissimilarity</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">Bronx</td>\n<td class=\"gt_row gt_right\">0.6311840</td></tr>\n    <tr><td class=\"gt_row gt_left\">Brooklyn</td>\n<td class=\"gt_row gt_right\">0.5502573</td></tr>\n    <tr><td class=\"gt_row gt_left\">Manhattan</td>\n<td class=\"gt_row gt_right\">0.5144714</td></tr>\n    <tr><td class=\"gt_row gt_left\">Queens</td>\n<td class=\"gt_row gt_right\">0.5274621</td></tr>\n    <tr><td class=\"gt_row gt_left\">Staten Island</td>\n<td class=\"gt_row gt_right\">0.4167665</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\nCompare and contrast this with Black-White dissimilarity - what do you observe?\n\n## Latino-White Dissimilarity\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnyc_race  |> \n  mutate(dissim_lw = abs(HispanicE / co_HispanicE - WhiteE / co_WhiteE)) |> \n  group_by(Borough) |>  \n  summarise(dissimilarity = .5*sum(dissim_lw)) |> \n  gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"vkkmmwjeal\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#vkkmmwjeal .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#vkkmmwjeal .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vkkmmwjeal .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#vkkmmwjeal .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#vkkmmwjeal .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vkkmmwjeal .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vkkmmwjeal .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#vkkmmwjeal .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#vkkmmwjeal .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#vkkmmwjeal .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#vkkmmwjeal .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#vkkmmwjeal .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#vkkmmwjeal .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#vkkmmwjeal .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#vkkmmwjeal .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#vkkmmwjeal .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#vkkmmwjeal .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vkkmmwjeal .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#vkkmmwjeal .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#vkkmmwjeal .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vkkmmwjeal .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#vkkmmwjeal .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#vkkmmwjeal .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vkkmmwjeal .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vkkmmwjeal .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#vkkmmwjeal .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#vkkmmwjeal .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vkkmmwjeal .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vkkmmwjeal .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vkkmmwjeal .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vkkmmwjeal .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vkkmmwjeal .gt_left {\n  text-align: left;\n}\n\n#vkkmmwjeal .gt_center {\n  text-align: center;\n}\n\n#vkkmmwjeal .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#vkkmmwjeal .gt_font_normal {\n  font-weight: normal;\n}\n\n#vkkmmwjeal .gt_font_bold {\n  font-weight: bold;\n}\n\n#vkkmmwjeal .gt_font_italic {\n  font-style: italic;\n}\n\n#vkkmmwjeal .gt_super {\n  font-size: 65%;\n}\n\n#vkkmmwjeal .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#vkkmmwjeal .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#vkkmmwjeal .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#vkkmmwjeal .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#vkkmmwjeal .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#vkkmmwjeal .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#vkkmmwjeal .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">Borough</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">dissimilarity</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">Bronx</td>\n<td class=\"gt_row gt_right\">0.6244812</td></tr>\n    <tr><td class=\"gt_row gt_left\">Brooklyn</td>\n<td class=\"gt_row gt_right\">0.5451200</td></tr>\n    <tr><td class=\"gt_row gt_left\">Manhattan</td>\n<td class=\"gt_row gt_right\">0.6129532</td></tr>\n    <tr><td class=\"gt_row gt_left\">Queens</td>\n<td class=\"gt_row gt_right\">0.5070836</td></tr>\n    <tr><td class=\"gt_row gt_left\">Staten Island</td>\n<td class=\"gt_row gt_right\">0.4122438</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\nCompare and contrast this with Black-White dissimilarity - what do you observe?\n\n# Interaction\n\nA second common measure of segregation is *interaction* which is a measure of *exposure*. Interaction measures the likelihood of population subgroups interacting with one another based upon their distribution within areal sub units (tracts). For instance, Black-White interaction is calculated as follows:\n\n$Interaction = \\sum_i\\frac{b_i}{B}*\\frac{w_i}{t_i}$\n\nWhere\n\n$b_i$ is the Black population of tract *i*\n\n$B$ is the Black population of the county\n\n$w_i$ is the White population of tract *i*\n\n$t_i$ is the total population of tract *i*\n\nGiven that there are some similarities to the dissimilarity index, modify your existing code to measure Black White interaction for counties in the Chicago Metropolitan Area:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnyc_race |> \n  mutate(interaction_bw = ((BlackE / co_BlackE) * (WhiteE / PoptotE))) |> \n  group_by(Borough) |>  \n  summarise(interaction = sum(interaction_bw, na.rm=TRUE)) |> \n  gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"yftfoyfmwa\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#yftfoyfmwa .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#yftfoyfmwa .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#yftfoyfmwa .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#yftfoyfmwa .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#yftfoyfmwa .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#yftfoyfmwa .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#yftfoyfmwa .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#yftfoyfmwa .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#yftfoyfmwa .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#yftfoyfmwa .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#yftfoyfmwa .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#yftfoyfmwa .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#yftfoyfmwa .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#yftfoyfmwa .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#yftfoyfmwa .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#yftfoyfmwa .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#yftfoyfmwa .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yftfoyfmwa .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#yftfoyfmwa .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#yftfoyfmwa .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yftfoyfmwa .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#yftfoyfmwa .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#yftfoyfmwa .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#yftfoyfmwa .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yftfoyfmwa .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#yftfoyfmwa .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#yftfoyfmwa .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#yftfoyfmwa .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#yftfoyfmwa .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yftfoyfmwa .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#yftfoyfmwa .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#yftfoyfmwa .gt_left {\n  text-align: left;\n}\n\n#yftfoyfmwa .gt_center {\n  text-align: center;\n}\n\n#yftfoyfmwa .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#yftfoyfmwa .gt_font_normal {\n  font-weight: normal;\n}\n\n#yftfoyfmwa .gt_font_bold {\n  font-weight: bold;\n}\n\n#yftfoyfmwa .gt_font_italic {\n  font-style: italic;\n}\n\n#yftfoyfmwa .gt_super {\n  font-size: 65%;\n}\n\n#yftfoyfmwa .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#yftfoyfmwa .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#yftfoyfmwa .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#yftfoyfmwa .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#yftfoyfmwa .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#yftfoyfmwa .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#yftfoyfmwa .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">Borough</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">interaction</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">Bronx</td>\n<td class=\"gt_row gt_right\">0.04468322</td></tr>\n    <tr><td class=\"gt_row gt_left\">Brooklyn</td>\n<td class=\"gt_row gt_right\">0.13499725</td></tr>\n    <tr><td class=\"gt_row gt_left\">Manhattan</td>\n<td class=\"gt_row gt_right\">0.22647975</td></tr>\n    <tr><td class=\"gt_row gt_left\">Queens</td>\n<td class=\"gt_row gt_right\">0.07750034</td></tr>\n    <tr><td class=\"gt_row gt_left\">Staten Island</td>\n<td class=\"gt_row gt_right\">0.27902540</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\nThe output here is actually a *probability* that ranges from 0 to 1. A value closer to 1 indicates a higher probability of there being contact between these two population groups. A value closer to 0 indicates lower probabilities of contact.\n\nProvide your interpretation of Black-White Interaction for New York City boroughs.\n\n### Nonwhite-White Interaction\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnyc_race |> \n  mutate(interaction_bw = ((PoptotE-WhiteE) / (co_PoptotE-co_WhiteE) * WhiteE / PoptotE)) |>  \n  group_by(Borough) |>\n  summarise(interaction = sum(interaction_bw, na.rm=TRUE)) |> \n  gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"bpstdawutk\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#bpstdawutk .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#bpstdawutk .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#bpstdawutk .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#bpstdawutk .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#bpstdawutk .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bpstdawutk .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#bpstdawutk .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#bpstdawutk .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#bpstdawutk .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#bpstdawutk .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#bpstdawutk .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#bpstdawutk .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#bpstdawutk .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#bpstdawutk .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#bpstdawutk .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#bpstdawutk .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#bpstdawutk .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bpstdawutk .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#bpstdawutk .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#bpstdawutk .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bpstdawutk .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#bpstdawutk .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#bpstdawutk .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bpstdawutk .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bpstdawutk .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#bpstdawutk .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#bpstdawutk .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bpstdawutk .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#bpstdawutk .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bpstdawutk .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#bpstdawutk .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bpstdawutk .gt_left {\n  text-align: left;\n}\n\n#bpstdawutk .gt_center {\n  text-align: center;\n}\n\n#bpstdawutk .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#bpstdawutk .gt_font_normal {\n  font-weight: normal;\n}\n\n#bpstdawutk .gt_font_bold {\n  font-weight: bold;\n}\n\n#bpstdawutk .gt_font_italic {\n  font-style: italic;\n}\n\n#bpstdawutk .gt_super {\n  font-size: 65%;\n}\n\n#bpstdawutk .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#bpstdawutk .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#bpstdawutk .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#bpstdawutk .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#bpstdawutk .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#bpstdawutk .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#bpstdawutk .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">Borough</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">interaction</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">Bronx</td>\n<td class=\"gt_row gt_right\">0.0630752</td></tr>\n    <tr><td class=\"gt_row gt_left\">Brooklyn</td>\n<td class=\"gt_row gt_right\">0.2310775</td></tr>\n    <tr><td class=\"gt_row gt_left\">Manhattan</td>\n<td class=\"gt_row gt_right\">0.3196593</td></tr>\n    <tr><td class=\"gt_row gt_left\">Queens</td>\n<td class=\"gt_row gt_right\">0.1771489</td></tr>\n    <tr><td class=\"gt_row gt_left\">Staten Island</td>\n<td class=\"gt_row gt_right\">0.4523662</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n### Latino-White Interaction\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnyc_race |> \n  mutate(interaction_bw = (HispanicE / co_HispanicE * WhiteE / PoptotE)) |>  \n  group_by(Borough) |>\n  summarise(interaction = sum(interaction_bw, na.rm=TRUE)) |> \n  gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"sbomukbrdz\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#sbomukbrdz .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#sbomukbrdz .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#sbomukbrdz .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#sbomukbrdz .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#sbomukbrdz .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#sbomukbrdz .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#sbomukbrdz .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#sbomukbrdz .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#sbomukbrdz .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#sbomukbrdz .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#sbomukbrdz .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#sbomukbrdz .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#sbomukbrdz .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#sbomukbrdz .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#sbomukbrdz .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#sbomukbrdz .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#sbomukbrdz .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sbomukbrdz .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#sbomukbrdz .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#sbomukbrdz .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sbomukbrdz .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#sbomukbrdz .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#sbomukbrdz .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#sbomukbrdz .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sbomukbrdz .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#sbomukbrdz .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#sbomukbrdz .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#sbomukbrdz .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#sbomukbrdz .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sbomukbrdz .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#sbomukbrdz .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sbomukbrdz .gt_left {\n  text-align: left;\n}\n\n#sbomukbrdz .gt_center {\n  text-align: center;\n}\n\n#sbomukbrdz .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#sbomukbrdz .gt_font_normal {\n  font-weight: normal;\n}\n\n#sbomukbrdz .gt_font_bold {\n  font-weight: bold;\n}\n\n#sbomukbrdz .gt_font_italic {\n  font-style: italic;\n}\n\n#sbomukbrdz .gt_super {\n  font-size: 65%;\n}\n\n#sbomukbrdz .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#sbomukbrdz .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#sbomukbrdz .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#sbomukbrdz .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#sbomukbrdz .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#sbomukbrdz .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#sbomukbrdz .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">Borough</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">interaction</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">Bronx</td>\n<td class=\"gt_row gt_right\">0.06632347</td></tr>\n    <tr><td class=\"gt_row gt_left\">Brooklyn</td>\n<td class=\"gt_row gt_right\">0.26564666</td></tr>\n    <tr><td class=\"gt_row gt_left\">Manhattan</td>\n<td class=\"gt_row gt_right\">0.27182625</td></tr>\n    <tr><td class=\"gt_row gt_left\">Queens</td>\n<td class=\"gt_row gt_right\">0.20714070</td></tr>\n    <tr><td class=\"gt_row gt_left\">Staten Island</td>\n<td class=\"gt_row gt_right\">0.46687669</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\nHow would you interpret Black-White, Non-White White, and Latino-White interaction jointly?\n\n# Isolation\n\nThe final measure of racial segregation we'll look at in this lab is *isolation* which is only measured for one group at a time. Isolation measures the likelihood of contact for a subgroup with other subgroup members. It is interpreted similarly to Interaction (as a probability ranging from 0 to 1):\n\nIsolation for Blacks\n\n$Isolation = \\sum_i\\frac{b_i}{B}*\\frac{b_i}{t_i}$\n\nWhere\n\n$b_i$ is the Black population of tract *i*\n\n$B$ is the Black population of the county\n\n$t_i$ is the total population of tract *i*\n\n### Black Isolation\n\nLet's calculate Black Isolation:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnyc_race  |>\n  mutate(interaction_bw = (BlackE / co_BlackE * BlackE / PoptotE)) |>  \n  group_by(Borough) |>  \n  summarise(interaction = sum(interaction_bw, na.rm=TRUE)) |> \n  gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"hqaqbfhhfg\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#hqaqbfhhfg .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#hqaqbfhhfg .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#hqaqbfhhfg .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#hqaqbfhhfg .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#hqaqbfhhfg .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hqaqbfhhfg .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#hqaqbfhhfg .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#hqaqbfhhfg .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#hqaqbfhhfg .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#hqaqbfhhfg .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#hqaqbfhhfg .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#hqaqbfhhfg .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#hqaqbfhhfg .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#hqaqbfhhfg .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#hqaqbfhhfg .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#hqaqbfhhfg .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#hqaqbfhhfg .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hqaqbfhhfg .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#hqaqbfhhfg .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#hqaqbfhhfg .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hqaqbfhhfg .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#hqaqbfhhfg .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#hqaqbfhhfg .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hqaqbfhhfg .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hqaqbfhhfg .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#hqaqbfhhfg .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#hqaqbfhhfg .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hqaqbfhhfg .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#hqaqbfhhfg .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hqaqbfhhfg .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#hqaqbfhhfg .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hqaqbfhhfg .gt_left {\n  text-align: left;\n}\n\n#hqaqbfhhfg .gt_center {\n  text-align: center;\n}\n\n#hqaqbfhhfg .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#hqaqbfhhfg .gt_font_normal {\n  font-weight: normal;\n}\n\n#hqaqbfhhfg .gt_font_bold {\n  font-weight: bold;\n}\n\n#hqaqbfhhfg .gt_font_italic {\n  font-style: italic;\n}\n\n#hqaqbfhhfg .gt_super {\n  font-size: 65%;\n}\n\n#hqaqbfhhfg .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#hqaqbfhhfg .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#hqaqbfhhfg .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#hqaqbfhhfg .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#hqaqbfhhfg .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#hqaqbfhhfg .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#hqaqbfhhfg .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">Borough</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">interaction</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">Bronx</td>\n<td class=\"gt_row gt_right\">0.4180943</td></tr>\n    <tr><td class=\"gt_row gt_left\">Brooklyn</td>\n<td class=\"gt_row gt_right\">0.6295217</td></tr>\n    <tr><td class=\"gt_row gt_left\">Manhattan</td>\n<td class=\"gt_row gt_right\">0.3457500</td></tr>\n    <tr><td class=\"gt_row gt_left\">Queens</td>\n<td class=\"gt_row gt_right\">0.5888139</td></tr>\n    <tr><td class=\"gt_row gt_left\">Staten Island</td>\n<td class=\"gt_row gt_right\">0.3198306</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\nYou know what comes next. Let's calculate Nonwhite Isolation and Latino Isolation and interpret what you see.\n\n## Nonwhite Isolation\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnyc_race |> \n  mutate(interaction_bw = ((PoptotE - WhiteE) / (co_PoptotE - co_WhiteE) * (PoptotE-WhiteE) / PoptotE)) |> \n  group_by(Borough) |> \n  summarise(interaction = sum(interaction_bw, na.rm=TRUE)) |> \n  gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"nakxzmvidw\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#nakxzmvidw .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#nakxzmvidw .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#nakxzmvidw .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#nakxzmvidw .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#nakxzmvidw .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nakxzmvidw .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#nakxzmvidw .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#nakxzmvidw .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#nakxzmvidw .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#nakxzmvidw .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#nakxzmvidw .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#nakxzmvidw .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#nakxzmvidw .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#nakxzmvidw .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#nakxzmvidw .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#nakxzmvidw .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#nakxzmvidw .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nakxzmvidw .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#nakxzmvidw .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#nakxzmvidw .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nakxzmvidw .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#nakxzmvidw .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#nakxzmvidw .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nakxzmvidw .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nakxzmvidw .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#nakxzmvidw .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#nakxzmvidw .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nakxzmvidw .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#nakxzmvidw .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nakxzmvidw .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#nakxzmvidw .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nakxzmvidw .gt_left {\n  text-align: left;\n}\n\n#nakxzmvidw .gt_center {\n  text-align: center;\n}\n\n#nakxzmvidw .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#nakxzmvidw .gt_font_normal {\n  font-weight: normal;\n}\n\n#nakxzmvidw .gt_font_bold {\n  font-weight: bold;\n}\n\n#nakxzmvidw .gt_font_italic {\n  font-style: italic;\n}\n\n#nakxzmvidw .gt_super {\n  font-size: 65%;\n}\n\n#nakxzmvidw .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#nakxzmvidw .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#nakxzmvidw .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#nakxzmvidw .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#nakxzmvidw .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#nakxzmvidw .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#nakxzmvidw .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">Borough</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">interaction</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">Bronx</td>\n<td class=\"gt_row gt_right\">0.9369248</td></tr>\n    <tr><td class=\"gt_row gt_left\">Brooklyn</td>\n<td class=\"gt_row gt_right\">0.7689225</td></tr>\n    <tr><td class=\"gt_row gt_left\">Manhattan</td>\n<td class=\"gt_row gt_right\">0.6803407</td></tr>\n    <tr><td class=\"gt_row gt_left\">Queens</td>\n<td class=\"gt_row gt_right\">0.8228511</td></tr>\n    <tr><td class=\"gt_row gt_left\">Staten Island</td>\n<td class=\"gt_row gt_right\">0.5476338</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\n## Latino Isolation\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnyc_race |> \n  mutate(interaction_bw = (HispanicE / co_HispanicE * HispanicE / PoptotE)) |>  \n  group_by(Borough) |>\n  summarise(interaction = sum(interaction_bw, na.rm=TRUE)) |> \n  gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"higsqamqfe\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#higsqamqfe .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#higsqamqfe .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#higsqamqfe .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#higsqamqfe .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#higsqamqfe .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#higsqamqfe .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#higsqamqfe .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#higsqamqfe .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#higsqamqfe .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#higsqamqfe .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#higsqamqfe .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#higsqamqfe .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#higsqamqfe .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#higsqamqfe .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#higsqamqfe .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#higsqamqfe .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#higsqamqfe .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#higsqamqfe .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#higsqamqfe .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#higsqamqfe .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#higsqamqfe .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#higsqamqfe .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#higsqamqfe .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#higsqamqfe .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#higsqamqfe .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#higsqamqfe .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#higsqamqfe .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#higsqamqfe .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#higsqamqfe .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#higsqamqfe .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#higsqamqfe .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#higsqamqfe .gt_left {\n  text-align: left;\n}\n\n#higsqamqfe .gt_center {\n  text-align: center;\n}\n\n#higsqamqfe .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#higsqamqfe .gt_font_normal {\n  font-weight: normal;\n}\n\n#higsqamqfe .gt_font_bold {\n  font-weight: bold;\n}\n\n#higsqamqfe .gt_font_italic {\n  font-style: italic;\n}\n\n#higsqamqfe .gt_super {\n  font-size: 65%;\n}\n\n#higsqamqfe .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#higsqamqfe .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#higsqamqfe .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#higsqamqfe .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#higsqamqfe .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#higsqamqfe .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#higsqamqfe .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">Borough</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">interaction</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">Bronx</td>\n<td class=\"gt_row gt_right\">0.6313472</td></tr>\n    <tr><td class=\"gt_row gt_left\">Brooklyn</td>\n<td class=\"gt_row gt_right\">0.3350622</td></tr>\n    <tr><td class=\"gt_row gt_left\">Manhattan</td>\n<td class=\"gt_row gt_right\">0.4678842</td></tr>\n    <tr><td class=\"gt_row gt_left\">Queens</td>\n<td class=\"gt_row gt_right\">0.4283512</td></tr>\n    <tr><td class=\"gt_row gt_left\">Staten Island</td>\n<td class=\"gt_row gt_right\">0.2666154</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\nProvide your interpretation of how isolation differs for these groups and for each borough.\n\n# Income Inequality\n\nWhile we're at it, let's also pay attention to segregation on the basis of income. A simple measure of income inequality and distribution is to calculate the difference in median income between the county and the census tracts that make up the county.\n\nWe have all of our census tract geographic data, but need to go back to census data to download tract and county median household income data (this is not a place to take the average or weighted average of the tract-level data). Let's download and prepare these as a new dataset. Median household income is contained in ACS table [B19013](https://data.census.gov/cedsci/table?q=B19013&tid=ACSDT1Y2019.B19013):\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndl_vars <- c(\n  MHHI = \"B19013_001\")\n\n# Our tidycensus download call:\n\nnyc_income <- get_acs(\n  geography = \"tract\",\n  state = \"NY\",\n  county = c(\"Bronx\", \"Kings\", \"New York\", \"Queens\", \"Richmond\"),\n  variables = dl_vars,\n  year = 2020,\n  output = \"wide\"\n) \n\ndl_vars <- c(\n  co_MHHI = \"B19013_001\")\n\nnyc_income_co <- get_acs(\n  geography = \"county\",\n  state = \"NY\",\n  county = c(\"Bronx\", \"Kings\", \"New York\", \"Queens\", \"Richmond\"),\n  variables = dl_vars,\n  year = 2020,\n  output = \"wide\"\n) \n\nnyc_income |> \n  slice_head(n = 5) |> \n  gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"sdhgwwxctw\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#sdhgwwxctw .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#sdhgwwxctw .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#sdhgwwxctw .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#sdhgwwxctw .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#sdhgwwxctw .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#sdhgwwxctw .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#sdhgwwxctw .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#sdhgwwxctw .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#sdhgwwxctw .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#sdhgwwxctw .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#sdhgwwxctw .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#sdhgwwxctw .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#sdhgwwxctw .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#sdhgwwxctw .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#sdhgwwxctw .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#sdhgwwxctw .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#sdhgwwxctw .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sdhgwwxctw .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#sdhgwwxctw .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#sdhgwwxctw .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sdhgwwxctw .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#sdhgwwxctw .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#sdhgwwxctw .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#sdhgwwxctw .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sdhgwwxctw .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#sdhgwwxctw .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#sdhgwwxctw .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#sdhgwwxctw .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#sdhgwwxctw .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sdhgwwxctw .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#sdhgwwxctw .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sdhgwwxctw .gt_left {\n  text-align: left;\n}\n\n#sdhgwwxctw .gt_center {\n  text-align: center;\n}\n\n#sdhgwwxctw .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#sdhgwwxctw .gt_font_normal {\n  font-weight: normal;\n}\n\n#sdhgwwxctw .gt_font_bold {\n  font-weight: bold;\n}\n\n#sdhgwwxctw .gt_font_italic {\n  font-style: italic;\n}\n\n#sdhgwwxctw .gt_super {\n  font-size: 65%;\n}\n\n#sdhgwwxctw .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#sdhgwwxctw .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#sdhgwwxctw .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#sdhgwwxctw .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#sdhgwwxctw .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#sdhgwwxctw .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#sdhgwwxctw .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">GEOID</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">NAME</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">MHHIE</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">MHHIM</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_right\">36047009202</td>\n<td class=\"gt_row gt_left\">Census Tract 92.02, Kings County, New York</td>\n<td class=\"gt_row gt_right\">41563</td>\n<td class=\"gt_row gt_right\">18846</td></tr>\n    <tr><td class=\"gt_row gt_right\">36047009401</td>\n<td class=\"gt_row gt_left\">Census Tract 94.01, Kings County, New York</td>\n<td class=\"gt_row gt_right\">51346</td>\n<td class=\"gt_row gt_right\">13554</td></tr>\n    <tr><td class=\"gt_row gt_right\">36047009402</td>\n<td class=\"gt_row gt_left\">Census Tract 94.02, Kings County, New York</td>\n<td class=\"gt_row gt_right\">58750</td>\n<td class=\"gt_row gt_right\">10259</td></tr>\n    <tr><td class=\"gt_row gt_right\">36047009600</td>\n<td class=\"gt_row gt_left\">Census Tract 96, Kings County, New York</td>\n<td class=\"gt_row gt_right\">62614</td>\n<td class=\"gt_row gt_right\">13004</td></tr>\n    <tr><td class=\"gt_row gt_right\">36047009800</td>\n<td class=\"gt_row gt_left\">Census Tract 98, Kings County, New York</td>\n<td class=\"gt_row gt_right\">56229</td>\n<td class=\"gt_row gt_right\">7251</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\nLet's also take a look at our county income table:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnyc_income_co |> \n  slice_head(n=5) |> \n  gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"jkcvuggvvt\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#jkcvuggvvt .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#jkcvuggvvt .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#jkcvuggvvt .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#jkcvuggvvt .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#jkcvuggvvt .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jkcvuggvvt .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#jkcvuggvvt .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#jkcvuggvvt .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#jkcvuggvvt .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#jkcvuggvvt .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#jkcvuggvvt .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#jkcvuggvvt .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#jkcvuggvvt .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#jkcvuggvvt .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#jkcvuggvvt .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#jkcvuggvvt .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#jkcvuggvvt .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jkcvuggvvt .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#jkcvuggvvt .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#jkcvuggvvt .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jkcvuggvvt .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#jkcvuggvvt .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#jkcvuggvvt .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jkcvuggvvt .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jkcvuggvvt .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#jkcvuggvvt .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#jkcvuggvvt .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jkcvuggvvt .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#jkcvuggvvt .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jkcvuggvvt .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#jkcvuggvvt .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jkcvuggvvt .gt_left {\n  text-align: left;\n}\n\n#jkcvuggvvt .gt_center {\n  text-align: center;\n}\n\n#jkcvuggvvt .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#jkcvuggvvt .gt_font_normal {\n  font-weight: normal;\n}\n\n#jkcvuggvvt .gt_font_bold {\n  font-weight: bold;\n}\n\n#jkcvuggvvt .gt_font_italic {\n  font-style: italic;\n}\n\n#jkcvuggvvt .gt_super {\n  font-size: 65%;\n}\n\n#jkcvuggvvt .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#jkcvuggvvt .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#jkcvuggvvt .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#jkcvuggvvt .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#jkcvuggvvt .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#jkcvuggvvt .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#jkcvuggvvt .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">GEOID</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\">NAME</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">co_MHHIE</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\">co_MHHIM</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_right\">36061</td>\n<td class=\"gt_row gt_left\">New York County, New York</td>\n<td class=\"gt_row gt_right\">89812</td>\n<td class=\"gt_row gt_right\">1681</td></tr>\n    <tr><td class=\"gt_row gt_right\">36085</td>\n<td class=\"gt_row gt_left\">Richmond County, New York</td>\n<td class=\"gt_row gt_right\">85381</td>\n<td class=\"gt_row gt_right\">2396</td></tr>\n    <tr><td class=\"gt_row gt_right\">36005</td>\n<td class=\"gt_row gt_left\">Bronx County, New York</td>\n<td class=\"gt_row gt_right\">41895</td>\n<td class=\"gt_row gt_right\">624</td></tr>\n    <tr><td class=\"gt_row gt_right\">36047</td>\n<td class=\"gt_row gt_left\">Kings County, New York</td>\n<td class=\"gt_row gt_right\">63973</td>\n<td class=\"gt_row gt_right\">679</td></tr>\n    <tr><td class=\"gt_row gt_right\">36081</td>\n<td class=\"gt_row gt_left\">Queens County, New York</td>\n<td class=\"gt_row gt_right\">72028</td>\n<td class=\"gt_row gt_right\">691</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\nAnd now let's join the two together (again creating our state and county FIPS codes from our combined state, county, and tract FIPS codes):\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnyc_income = left_join(nyc_income |> mutate(STCO = substr(GEOID, 0, 5)), nyc_income_co, by=c(\"STCO\" = \"GEOID\"))\n```\n:::\n\n\nNow we can calculate the ratio of income for our census tract to that of the county:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnyc_income <-nyc_income |> \n  mutate(inc_ratio = MHHIE / co_MHHIE)\n```\n:::\n\n\nNow let's map out this income ratio statistic for New York City tracts:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnyc_income <- left_join(nyc_income, nyc_trt, by=\"GEOID\") |> st_as_sf()\n\nggplot()+\n  geom_sf(data=nyc_income, aes(fill=inc_ratio), colour = NA)+\n    labs(title = \"New York City Boroigh Income Ratio\", fill = \"Income Ratio\")+\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](07_segregation_files/figure-html/unnamed-chunk-23-1.png){width=672}\n:::\n:::\n\n\nWhat would a ratio of 1 indicate? What would a ratio of 3 indicate? Where do we see big differences?\n\nWhile we're at it, it might be interesting to create a scatter plot that illustrates the relationship between racial concentration and income. To do this, we'll need to join together our two datasets.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnyc_dataset <- left_join(nyc_race, nyc_income |> st_set_geometry(NULL)|> select(GEOID, MHHIE, MHHIM, co_MHHIE, co_MHHIM, inc_ratio), by=\"GEOID\")\n```\n:::\n\n\nLet's plot the Percent White on the X axis and the income ratio on the y axis using geom_point):\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot()+\n  geom_point(data=nyc_dataset, aes(x=(WhiteE/PoptotE), y=inc_ratio), cex = .5, alpha = .2) +\n  labs(title = \"My Cool Plot\", x = \"Percent White\", y = \"Income Ratio\") +\n  scale_x_continuous(labels = scales::percent)+\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](07_segregation_files/figure-html/unnamed-chunk-25-1.png){width=672}\n:::\n:::\n\n\nHow would you describe this relationship?\n\nNow see if you can add a linear line of best fit to these data using geom_smooth (you'll need to set `method = lm` to get a fitted linear model):\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot()+\n  geom_point(data=nyc_dataset, aes(x=(WhiteE/PoptotE), y=inc_ratio), cex = .5, alpha = .2) +\n  geom_smooth(data=nyc_dataset, method = \"lm\", aes(x=(WhiteE/PoptotE), y=inc_ratio), alpha = .5)+\n  labs(title = \"Tract Income Ratio by White Population\", x = \"Percent White\", y = \"Income Ratio\") +\n  scale_x_continuous(labels = scales::percent)+\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](07_segregation_files/figure-html/unnamed-chunk-26-1.png){width=672}\n:::\n:::\n\n\nWhat's the relationship between the percent white population and the income ratio?\n\nWhat would it look like to split this out by boroughs using facets?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot()+\n  geom_point(data=nyc_dataset, aes(x=(WhiteE/PoptotE), y=inc_ratio), cex = .5, alpha = .2) +\n  geom_smooth(data=nyc_dataset, method = \"lm\", aes(x=(WhiteE/PoptotE), y=inc_ratio), alpha = .5)+\n  labs(title = \"Tract Income Ratio by White Population\", x = \"Percent White\", y = \"Income Ratio\") +\n  scale_x_continuous(labels = scales::percent)+\n  theme_minimal()+\n  facet_wrap(~Borough)\n```\n\n::: {.cell-output-display}\n![](07_segregation_files/figure-html/unnamed-chunk-27-1.png){width=672}\n:::\n:::\n\n\nHow would you describe the differences observed by boroughs?\n\nCongratulations, you have learned some ways to calculate common measures of segregation, and have applied these measures as part of a data pipeline.\n\nBy changing your download calls at the very beginning of this lab where you download ACS data, you could easily create segregation measures for other places (note that you would have to re-label some elements where we indicate boroughs which are counties within New York City).\n\n# Extending this Analysis\n\nNow that you have some new tools that you are familiar with, start exploring these data more. Make maps for other racial groups. Explore dimensions of segregation for other groups.\n\n1.  Can you produce the data which would populate a summary table of minority-majority dissimilarity? Which groups face the highest levels of segregation?\n\n2.  How does income relate to levels of segregation? Think about how you might use the median household income statistic to explore the relationship.\n\n3.  What are other forms of segregation that might be useful to explore (aside from racial and income segregation)?\n\n## Lab Evaluation\n\nIn evaluating your lab submission, we'll be paying attention to the following:\n\n1.  Proper use of tigris tidycensus to download tabular and spatial data from the census bureau.\n2.  Production of clearly-labelled and well-formatted tables.\n3.  Production of well-formatted maps of income inequality.\n4.  Detailed reflection and diagnosis using measure of segregation.\n\nAs you get into the lab, please feel welcome to ask us questions, and please share where you're struggling with us and with others in the class.\n\n## References\n",
    "supporting": [
      "07_segregation_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}